(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Lf={exports:{}},Er={};var g0;function uS(){if(g0)return Er;g0=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:a,type:s,key:c,ref:r!==void 0?r:null,props:o}}return Er.Fragment=t,Er.jsx=n,Er.jsxs=n,Er}var _0;function cS(){return _0||(_0=1,Lf.exports=uS()),Lf.exports}var gs=cS(),zf={exports:{}},yt={};var m0;function hS(){if(m0)return yt;m0=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),E=Symbol.iterator;function S(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function w(b,M,W){this.props=b,this.context=M,this.refs=C,this.updater=W||x}w.prototype.isReactComponent={},w.prototype.setState=function(b,M){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,M,"setState")},w.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function z(){}z.prototype=w.prototype;function U(b,M,W){this.props=b,this.context=M,this.refs=C,this.updater=W||x}var D=U.prototype=new z;D.constructor=U,R(D,w.prototype),D.isPureReactComponent=!0;var G=Array.isArray;function K(){}var B={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function V(b,M,W){var Q=W.ref;return{$$typeof:a,type:b,key:M,ref:Q!==void 0?Q:null,props:W}}function J(b,M){return V(b.type,M,b.props)}function rt(b){return typeof b=="object"&&b!==null&&b.$$typeof===a}function $(b){var M={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(W){return M[W]})}var tt=/\/+/g;function nt(b,M){return typeof b=="object"&&b!==null&&b.key!=null?$(""+b.key):M.toString(36)}function ht(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(K,K):(b.status="pending",b.then(function(M){b.status==="pending"&&(b.status="fulfilled",b.value=M)},function(M){b.status==="pending"&&(b.status="rejected",b.reason=M)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function L(b,M,W,Q,st){var ft=typeof b;(ft==="undefined"||ft==="boolean")&&(b=null);var gt=!1;if(b===null)gt=!0;else switch(ft){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(b.$$typeof){case a:case t:gt=!0;break;case m:return gt=b._init,L(gt(b._payload),M,W,Q,st)}}if(gt)return st=st(b),gt=Q===""?"."+nt(b,0):Q,G(st)?(W="",gt!=null&&(W=gt.replace(tt,"$&/")+"/"),L(st,M,W,"",function(ue){return ue})):st!=null&&(rt(st)&&(st=J(st,W+(st.key==null||b&&b.key===st.key?"":(""+st.key).replace(tt,"$&/")+"/")+gt)),M.push(st)),1;gt=0;var Zt=Q===""?".":Q+":";if(G(b))for(var Ot=0;Ot<b.length;Ot++)Q=b[Ot],ft=Zt+nt(Q,Ot),gt+=L(Q,M,W,ft,st);else if(Ot=S(b),typeof Ot=="function")for(b=Ot.call(b),Ot=0;!(Q=b.next()).done;)Q=Q.value,ft=Zt+nt(Q,Ot++),gt+=L(Q,M,W,ft,st);else if(ft==="object"){if(typeof b.then=="function")return L(ht(b),M,W,Q,st);throw M=String(b),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return gt}function P(b,M,W){if(b==null)return b;var Q=[],st=0;return L(b,Q,"","",function(ft){return M.call(W,ft,st++)}),Q}function q(b){if(b._status===-1){var M=b._result;M=M(),M.then(function(W){(b._status===0||b._status===-1)&&(b._status=1,b._result=W)},function(W){(b._status===0||b._status===-1)&&(b._status=2,b._result=W)}),b._status===-1&&(b._status=0,b._result=M)}if(b._status===1)return b._result.default;throw b._result}var et=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},lt={map:P,forEach:function(b,M,W){P(b,function(){M.apply(this,arguments)},W)},count:function(b){var M=0;return P(b,function(){M++}),M},toArray:function(b){return P(b,function(M){return M})||[]},only:function(b){if(!rt(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return yt.Activity=y,yt.Children=lt,yt.Component=w,yt.Fragment=n,yt.Profiler=r,yt.PureComponent=U,yt.StrictMode=s,yt.Suspense=d,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,yt.__COMPILER_RUNTIME={__proto__:null,c:function(b){return B.H.useMemoCache(b)}},yt.cache=function(b){return function(){return b.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(b,M,W){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var Q=R({},b.props),st=b.key;if(M!=null)for(ft in M.key!==void 0&&(st=""+M.key),M)!k.call(M,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&M.ref===void 0||(Q[ft]=M[ft]);var ft=arguments.length-2;if(ft===1)Q.children=W;else if(1<ft){for(var gt=Array(ft),Zt=0;Zt<ft;Zt++)gt[Zt]=arguments[Zt+2];Q.children=gt}return V(b.type,st,Q)},yt.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:o,_context:b},b},yt.createElement=function(b,M,W){var Q,st={},ft=null;if(M!=null)for(Q in M.key!==void 0&&(ft=""+M.key),M)k.call(M,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(st[Q]=M[Q]);var gt=arguments.length-2;if(gt===1)st.children=W;else if(1<gt){for(var Zt=Array(gt),Ot=0;Ot<gt;Ot++)Zt[Ot]=arguments[Ot+2];st.children=Zt}if(b&&b.defaultProps)for(Q in gt=b.defaultProps,gt)st[Q]===void 0&&(st[Q]=gt[Q]);return V(b,ft,st)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(b){return{$$typeof:h,render:b}},yt.isValidElement=rt,yt.lazy=function(b){return{$$typeof:m,_payload:{_status:-1,_result:b},_init:q}},yt.memo=function(b,M){return{$$typeof:_,type:b,compare:M===void 0?null:M}},yt.startTransition=function(b){var M=B.T,W={};B.T=W;try{var Q=b(),st=B.S;st!==null&&st(W,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(K,et)}catch(ft){et(ft)}finally{M!==null&&W.types!==null&&(M.types=W.types),B.T=M}},yt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},yt.use=function(b){return B.H.use(b)},yt.useActionState=function(b,M,W){return B.H.useActionState(b,M,W)},yt.useCallback=function(b,M){return B.H.useCallback(b,M)},yt.useContext=function(b){return B.H.useContext(b)},yt.useDebugValue=function(){},yt.useDeferredValue=function(b,M){return B.H.useDeferredValue(b,M)},yt.useEffect=function(b,M){return B.H.useEffect(b,M)},yt.useEffectEvent=function(b){return B.H.useEffectEvent(b)},yt.useId=function(){return B.H.useId()},yt.useImperativeHandle=function(b,M,W){return B.H.useImperativeHandle(b,M,W)},yt.useInsertionEffect=function(b,M){return B.H.useInsertionEffect(b,M)},yt.useLayoutEffect=function(b,M){return B.H.useLayoutEffect(b,M)},yt.useMemo=function(b,M){return B.H.useMemo(b,M)},yt.useOptimistic=function(b,M){return B.H.useOptimistic(b,M)},yt.useReducer=function(b,M,W){return B.H.useReducer(b,M,W)},yt.useRef=function(b){return B.H.useRef(b)},yt.useState=function(b){return B.H.useState(b)},yt.useSyncExternalStore=function(b,M,W){return B.H.useSyncExternalStore(b,M,W)},yt.useTransition=function(){return B.H.useTransition()},yt.version="19.2.4",yt}var y0;function Dd(){return y0||(y0=1,zf.exports=hS()),zf.exports}var br=Dd(),If={exports:{}},vr={},Nf={exports:{}},Gf={};var p0;function fS(){return p0||(p0=1,(function(a){function t(L,P){var q=L.length;L.push(P);t:for(;0<q;){var et=q-1>>>1,lt=L[et];if(0<r(lt,P))L[et]=P,L[q]=lt,q=et;else break t}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var P=L[0],q=L.pop();if(q!==P){L[0]=q;t:for(var et=0,lt=L.length,b=lt>>>1;et<b;){var M=2*(et+1)-1,W=L[M],Q=M+1,st=L[Q];if(0>r(W,q))Q<lt&&0>r(st,W)?(L[et]=st,L[Q]=q,et=Q):(L[et]=W,L[M]=q,et=M);else if(Q<lt&&0>r(st,q))L[et]=st,L[Q]=q,et=Q;else break t}}return P}function r(L,P){var q=L.sortIndex-P.sortIndex;return q!==0?q:L.id-P.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();a.unstable_now=function(){return c.now()-h}}var d=[],_=[],m=1,y=null,E=3,S=!1,x=!1,R=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function D(L){for(var P=n(_);P!==null;){if(P.callback===null)s(_);else if(P.startTime<=L)s(_),P.sortIndex=P.expirationTime,t(d,P);else break;P=n(_)}}function G(L){if(R=!1,D(L),!x)if(n(d)!==null)x=!0,K||(K=!0,$());else{var P=n(_);P!==null&&ht(G,P.startTime-L)}}var K=!1,B=-1,k=5,V=-1;function J(){return C?!0:!(a.unstable_now()-V<k)}function rt(){if(C=!1,K){var L=a.unstable_now();V=L;var P=!0;try{t:{x=!1,R&&(R=!1,z(B),B=-1),S=!0;var q=E;try{e:{for(D(L),y=n(d);y!==null&&!(y.expirationTime>L&&J());){var et=y.callback;if(typeof et=="function"){y.callback=null,E=y.priorityLevel;var lt=et(y.expirationTime<=L);if(L=a.unstable_now(),typeof lt=="function"){y.callback=lt,D(L),P=!0;break e}y===n(d)&&s(d),D(L)}else s(d);y=n(d)}if(y!==null)P=!0;else{var b=n(_);b!==null&&ht(G,b.startTime-L),P=!1}}break t}finally{y=null,E=q,S=!1}P=void 0}}finally{P?$():K=!1}}}var $;if(typeof U=="function")$=function(){U(rt)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,nt=tt.port2;tt.port1.onmessage=rt,$=function(){nt.postMessage(null)}}else $=function(){w(rt,0)};function ht(L,P){B=w(function(){L(a.unstable_now())},P)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(L){L.callback=null},a.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(L){switch(E){case 1:case 2:case 3:var P=3;break;default:P=E}var q=E;E=P;try{return L()}finally{E=q}},a.unstable_requestPaint=function(){C=!0},a.unstable_runWithPriority=function(L,P){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var q=E;E=L;try{return P()}finally{E=q}},a.unstable_scheduleCallback=function(L,P,q){var et=a.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?et+q:et):q=et,L){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=q+lt,L={id:m++,callback:P,priorityLevel:L,startTime:q,expirationTime:lt,sortIndex:-1},q>et?(L.sortIndex=q,t(_,L),n(d)===null&&L===n(_)&&(R?(z(B),B=-1):R=!0,ht(G,q-et))):(L.sortIndex=lt,t(d,L),x||S||(x=!0,K||(K=!0,$()))),L},a.unstable_shouldYield=J,a.unstable_wrapCallback=function(L){var P=E;return function(){var q=E;E=P;try{return L.apply(this,arguments)}finally{E=q}}}})(Gf)),Gf}var E0;function dS(){return E0||(E0=1,Nf.exports=fS()),Nf.exports}var Ff={exports:{}},Oe={};var v0;function gS(){if(v0)return Oe;v0=1;var a=Dd();function t(d){var _="https://react.dev/errors/"+d;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)_+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,_,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:_,implementation:m}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,_){if(d==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Oe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Oe.createPortal=function(d,_){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return o(d,_,null,m)},Oe.flushSync=function(d){var _=c.T,m=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=_,s.p=m,s.d.f()}},Oe.preconnect=function(d,_){typeof d=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(d,_))},Oe.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Oe.preinit=function(d,_){if(typeof d=="string"&&_&&typeof _.as=="string"){var m=_.as,y=h(m,_.crossOrigin),E=typeof _.integrity=="string"?_.integrity:void 0,S=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;m==="style"?s.d.S(d,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:S}):m==="script"&&s.d.X(d,{crossOrigin:y,integrity:E,fetchPriority:S,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Oe.preinitModule=function(d,_){if(typeof d=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var m=h(_.as,_.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(d)},Oe.preload=function(d,_){if(typeof d=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var m=_.as,y=h(m,_.crossOrigin);s.d.L(d,m,{crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Oe.preloadModule=function(d,_){if(typeof d=="string")if(_){var m=h(_.as,_.crossOrigin);s.d.m(d,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:m,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(d)},Oe.requestFormReset=function(d){s.d.r(d)},Oe.unstable_batchedUpdates=function(d,_){return d(_)},Oe.useFormState=function(d,_,m){return c.H.useFormState(d,_,m)},Oe.useFormStatus=function(){return c.H.useHostTransitionStatus()},Oe.version="19.2.4",Oe}var S0;function _S(){if(S0)return Ff.exports;S0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ff.exports=gS(),Ff.exports}var x0;function mS(){if(x0)return vr;x0=1;var a=dS(),t=Dd(),n=_S();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var i=e,l=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(l=i.return),e=i.return;while(e)}return i.tag===3?l:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function h(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(s(188))}function _(e){var i=e.alternate;if(!i){if(i=o(e),i===null)throw Error(s(188));return i!==e?null:e}for(var l=e,u=i;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return d(f),e;if(g===u)return d(f),i;g=g.sibling}throw Error(s(188))}if(l.return!==u.return)l=f,u=g;else{for(var p=!1,v=f.child;v;){if(v===l){p=!0,l=f,u=g;break}if(v===u){p=!0,u=f,l=g;break}v=v.sibling}if(!p){for(v=g.child;v;){if(v===l){p=!0,l=g,u=f;break}if(v===u){p=!0,u=g,l=f;break}v=v.sibling}if(!p)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:i}function m(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=m(e),i!==null)return i;e=e.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),U=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=rt&&e[rt]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Symbol.for("react.client.reference");function nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case w:return"Profiler";case C:return"StrictMode";case G:return"Suspense";case K:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case U:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case D:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return i=e.displayName||null,i!==null?i:nt(e.type)||"Memo";case k:i=e._payload,e=e._init;try{return nt(e(i))}catch{}}return null}var ht=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},et=[],lt=-1;function b(e){return{current:e}}function M(e){0>lt||(e.current=et[lt],et[lt]=null,lt--)}function W(e,i){lt++,et[lt]=e.current,e.current=i}var Q=b(null),st=b(null),ft=b(null),gt=b(null);function Zt(e,i){switch(W(ft,i),W(st,e),W(Q,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Fy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Fy(i),e=Uy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(Q),W(Q,e)}function Ot(){M(Q),M(st),M(ft)}function ue(e){e.memoizedState!==null&&W(gt,e);var i=Q.current,l=Uy(i,e.type);i!==l&&(W(st,e),W(Q,l))}function $n(e){st.current===e&&(M(Q),M(st)),gt.current===e&&(M(gt),_r._currentValue=q)}var As,zi;function Ie(e){if(As===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);As=i&&i[1]||"",zi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+e+zi}var Me=!1;function Ye(e,i){if(!e||Me)return"";Me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var F=Y}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(Y){F=Y}e.call(Z.prototype)}}else{try{throw Error()}catch(Y){F=Y}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),p=g[0],v=g[1];if(p&&v){var T=p.split(`
`),N=v.split(`
`);for(f=u=0;u<T.length&&!T[u].includes("DetermineComponentFrameRoot");)u++;for(;f<N.length&&!N[f].includes("DetermineComponentFrameRoot");)f++;if(u===T.length||f===N.length)for(u=T.length-1,f=N.length-1;1<=u&&0<=f&&T[u]!==N[f];)f--;for(;1<=u&&0<=f;u--,f--)if(T[u]!==N[f]){if(u!==1||f!==1)do if(u--,f--,0>f||T[u]!==N[f]){var X=`
`+T[u].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=u&&0<=f);break}}}finally{Me=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ie(l):""}function Ii(e,i){switch(e.tag){case 26:case 27:case 5:return Ie(e.type);case 16:return Ie("Lazy");case 13:return e.child!==i&&i!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Ye(e.type,!1);case 11:return Ye(e.type.render,!1);case 1:return Ye(e.type,!0);case 31:return Ie("Activity");default:return""}}function ti(e){try{var i="",l=null;do i+=Ii(e,l),l=e,e=e.return;while(e);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ei=Object.prototype.hasOwnProperty,wn=a.unstable_scheduleCallback,Xn=a.unstable_cancelCallback,Ni=a.unstable_shouldYield,se=a.unstable_requestPaint,ve=a.unstable_now,Ra=a.unstable_getCurrentPriorityLevel,Ms=a.unstable_ImmediatePriority,ws=a.unstable_UserBlockingPriority,fl=a.unstable_NormalPriority,lo=a.unstable_LowPriority,ba=a.unstable_IdlePriority,Aa=a.log,vc=a.unstable_setDisableYieldValue,Os=null,we=null;function On(e){if(typeof Aa=="function"&&vc(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(Os,e)}catch{}}var Se=Math.clz32?Math.clz32:Ma,ao=Math.log,Sc=Math.LN2;function Ma(e){return e>>>=0,e===0?32:31-(ao(e)/Sc|0)|0}var Bn=256,jn=262144,Hn=4194304;function Pn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ds(e,i,l){var u=e.pendingLanes;if(u===0)return 0;var f=0,g=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=u&134217727;return v!==0?(u=v&~g,u!==0?f=Pn(u):(p&=v,p!==0?f=Pn(p):l||(l=v&~e,l!==0&&(f=Pn(l))))):(v=u&~g,v!==0?f=Pn(v):p!==0?f=Pn(p):l||(l=u&~e,l!==0&&(f=Pn(l)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:f}function de(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ni(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ne(){var e=Hn;return Hn<<=1,(Hn&62914560)===0&&(Hn=4194304),e}function Xe(e){for(var i=[],l=0;31>l;l++)i.push(e);return i}function ge(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dn(e,i,l,u,f,g){var p=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var v=e.entanglements,T=e.expirationTimes,N=e.hiddenUpdates;for(l=p&~l;0<l;){var X=31-Se(l),Z=1<<X;v[X]=0,T[X]=-1;var F=N[X];if(F!==null)for(N[X]=null,X=0;X<F.length;X++){var Y=F[X];Y!==null&&(Y.lane&=-536870913)}l&=~Z}u!==0&&hn(e,u,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(p&~i))}function hn(e,i,l){e.pendingLanes|=i,e.suspendedLanes&=~i;var u=31-Se(i);e.entangledLanes|=i,e.entanglements[u]=e.entanglements[u]|1073741824|l&261930}function kt(e,i){var l=e.entangledLanes|=i;for(e=e.entanglements;l;){var u=31-Se(l),f=1<<u;f&i|e[u]&i&&(e[u]|=i),l&=~f}}function _e(e,i){var l=i&-i;return l=(l&42)!==0?1:tn(l),(l&(e.suspendedLanes|i))!==0?0:l}function tn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xg(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:r0(e.type))}function Cg(e,i){var l=P.p;try{return P.p=e,i()}finally{P.p=l}}var Gi=Math.random().toString(36).slice(2),xe="__reactFiber$"+Gi,Be="__reactProps$"+Gi,dl="__reactContainer$"+Gi,xc="__reactEvents$"+Gi,JE="__reactListeners$"+Gi,$E="__reactHandles$"+Gi,Tg="__reactResources$"+Gi,Oa="__reactMarker$"+Gi;function Cc(e){delete e[xe],delete e[Be],delete e[xc],delete e[JE],delete e[$E]}function gl(e){var i=e[xe];if(i)return i;for(var l=e.parentNode;l;){if(i=l[dl]||l[xe]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(e=Zy(e);e!==null;){if(l=e[xe])return l;e=Zy(e)}return i}e=l,l=e.parentNode}return null}function _l(e){if(e=e[xe]||e[dl]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Da(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ml(e){var i=e[Tg];return i||(i=e[Tg]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function me(e){e[Oa]=!0}var Rg=new Set,bg={};function Ls(e,i){yl(e,i),yl(e+"Capture",i)}function yl(e,i){for(bg[e]=i,e=0;e<i.length;e++)Rg.add(i[e])}var tv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ag={},Mg={};function ev(e){return ei.call(Mg,e)?!0:ei.call(Ag,e)?!1:tv.test(e)?Mg[e]=!0:(Ag[e]=!0,!1)}function ro(e,i,l){if(ev(i))if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+l)}}function oo(e,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+l)}}function ii(e,i,l,u){if(u===null)e.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(i,l,""+u)}}function fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wg(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nv(e,i,l){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(p){l=""+p,g.call(this,p)}}),Object.defineProperty(e,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Tc(e){if(!e._valueTracker){var i=wg(e)?"checked":"value";e._valueTracker=nv(e,i,""+e[i])}}function Og(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return e&&(u=wg(e)?e.checked?"true":"false":e.value),e=u,e!==l?(i.setValue(e),!0):!1}function uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var iv=/[\n"\\]/g;function dn(e){return e.replace(iv,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Rc(e,i,l,u,f,g,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),i!=null?p==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+fn(i)):e.value!==""+fn(i)&&(e.value=""+fn(i)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),i!=null?bc(e,p,fn(i)):l!=null?bc(e,p,fn(l)):u!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+fn(v):e.removeAttribute("name")}function Dg(e,i,l,u,f,g,p,v){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){Tc(e);return}l=l!=null?""+fn(l):"",i=i!=null?""+fn(i):l,v||i===e.value||(e.value=i),e.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=v?e.checked:!!u,e.defaultChecked=!!u,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Tc(e)}function bc(e,i,l){i==="number"&&uo(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function pl(e,i,l,u){if(e=e.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=i.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&u&&(e[l].defaultSelected=!0)}else{for(l=""+fn(l),i=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function Lg(e,i,l){if(i!=null&&(i=""+fn(i),i!==e.value&&(e.value=i),l==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=l!=null?""+fn(l):""}function zg(e,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(s(92));if(ht(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=fn(i),e.defaultValue=l,u=e.textContent,u===l&&u!==""&&u!==null&&(e.value=u),Tc(e)}function El(e,i){if(i){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=i;return}}e.textContent=i}var sv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ig(e,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":u?e.setProperty(i,l):typeof l!="number"||l===0||sv.has(i)?i==="float"?e.cssFloat=l:e[i]=(""+l).trim():e[i]=l+"px"}function Ng(e,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&l[f]!==u&&Ig(e,f,u)}else for(var g in i)i.hasOwnProperty(g)&&Ig(e,g,i[g])}function Ac(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),av=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(e){return av.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function si(){}var Mc=null;function wc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vl=null,Sl=null;function Gg(e){var i=_l(e);if(i&&(e=i.stateNode)){var l=e[Be]||null;t:switch(e=i.stateNode,i.type){case"input":if(Rc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+dn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==e&&u.form===e.form){var f=u[Be]||null;if(!f)throw Error(s(90));Rc(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===e.form&&Og(u)}break t;case"textarea":Lg(e,l.value,l.defaultValue);break t;case"select":i=l.value,i!=null&&pl(e,!!l.multiple,i,!1)}}}var Oc=!1;function Fg(e,i,l){if(Oc)return e(i,l);Oc=!0;try{var u=e(i);return u}finally{if(Oc=!1,(vl!==null||Sl!==null)&&(Jo(),vl&&(i=vl,e=Sl,Sl=vl=null,Gg(i),e)))for(i=0;i<e.length;i++)Gg(e[i])}}function La(e,i){var l=e.stateNode;if(l===null)return null;var u=l[Be]||null;if(u===null)return null;l=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dc=!1;if(li)try{var za={};Object.defineProperty(za,"passive",{get:function(){Dc=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{Dc=!1}var Fi=null,Lc=null,ho=null;function Ug(){if(ho)return ho;var e,i=Lc,l=i.length,u,f="value"in Fi?Fi.value:Fi.textContent,g=f.length;for(e=0;e<l&&i[e]===f[e];e++);var p=l-e;for(u=1;u<=p&&i[l-u]===f[g-u];u++);return ho=f.slice(e,1<u?1-u:void 0)}function fo(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function go(){return!0}function Yg(){return!1}function je(e){function i(l,u,f,g,p){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(l=e[v],this[v]=l?l(g):g[v]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?go:Yg,this.isPropagationStopped=Yg,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),i}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=je(zs),Ia=y({},zs,{view:0,detail:0}),rv=je(Ia),zc,Ic,Na,mo=y({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Na&&(Na&&e.type==="mousemove"?(zc=e.screenX-Na.screenX,Ic=e.screenY-Na.screenY):Ic=zc=0,Na=e),zc)},movementY:function(e){return"movementY"in e?e.movementY:Ic}}),Xg=je(mo),ov=y({},mo,{dataTransfer:0}),uv=je(ov),cv=y({},Ia,{relatedTarget:0}),Nc=je(cv),hv=y({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),fv=je(hv),dv=y({},zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gv=je(dv),_v=y({},zs,{data:0}),Bg=je(_v),mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ev(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=pv[e])?!!i[e]:!1}function Gc(){return Ev}var vv=y({},Ia,{key:function(e){if(e.key){var i=mv[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(e){return e.type==="keypress"?fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sv=je(vv),xv=y({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jg=je(xv),Cv=y({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),Tv=je(Cv),Rv=y({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),bv=je(Rv),Av=y({},mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mv=je(Av),wv=y({},zs,{newState:0,oldState:0}),Ov=je(wv),Dv=[9,13,27,32],Fc=li&&"CompositionEvent"in window,Ga=null;li&&"documentMode"in document&&(Ga=document.documentMode);var Lv=li&&"TextEvent"in window&&!Ga,Hg=li&&(!Fc||Ga&&8<Ga&&11>=Ga),Pg=" ",Zg=!1;function Kg(e,i){switch(e){case"keyup":return Dv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xl=!1;function zv(e,i){switch(e){case"compositionend":return kg(i);case"keypress":return i.which!==32?null:(Zg=!0,Pg);case"textInput":return e=i.data,e===Pg&&Zg?null:e;default:return null}}function Iv(e,i){if(xl)return e==="compositionend"||!Fc&&Kg(e,i)?(e=Ug(),ho=Lc=Fi=null,xl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Hg&&i.locale!=="ko"?null:i.data;default:return null}}var Nv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Nv[e.type]:i==="textarea"}function Vg(e,i,l,u){vl?Sl?Sl.push(u):Sl=[u]:vl=u,i=lu(i,"onChange"),0<i.length&&(l=new _o("onChange","change",null,l,u),e.push({event:l,listeners:i}))}var Fa=null,Ua=null;function Gv(e){Dy(e,0)}function yo(e){var i=Da(e);if(Og(i))return e}function Wg(e,i){if(e==="change")return i}var Qg=!1;if(li){var Uc;if(li){var Yc="oninput"in document;if(!Yc){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),Yc=typeof Jg.oninput=="function"}Uc=Yc}else Uc=!1;Qg=Uc&&(!document.documentMode||9<document.documentMode)}function $g(){Fa&&(Fa.detachEvent("onpropertychange",t_),Ua=Fa=null)}function t_(e){if(e.propertyName==="value"&&yo(Ua)){var i=[];Vg(i,Ua,e,wc(e)),Fg(Gv,i)}}function Fv(e,i,l){e==="focusin"?($g(),Fa=i,Ua=l,Fa.attachEvent("onpropertychange",t_)):e==="focusout"&&$g()}function Uv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yo(Ua)}function Yv(e,i){if(e==="click")return yo(i)}function Xv(e,i){if(e==="input"||e==="change")return yo(i)}function Bv(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var en=typeof Object.is=="function"?Object.is:Bv;function Ya(e,i){if(en(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var l=Object.keys(e),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!ei.call(i,f)||!en(e[f],i[f]))return!1}return!0}function e_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function n_(e,i){var l=e_(e);e=0;for(var u;l;){if(l.nodeType===3){if(u=e+l.textContent.length,e<=i&&u>=i)return{node:l,offset:i-e};e=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=e_(l)}}function i_(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?i_(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function s_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=uo(e.document);i instanceof e.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)e=i.contentWindow;else break;i=uo(e.document)}return i}function Xc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var jv=li&&"documentMode"in document&&11>=document.documentMode,Cl=null,Bc=null,Xa=null,jc=!1;function l_(e,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;jc||Cl==null||Cl!==uo(u)||(u=Cl,"selectionStart"in u&&Xc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Xa&&Ya(Xa,u)||(Xa=u,u=lu(Bc,"onSelect"),0<u.length&&(i=new _o("onSelect","select",null,i,l),e.push({event:i,listeners:u}),i.target=Cl)))}function Is(e,i){var l={};return l[e.toLowerCase()]=i.toLowerCase(),l["Webkit"+e]="webkit"+i,l["Moz"+e]="moz"+i,l}var Tl={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Hc={},a_={};li&&(a_=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function Ns(e){if(Hc[e])return Hc[e];if(!Tl[e])return e;var i=Tl[e],l;for(l in i)if(i.hasOwnProperty(l)&&l in a_)return Hc[e]=i[l];return e}var r_=Ns("animationend"),o_=Ns("animationiteration"),u_=Ns("animationstart"),Hv=Ns("transitionrun"),Pv=Ns("transitionstart"),Zv=Ns("transitioncancel"),c_=Ns("transitionend"),h_=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function Ln(e,i){h_.set(e,i),Ls(i,[e])}var po=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},gn=[],Rl=0,Zc=0;function Eo(){for(var e=Rl,i=Zc=Rl=0;i<e;){var l=gn[i];gn[i++]=null;var u=gn[i];gn[i++]=null;var f=gn[i];gn[i++]=null;var g=gn[i];if(gn[i++]=null,u!==null&&f!==null){var p=u.pending;p===null?f.next=f:(f.next=p.next,p.next=f),u.pending=f}g!==0&&f_(l,f,g)}}function vo(e,i,l,u){gn[Rl++]=e,gn[Rl++]=i,gn[Rl++]=l,gn[Rl++]=u,Zc|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Kc(e,i,l,u){return vo(e,i,l,u),So(e)}function Gs(e,i){return vo(e,null,null,i),So(e)}function f_(e,i,l){e.lanes|=l;var u=e.alternate;u!==null&&(u.lanes|=l);for(var f=!1,g=e.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&i!==null&&(f=31-Se(l),e=g.hiddenUpdates,u=e[f],u===null?e[f]=[i]:u.push(i),i.lane=l|536870912),g):null}function So(e){if(50<or)throw or=0,ef=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var bl={};function Kv(e,i,l,u){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,i,l,u){return new Kv(e,i,l,u)}function kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ai(e,i){var l=e.alternate;return l===null?(l=nn(e.tag,i,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=i,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function d_(e,i){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,i=l.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function xo(e,i,l,u,f,g){var p=0;if(u=e,typeof e=="function")kc(e)&&(p=1);else if(typeof e=="string")p=Q1(e,l,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case V:return e=nn(31,l,i,f),e.elementType=V,e.lanes=g,e;case R:return Fs(l.children,f,g,i);case C:p=8,f|=24;break;case w:return e=nn(12,l,i,f|2),e.elementType=w,e.lanes=g,e;case G:return e=nn(13,l,i,f),e.elementType=G,e.lanes=g,e;case K:return e=nn(19,l,i,f),e.elementType=K,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:p=10;break t;case z:p=9;break t;case D:p=11;break t;case B:p=14;break t;case k:p=16,u=null;break t}p=29,l=Error(s(130,e===null?"null":typeof e,"")),u=null}return i=nn(p,l,i,f),i.elementType=e,i.type=u,i.lanes=g,i}function Fs(e,i,l,u){return e=nn(7,e,u,i),e.lanes=l,e}function qc(e,i,l){return e=nn(6,e,null,i),e.lanes=l,e}function g_(e){var i=nn(18,null,null,0);return i.stateNode=e,i}function Vc(e,i,l){return i=nn(4,e.children!==null?e.children:[],e.key,i),i.lanes=l,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var __=new WeakMap;function _n(e,i){if(typeof e=="object"&&e!==null){var l=__.get(e);return l!==void 0?l:(i={value:e,source:i,stack:ti(i)},__.set(e,i),i)}return{value:e,source:i,stack:ti(i)}}var Al=[],Ml=0,Co=null,Ba=0,mn=[],yn=0,Ui=null,Zn=1,Kn="";function ri(e,i){Al[Ml++]=Ba,Al[Ml++]=Co,Co=e,Ba=i}function m_(e,i,l){mn[yn++]=Zn,mn[yn++]=Kn,mn[yn++]=Ui,Ui=e;var u=Zn;e=Kn;var f=32-Se(u)-1;u&=~(1<<f),l+=1;var g=32-Se(i)+f;if(30<g){var p=f-f%5;g=(u&(1<<p)-1).toString(32),u>>=p,f-=p,Zn=1<<32-Se(i)+f|l<<f|u,Kn=g+e}else Zn=1<<g|l<<f|u,Kn=e}function Wc(e){e.return!==null&&(ri(e,1),m_(e,1,0))}function Qc(e){for(;e===Co;)Co=Al[--Ml],Al[Ml]=null,Ba=Al[--Ml],Al[Ml]=null;for(;e===Ui;)Ui=mn[--yn],mn[yn]=null,Kn=mn[--yn],mn[yn]=null,Zn=mn[--yn],mn[yn]=null}function y_(e,i){mn[yn++]=Zn,mn[yn++]=Kn,mn[yn++]=Ui,Zn=i.id,Kn=i.overflow,Ui=e}var Ce=null,qt=null,At=!1,Yi=null,pn=!1,Jc=Error(s(519));function Xi(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ja(_n(i,e)),Jc}function p_(e){var i=e.stateNode,l=e.type,u=e.memoizedProps;switch(i[xe]=e,i[Be]=u,l){case"dialog":Tt("cancel",i),Tt("close",i);break;case"iframe":case"object":case"embed":Tt("load",i);break;case"video":case"audio":for(l=0;l<cr.length;l++)Tt(cr[l],i);break;case"source":Tt("error",i);break;case"img":case"image":case"link":Tt("error",i),Tt("load",i);break;case"details":Tt("toggle",i);break;case"input":Tt("invalid",i),Dg(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Tt("invalid",i);break;case"textarea":Tt("invalid",i),zg(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||Ny(i.textContent,l)?(u.popover!=null&&(Tt("beforetoggle",i),Tt("toggle",i)),u.onScroll!=null&&Tt("scroll",i),u.onScrollEnd!=null&&Tt("scrollend",i),u.onClick!=null&&(i.onclick=si),i=!0):i=!1,i||Xi(e,!0)}function E_(e){for(Ce=e.return;Ce;)switch(Ce.tag){case 5:case 31:case 13:pn=!1;return;case 27:case 3:pn=!0;return;default:Ce=Ce.return}}function wl(e){if(e!==Ce)return!1;if(!At)return E_(e),At=!0,!1;var i=e.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||yf(e.type,e.memoizedProps)),l=!l),l&&qt&&Xi(e),E_(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qt=Py(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qt=Py(e)}else i===27?(i=qt,ts(e.type)?(e=xf,xf=null,qt=e):qt=i):qt=Ce?vn(e.stateNode.nextSibling):null;return!0}function Us(){qt=Ce=null,At=!1}function $c(){var e=Yi;return e!==null&&(Ke===null?Ke=e:Ke.push.apply(Ke,e),Yi=null),e}function ja(e){Yi===null?Yi=[e]:Yi.push(e)}var th=b(null),Ys=null,oi=null;function Bi(e,i,l){W(th,i._currentValue),i._currentValue=l}function ui(e){e._currentValue=th.current,M(th)}function eh(e,i,l){for(;e!==null;){var u=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),e===l)break;e=e.return}}function nh(e,i,l,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var p=f.child;g=g.firstContext;t:for(;g!==null;){var v=g;g=f;for(var T=0;T<i.length;T++)if(v.context===i[T]){g.lanes|=l,v=g.alternate,v!==null&&(v.lanes|=l),eh(g.return,l,e),u||(p=null);break t}g=v.next}}else if(f.tag===18){if(p=f.return,p===null)throw Error(s(341));p.lanes|=l,g=p.alternate,g!==null&&(g.lanes|=l),eh(p,l,e),p=null}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===e){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}}function Ol(e,i,l,u){e=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var p=f.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var v=f.type;en(f.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(f===gt.current){if(p=f.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(_r):e=[_r])}f=f.return}e!==null&&nh(i,e,l,u),i.flags|=262144}function To(e){for(e=e.firstContext;e!==null;){if(!en(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xs(e){Ys=e,oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Te(e){return v_(Ys,e)}function Ro(e,i){return Ys===null&&Xs(e),v_(e,i)}function v_(e,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},oi===null){if(e===null)throw Error(s(308));oi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else oi=oi.next=i;return l}var kv=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(l,u){e.push(u)}};this.abort=function(){i.aborted=!0,e.forEach(function(l){return l()})}},qv=a.unstable_scheduleCallback,Vv=a.unstable_NormalPriority,le={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new kv,data:new Map,refCount:0}}function Ha(e){e.refCount--,e.refCount===0&&qv(Vv,function(){e.controller.abort()})}var Pa=null,sh=0,Dl=0,Ll=null;function Wv(e,i){if(Pa===null){var l=Pa=[];sh=0,Dl=of(),Ll={status:"pending",value:void 0,then:function(u){l.push(u)}}}return sh++,i.then(S_,S_),i}function S_(){if(--sh===0&&Pa!==null){Ll!==null&&(Ll.status="fulfilled");var e=Pa;Pa=null,Dl=0,Ll=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Qv(e,i){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var x_=L.S;L.S=function(e,i){ly=ve(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Wv(e,i),x_!==null&&x_(e,i)};var Bs=b(null);function lh(){var e=Bs.current;return e!==null?e:Pt.pooledCache}function bo(e,i){i===null?W(Bs,Bs.current):W(Bs,i.pool)}function C_(){var e=lh();return e===null?null:{parent:le._currentValue,pool:e}}var zl=Error(s(460)),ah=Error(s(474)),Ao=Error(s(542)),Mo={then:function(){}};function T_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function R_(e,i,l){switch(l=e[l],l===void 0?e.push(i):l!==i&&(i.then(si,si),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,A_(e),e;default:if(typeof i.status=="string")i.then(si,si);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,A_(e),e}throw Hs=i,zl}}function js(e){try{var i=e._init;return i(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Hs=l,zl):l}}var Hs=null;function b_(){if(Hs===null)throw Error(s(459));var e=Hs;return Hs=null,e}function A_(e){if(e===zl||e===Ao)throw Error(s(483))}var Il=null,Za=0;function wo(e){var i=Za;return Za+=1,Il===null&&(Il=[]),R_(Il,e,i)}function Ka(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Oo(e,i){throw i.$$typeof===E?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function M_(e){function i(O,A){if(e){var I=O.deletions;I===null?(O.deletions=[A],O.flags|=16):I.push(A)}}function l(O,A){if(!e)return null;for(;A!==null;)i(O,A),A=A.sibling;return null}function u(O){for(var A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function f(O,A){return O=ai(O,A),O.index=0,O.sibling=null,O}function g(O,A,I){return O.index=I,e?(I=O.alternate,I!==null?(I=I.index,I<A?(O.flags|=67108866,A):I):(O.flags|=67108866,A)):(O.flags|=1048576,A)}function p(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,A,I,H){return A===null||A.tag!==6?(A=qc(I,O.mode,H),A.return=O,A):(A=f(A,I),A.return=O,A)}function T(O,A,I,H){var ot=I.type;return ot===R?X(O,A,I.props.children,H,I.key):A!==null&&(A.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===k&&js(ot)===A.type)?(A=f(A,I.props),Ka(A,I),A.return=O,A):(A=xo(I.type,I.key,I.props,null,O.mode,H),Ka(A,I),A.return=O,A)}function N(O,A,I,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==I.containerInfo||A.stateNode.implementation!==I.implementation?(A=Vc(I,O.mode,H),A.return=O,A):(A=f(A,I.children||[]),A.return=O,A)}function X(O,A,I,H,ot){return A===null||A.tag!==7?(A=Fs(I,O.mode,H,ot),A.return=O,A):(A=f(A,I),A.return=O,A)}function Z(O,A,I){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=qc(""+A,O.mode,I),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return I=xo(A.type,A.key,A.props,null,O.mode,I),Ka(I,A),I.return=O,I;case x:return A=Vc(A,O.mode,I),A.return=O,A;case k:return A=js(A),Z(O,A,I)}if(ht(A)||$(A))return A=Fs(A,O.mode,I,null),A.return=O,A;if(typeof A.then=="function")return Z(O,wo(A),I);if(A.$$typeof===U)return Z(O,Ro(O,A),I);Oo(O,A)}return null}function F(O,A,I,H){var ot=A!==null?A.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ot!==null?null:v(O,A,""+I,H);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case S:return I.key===ot?T(O,A,I,H):null;case x:return I.key===ot?N(O,A,I,H):null;case k:return I=js(I),F(O,A,I,H)}if(ht(I)||$(I))return ot!==null?null:X(O,A,I,H,null);if(typeof I.then=="function")return F(O,A,wo(I),H);if(I.$$typeof===U)return F(O,A,Ro(O,I),H);Oo(O,I)}return null}function Y(O,A,I,H,ot){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return O=O.get(I)||null,v(A,O,""+H,ot);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return O=O.get(H.key===null?I:H.key)||null,T(A,O,H,ot);case x:return O=O.get(H.key===null?I:H.key)||null,N(A,O,H,ot);case k:return H=js(H),Y(O,A,I,H,ot)}if(ht(H)||$(H))return O=O.get(I)||null,X(A,O,H,ot,null);if(typeof H.then=="function")return Y(O,A,I,wo(H),ot);if(H.$$typeof===U)return Y(O,A,I,Ro(A,H),ot);Oo(A,H)}return null}function it(O,A,I,H){for(var ot=null,Dt=null,at=A,vt=A=0,bt=null;at!==null&&vt<I.length;vt++){at.index>vt?(bt=at,at=null):bt=at.sibling;var Lt=F(O,at,I[vt],H);if(Lt===null){at===null&&(at=bt);break}e&&at&&Lt.alternate===null&&i(O,at),A=g(Lt,A,vt),Dt===null?ot=Lt:Dt.sibling=Lt,Dt=Lt,at=bt}if(vt===I.length)return l(O,at),At&&ri(O,vt),ot;if(at===null){for(;vt<I.length;vt++)at=Z(O,I[vt],H),at!==null&&(A=g(at,A,vt),Dt===null?ot=at:Dt.sibling=at,Dt=at);return At&&ri(O,vt),ot}for(at=u(at);vt<I.length;vt++)bt=Y(at,O,vt,I[vt],H),bt!==null&&(e&&bt.alternate!==null&&at.delete(bt.key===null?vt:bt.key),A=g(bt,A,vt),Dt===null?ot=bt:Dt.sibling=bt,Dt=bt);return e&&at.forEach(function(ls){return i(O,ls)}),At&&ri(O,vt),ot}function dt(O,A,I,H){if(I==null)throw Error(s(151));for(var ot=null,Dt=null,at=A,vt=A=0,bt=null,Lt=I.next();at!==null&&!Lt.done;vt++,Lt=I.next()){at.index>vt?(bt=at,at=null):bt=at.sibling;var ls=F(O,at,Lt.value,H);if(ls===null){at===null&&(at=bt);break}e&&at&&ls.alternate===null&&i(O,at),A=g(ls,A,vt),Dt===null?ot=ls:Dt.sibling=ls,Dt=ls,at=bt}if(Lt.done)return l(O,at),At&&ri(O,vt),ot;if(at===null){for(;!Lt.done;vt++,Lt=I.next())Lt=Z(O,Lt.value,H),Lt!==null&&(A=g(Lt,A,vt),Dt===null?ot=Lt:Dt.sibling=Lt,Dt=Lt);return At&&ri(O,vt),ot}for(at=u(at);!Lt.done;vt++,Lt=I.next())Lt=Y(at,O,vt,Lt.value,H),Lt!==null&&(e&&Lt.alternate!==null&&at.delete(Lt.key===null?vt:Lt.key),A=g(Lt,A,vt),Dt===null?ot=Lt:Dt.sibling=Lt,Dt=Lt);return e&&at.forEach(function(oS){return i(O,oS)}),At&&ri(O,vt),ot}function Ht(O,A,I,H){if(typeof I=="object"&&I!==null&&I.type===R&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case S:t:{for(var ot=I.key;A!==null;){if(A.key===ot){if(ot=I.type,ot===R){if(A.tag===7){l(O,A.sibling),H=f(A,I.props.children),H.return=O,O=H;break t}}else if(A.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===k&&js(ot)===A.type){l(O,A.sibling),H=f(A,I.props),Ka(H,I),H.return=O,O=H;break t}l(O,A);break}else i(O,A);A=A.sibling}I.type===R?(H=Fs(I.props.children,O.mode,H,I.key),H.return=O,O=H):(H=xo(I.type,I.key,I.props,null,O.mode,H),Ka(H,I),H.return=O,O=H)}return p(O);case x:t:{for(ot=I.key;A!==null;){if(A.key===ot)if(A.tag===4&&A.stateNode.containerInfo===I.containerInfo&&A.stateNode.implementation===I.implementation){l(O,A.sibling),H=f(A,I.children||[]),H.return=O,O=H;break t}else{l(O,A);break}else i(O,A);A=A.sibling}H=Vc(I,O.mode,H),H.return=O,O=H}return p(O);case k:return I=js(I),Ht(O,A,I,H)}if(ht(I))return it(O,A,I,H);if($(I)){if(ot=$(I),typeof ot!="function")throw Error(s(150));return I=ot.call(I),dt(O,A,I,H)}if(typeof I.then=="function")return Ht(O,A,wo(I),H);if(I.$$typeof===U)return Ht(O,A,Ro(O,I),H);Oo(O,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,A!==null&&A.tag===6?(l(O,A.sibling),H=f(A,I),H.return=O,O=H):(l(O,A),H=qc(I,O.mode,H),H.return=O,O=H),p(O)):l(O,A)}return function(O,A,I,H){try{Za=0;var ot=Ht(O,A,I,H);return Il=null,ot}catch(at){if(at===zl||at===Ao)throw at;var Dt=nn(29,at,null,O.mode);return Dt.lanes=H,Dt.return=O,Dt}}}var Ps=M_(!0),w_=M_(!1),ji=!1;function rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pi(e,i,l){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(It&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=So(e),f_(e,null,l),i}return vo(e,u,i,l),So(e)}function ka(e,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=e.pendingLanes,l|=u,i.lanes=l,kt(e,l)}}function uh(e,i){var l=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var p={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?f=g=p:g=g.next=p,l=l.next}while(l!==null);g===null?f=g=i:g=g.next=i}else f=g=i;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=i:e.next=i,l.lastBaseUpdate=i}var ch=!1;function qa(){if(ch){var e=Ll;if(e!==null)throw e}}function Va(e,i,l,u){ch=!1;var f=e.updateQueue;ji=!1;var g=f.firstBaseUpdate,p=f.lastBaseUpdate,v=f.shared.pending;if(v!==null){f.shared.pending=null;var T=v,N=T.next;T.next=null,p===null?g=N:p.next=N,p=T;var X=e.alternate;X!==null&&(X=X.updateQueue,v=X.lastBaseUpdate,v!==p&&(v===null?X.firstBaseUpdate=N:v.next=N,X.lastBaseUpdate=T))}if(g!==null){var Z=f.baseState;p=0,X=N=T=null,v=g;do{var F=v.lane&-536870913,Y=F!==v.lane;if(Y?(Rt&F)===F:(u&F)===F){F!==0&&F===Dl&&(ch=!0),X!==null&&(X=X.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var it=e,dt=v;F=i;var Ht=l;switch(dt.tag){case 1:if(it=dt.payload,typeof it=="function"){Z=it.call(Ht,Z,F);break t}Z=it;break t;case 3:it.flags=it.flags&-65537|128;case 0:if(it=dt.payload,F=typeof it=="function"?it.call(Ht,Z,F):it,F==null)break t;Z=y({},Z,F);break t;case 2:ji=!0}}F=v.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:v.tag,payload:v.payload,callback:v.callback,next:null},X===null?(N=X=Y,T=Z):X=X.next=Y,p|=F;if(v=v.next,v===null){if(v=f.shared.pending,v===null)break;Y=v,v=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(T=Z),f.baseState=T,f.firstBaseUpdate=N,f.lastBaseUpdate=X,g===null&&(f.shared.lanes=0),Vi|=p,e.lanes=p,e.memoizedState=Z}}function O_(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function D_(e,i){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)O_(l[e],i)}var Nl=b(null),Do=b(0);function L_(e,i){e=pi,W(Do,e),W(Nl,i),pi=e|i.baseLanes}function hh(){W(Do,pi),W(Nl,Nl.current)}function fh(){pi=Do.current,M(Nl),M(Do)}var sn=b(null),En=null;function Zi(e){var i=e.alternate;W(ne,ne.current&1),W(sn,e),En===null&&(i===null||Nl.current!==null||i.memoizedState!==null)&&(En=e)}function dh(e){W(ne,ne.current),W(sn,e),En===null&&(En=e)}function z_(e){e.tag===22?(W(ne,ne.current),W(sn,e),En===null&&(En=e)):Ki()}function Ki(){W(ne,ne.current),W(sn,sn.current)}function ln(e){M(sn),En===e&&(En=null),M(ne)}var ne=b(0);function Lo(e){for(var i=e;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||vf(l)||Sf(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ci=0,pt=null,Bt=null,ae=null,zo=!1,Gl=!1,Zs=!1,Io=0,Wa=0,Fl=null,Jv=0;function Jt(){throw Error(s(321))}function gh(e,i){if(i===null)return!1;for(var l=0;l<i.length&&l<e.length;l++)if(!en(e[l],i[l]))return!1;return!0}function _h(e,i,l,u,f,g){return ci=g,pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=e===null||e.memoizedState===null?mm:Oh,Zs=!1,g=l(u,f),Zs=!1,Gl&&(g=N_(i,l,u,f)),I_(e),g}function I_(e){L.H=$a;var i=Bt!==null&&Bt.next!==null;if(ci=0,ae=Bt=pt=null,zo=!1,Wa=0,Fl=null,i)throw Error(s(300));e===null||re||(e=e.dependencies,e!==null&&To(e)&&(re=!0))}function N_(e,i,l,u){pt=e;var f=0;do{if(Gl&&(Fl=null),Wa=0,Gl=!1,25<=f)throw Error(s(301));if(f+=1,ae=Bt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}L.H=ym,g=i(l,u)}while(Gl);return g}function $v(){var e=L.H,i=e.useState()[0];return i=typeof i.then=="function"?Qa(i):i,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(pt.flags|=1024),i}function mh(){var e=Io!==0;return Io=0,e}function yh(e,i,l){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~l}function ph(e){if(zo){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}zo=!1}ci=0,ae=Bt=pt=null,Gl=!1,Wa=Io=0,Fl=null}function Ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?pt.memoizedState=ae=e:ae=ae.next=e,ae}function ie(){if(Bt===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var i=ae===null?pt.memoizedState:ae.next;if(i!==null)ae=i,Bt=e;else{if(e===null)throw pt.alternate===null?Error(s(467)):Error(s(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},ae===null?pt.memoizedState=ae=e:ae=ae.next=e}return ae}function No(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qa(e){var i=Wa;return Wa+=1,Fl===null&&(Fl=[]),e=R_(Fl,e,i),i=pt,(ae===null?i.memoizedState:ae.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?mm:Oh),e}function Go(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qa(e);if(e.$$typeof===U)return Te(e)}throw Error(s(438,String(e)))}function Eh(e){var i=null,l=pt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=pt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=No(),pt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(e),u=0;u<e;u++)l[u]=J;return i.index++,l}function hi(e,i){return typeof i=="function"?i(e):i}function Fo(e){var i=ie();return vh(i,Bt,e)}function vh(e,i,l){var u=e.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var f=e.baseQueue,g=u.pending;if(g!==null){if(f!==null){var p=f.next;f.next=g.next,g.next=p}i.baseQueue=f=g,u.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{i=f.next;var v=p=null,T=null,N=i,X=!1;do{var Z=N.lane&-536870913;if(Z!==N.lane?(Rt&Z)===Z:(ci&Z)===Z){var F=N.revertLane;if(F===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),Z===Dl&&(X=!0);else if((ci&F)===F){N=N.next,F===Dl&&(X=!0);continue}else Z={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},T===null?(v=T=Z,p=g):T=T.next=Z,pt.lanes|=F,Vi|=F;Z=N.action,Zs&&l(g,Z),g=N.hasEagerState?N.eagerState:l(g,Z)}else F={lane:Z,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},T===null?(v=T=F,p=g):T=T.next=F,pt.lanes|=Z,Vi|=Z;N=N.next}while(N!==null&&N!==i);if(T===null?p=g:T.next=v,!en(g,e.memoizedState)&&(re=!0,X&&(l=Ll,l!==null)))throw l;e.memoizedState=g,e.baseState=p,e.baseQueue=T,u.lastRenderedState=g}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Sh(e){var i=ie(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var u=l.dispatch,f=l.pending,g=i.memoizedState;if(f!==null){l.pending=null;var p=f=f.next;do g=e(g,p.action),p=p.next;while(p!==f);en(g,i.memoizedState)||(re=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,u]}function G_(e,i,l){var u=pt,f=ie(),g=At;if(g){if(l===void 0)throw Error(s(407));l=l()}else l=i();var p=!en((Bt||f).memoizedState,l);if(p&&(f.memoizedState=l,re=!0),f=f.queue,Th(Y_.bind(null,u,f,e),[e]),f.getSnapshot!==i||p||ae!==null&&ae.memoizedState.tag&1){if(u.flags|=2048,Ul(9,{destroy:void 0},U_.bind(null,u,f,l,i),null),Pt===null)throw Error(s(349));g||(ci&127)!==0||F_(u,i,l)}return l}function F_(e,i,l){e.flags|=16384,e={getSnapshot:i,value:l},i=pt.updateQueue,i===null?(i=No(),pt.updateQueue=i,i.stores=[e]):(l=i.stores,l===null?i.stores=[e]:l.push(e))}function U_(e,i,l,u){i.value=l,i.getSnapshot=u,X_(i)&&B_(e)}function Y_(e,i,l){return l(function(){X_(i)&&B_(e)})}function X_(e){var i=e.getSnapshot;e=e.value;try{var l=i();return!en(e,l)}catch{return!0}}function B_(e){var i=Gs(e,2);i!==null&&ke(i,e,2)}function xh(e){var i=Ge();if(typeof e=="function"){var l=e;if(e=l(),Zs){On(!0);try{l()}finally{On(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},i}function j_(e,i,l,u){return e.baseState=l,vh(e,Bt,typeof u=="function"?u:hi)}function t1(e,i,l,u,f){if(Xo(e))throw Error(s(485));if(e=i.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){g.listeners.push(p)}};L.T!==null?l(!0):g.isTransition=!1,u(g),l=i.pending,l===null?(g.next=i.pending=g,H_(i,g)):(g.next=l.next,i.pending=l.next=g)}}function H_(e,i){var l=i.action,u=i.payload,f=e.state;if(i.isTransition){var g=L.T,p={};L.T=p;try{var v=l(f,u),T=L.S;T!==null&&T(p,v),P_(e,i,v)}catch(N){Ch(e,i,N)}finally{g!==null&&p.types!==null&&(g.types=p.types),L.T=g}}else try{g=l(f,u),P_(e,i,g)}catch(N){Ch(e,i,N)}}function P_(e,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Z_(e,i,u)},function(u){return Ch(e,i,u)}):Z_(e,i,l)}function Z_(e,i,l){i.status="fulfilled",i.value=l,K_(i),e.state=l,i=e.pending,i!==null&&(l=i.next,l===i?e.pending=null:(l=l.next,i.next=l,H_(e,l)))}function Ch(e,i,l){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,K_(i),i=i.next;while(i!==u)}e.action=null}function K_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function k_(e,i){return i}function q_(e,i){if(At){var l=Pt.formState;if(l!==null){t:{var u=pt;if(At){if(qt){e:{for(var f=qt,g=pn;f.nodeType!==8;){if(!g){f=null;break e}if(f=vn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){qt=vn(f.nextSibling),u=f.data==="F!";break t}}Xi(u)}u=!1}u&&(i=l[0])}}return l=Ge(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k_,lastRenderedState:i},l.queue=u,l=dm.bind(null,pt,u),u.dispatch=l,u=xh(!1),g=wh.bind(null,pt,!1,u.queue),u=Ge(),f={state:i,dispatch:null,action:e,pending:null},u.queue=f,l=t1.bind(null,pt,f,g,l),f.dispatch=l,u.memoizedState=e,[i,l,!1]}function V_(e){var i=ie();return W_(i,Bt,e)}function W_(e,i,l){if(i=vh(e,i,k_)[0],e=Fo(hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Qa(i)}catch(p){throw p===zl?Ao:p}else u=i;i=ie();var f=i.queue,g=f.dispatch;return l!==i.memoizedState&&(pt.flags|=2048,Ul(9,{destroy:void 0},e1.bind(null,f,l),null)),[u,g,e]}function e1(e,i){e.action=i}function Q_(e){var i=ie(),l=Bt;if(l!==null)return W_(i,l,e);ie(),i=i.memoizedState,l=ie();var u=l.queue.dispatch;return l.memoizedState=e,[i,u,!1]}function Ul(e,i,l,u){return e={tag:e,create:l,deps:u,inst:i,next:null},i=pt.updateQueue,i===null&&(i=No(),pt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=e.next=e:(u=l.next,l.next=e,e.next=u,i.lastEffect=e),e}function J_(){return ie().memoizedState}function Uo(e,i,l,u){var f=Ge();pt.flags|=e,f.memoizedState=Ul(1|i,{destroy:void 0},l,u===void 0?null:u)}function Yo(e,i,l,u){var f=ie();u=u===void 0?null:u;var g=f.memoizedState.inst;Bt!==null&&u!==null&&gh(u,Bt.memoizedState.deps)?f.memoizedState=Ul(i,g,l,u):(pt.flags|=e,f.memoizedState=Ul(1|i,g,l,u))}function $_(e,i){Uo(8390656,8,e,i)}function Th(e,i){Yo(2048,8,e,i)}function n1(e){pt.flags|=4;var i=pt.updateQueue;if(i===null)i=No(),pt.updateQueue=i,i.events=[e];else{var l=i.events;l===null?i.events=[e]:l.push(e)}}function tm(e){var i=ie().memoizedState;return n1({ref:i,nextImpl:e}),function(){if((It&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function em(e,i){return Yo(4,2,e,i)}function nm(e,i){return Yo(4,4,e,i)}function im(e,i){if(typeof i=="function"){e=e();var l=i(e);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function sm(e,i,l){l=l!=null?l.concat([e]):null,Yo(4,4,im.bind(null,i,e),l)}function Rh(){}function lm(e,i){var l=ie();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&gh(i,u[1])?u[0]:(l.memoizedState=[e,i],e)}function am(e,i){var l=ie();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&gh(i,u[1]))return u[0];if(u=e(),Zs){On(!0);try{e()}finally{On(!1)}}return l.memoizedState=[u,i],u}function bh(e,i,l){return l===void 0||(ci&1073741824)!==0&&(Rt&261930)===0?e.memoizedState=i:(e.memoizedState=l,e=ry(),pt.lanes|=e,Vi|=e,l)}function rm(e,i,l,u){return en(l,i)?l:Nl.current!==null?(e=bh(e,l,u),en(e,i)||(re=!0),e):(ci&42)===0||(ci&1073741824)!==0&&(Rt&261930)===0?(re=!0,e.memoizedState=l):(e=ry(),pt.lanes|=e,Vi|=e,i)}function om(e,i,l,u,f){var g=P.p;P.p=g!==0&&8>g?g:8;var p=L.T,v={};L.T=v,wh(e,!1,i,l);try{var T=f(),N=L.S;if(N!==null&&N(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var X=Qv(T,u);Ja(e,i,X,on(e))}else Ja(e,i,u,on(e))}catch(Z){Ja(e,i,{then:function(){},status:"rejected",reason:Z},on())}finally{P.p=g,p!==null&&v.types!==null&&(p.types=v.types),L.T=p}}function i1(){}function Ah(e,i,l,u){if(e.tag!==5)throw Error(s(476));var f=um(e).queue;om(e,f,i,q,l===null?i1:function(){return cm(e),l(u)})}function um(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:q},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:l},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function cm(e){var i=um(e);i.next===null&&(i=e.alternate.memoizedState),Ja(e,i.next.queue,{},on())}function Mh(){return Te(_r)}function hm(){return ie().memoizedState}function fm(){return ie().memoizedState}function s1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var l=on();e=Hi(l);var u=Pi(i,e,l);u!==null&&(ke(u,i,l),ka(u,i,l)),i={cache:ih()},e.payload=i;return}i=i.return}}function l1(e,i,l){var u=on();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xo(e)?gm(i,l):(l=Kc(e,i,l,u),l!==null&&(ke(l,e,u),_m(l,i,u)))}function dm(e,i,l){var u=on();Ja(e,i,l,u)}function Ja(e,i,l,u){var f={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))gm(i,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var p=i.lastRenderedState,v=g(p,l);if(f.hasEagerState=!0,f.eagerState=v,en(v,p))return vo(e,i,f,0),Pt===null&&Eo(),!1}catch{}if(l=Kc(e,i,f,u),l!==null)return ke(l,e,u),_m(l,i,u),!0}return!1}function wh(e,i,l,u){if(u={lane:2,revertLane:of(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Xo(e)){if(i)throw Error(s(479))}else i=Kc(e,l,u,2),i!==null&&ke(i,e,2)}function Xo(e){var i=e.alternate;return e===pt||i!==null&&i===pt}function gm(e,i){Gl=zo=!0;var l=e.pending;l===null?i.next=i:(i.next=l.next,l.next=i),e.pending=i}function _m(e,i,l){if((l&4194048)!==0){var u=i.lanes;u&=e.pendingLanes,l|=u,i.lanes=l,kt(e,l)}}var $a={readContext:Te,use:Go,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};$a.useEffectEvent=Jt;var mm={readContext:Te,use:Go,useCallback:function(e,i){return Ge().memoizedState=[e,i===void 0?null:i],e},useContext:Te,useEffect:$_,useImperativeHandle:function(e,i,l){l=l!=null?l.concat([e]):null,Uo(4194308,4,im.bind(null,i,e),l)},useLayoutEffect:function(e,i){return Uo(4194308,4,e,i)},useInsertionEffect:function(e,i){Uo(4,2,e,i)},useMemo:function(e,i){var l=Ge();i=i===void 0?null:i;var u=e();if(Zs){On(!0);try{e()}finally{On(!1)}}return l.memoizedState=[u,i],u},useReducer:function(e,i,l){var u=Ge();if(l!==void 0){var f=l(i);if(Zs){On(!0);try{l(i)}finally{On(!1)}}}else f=i;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=l1.bind(null,pt,e),[u.memoizedState,e]},useRef:function(e){var i=Ge();return e={current:e},i.memoizedState=e},useState:function(e){e=xh(e);var i=e.queue,l=dm.bind(null,pt,i);return i.dispatch=l,[e.memoizedState,l]},useDebugValue:Rh,useDeferredValue:function(e,i){var l=Ge();return bh(l,e,i)},useTransition:function(){var e=xh(!1);return e=om.bind(null,pt,e.queue,!0,!1),Ge().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,l){var u=pt,f=Ge();if(At){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),Pt===null)throw Error(s(349));(Rt&127)!==0||F_(u,i,l)}f.memoizedState=l;var g={value:l,getSnapshot:i};return f.queue=g,$_(Y_.bind(null,u,g,e),[e]),u.flags|=2048,Ul(9,{destroy:void 0},U_.bind(null,u,g,l,i),null),l},useId:function(){var e=Ge(),i=Pt.identifierPrefix;if(At){var l=Kn,u=Zn;l=(u&~(1<<32-Se(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=Io++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=Jv++,i="_"+i+"r_"+l.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Mh,useFormState:q_,useActionState:q_,useOptimistic:function(e){var i=Ge();i.memoizedState=i.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=wh.bind(null,pt,!0,l),l.dispatch=i,[e,i]},useMemoCache:Eh,useCacheRefresh:function(){return Ge().memoizedState=s1.bind(null,pt)},useEffectEvent:function(e){var i=Ge(),l={impl:e};return i.memoizedState=l,function(){if((It&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Oh={readContext:Te,use:Go,useCallback:lm,useContext:Te,useEffect:Th,useImperativeHandle:sm,useInsertionEffect:em,useLayoutEffect:nm,useMemo:am,useReducer:Fo,useRef:J_,useState:function(){return Fo(hi)},useDebugValue:Rh,useDeferredValue:function(e,i){var l=ie();return rm(l,Bt.memoizedState,e,i)},useTransition:function(){var e=Fo(hi)[0],i=ie().memoizedState;return[typeof e=="boolean"?e:Qa(e),i]},useSyncExternalStore:G_,useId:hm,useHostTransitionStatus:Mh,useFormState:V_,useActionState:V_,useOptimistic:function(e,i){var l=ie();return j_(l,Bt,e,i)},useMemoCache:Eh,useCacheRefresh:fm};Oh.useEffectEvent=tm;var ym={readContext:Te,use:Go,useCallback:lm,useContext:Te,useEffect:Th,useImperativeHandle:sm,useInsertionEffect:em,useLayoutEffect:nm,useMemo:am,useReducer:Sh,useRef:J_,useState:function(){return Sh(hi)},useDebugValue:Rh,useDeferredValue:function(e,i){var l=ie();return Bt===null?bh(l,e,i):rm(l,Bt.memoizedState,e,i)},useTransition:function(){var e=Sh(hi)[0],i=ie().memoizedState;return[typeof e=="boolean"?e:Qa(e),i]},useSyncExternalStore:G_,useId:hm,useHostTransitionStatus:Mh,useFormState:Q_,useActionState:Q_,useOptimistic:function(e,i){var l=ie();return Bt!==null?j_(l,Bt,e,i):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Eh,useCacheRefresh:fm};ym.useEffectEvent=tm;function Dh(e,i,l,u){i=e.memoizedState,l=l(u,i),l=l==null?i:y({},i,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Lh={enqueueSetState:function(e,i,l){e=e._reactInternals;var u=on(),f=Hi(u);f.payload=i,l!=null&&(f.callback=l),i=Pi(e,f,u),i!==null&&(ke(i,e,u),ka(i,e,u))},enqueueReplaceState:function(e,i,l){e=e._reactInternals;var u=on(),f=Hi(u);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=Pi(e,f,u),i!==null&&(ke(i,e,u),ka(i,e,u))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var l=on(),u=Hi(l);u.tag=2,i!=null&&(u.callback=i),i=Pi(e,u,l),i!==null&&(ke(i,e,l),ka(i,e,l))}};function pm(e,i,l,u,f,g,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,g,p):i.prototype&&i.prototype.isPureReactComponent?!Ya(l,u)||!Ya(f,g):!0}function Em(e,i,l,u){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==e&&Lh.enqueueReplaceState(i,i.state,null)}function Ks(e,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(e=e.defaultProps){l===i&&(l=y({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function vm(e){po(e)}function Sm(e){console.error(e)}function xm(e){po(e)}function Bo(e,i){try{var l=e.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Cm(e,i,l){try{var u=e.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zh(e,i,l){return l=Hi(l),l.tag=3,l.payload={element:null},l.callback=function(){Bo(e,i)},l}function Tm(e){return e=Hi(e),e.tag=3,e}function Rm(e,i,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;e.payload=function(){return f(g)},e.callback=function(){Cm(i,l,u)}}var p=l.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Cm(i,l,u),typeof f!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var v=u.stack;this.componentDidCatch(u.value,{componentStack:v!==null?v:""})})}function a1(e,i,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Ol(i,l,f,!0),l=sn.current,l!==null){switch(l.tag){case 31:case 13:return En===null?$o():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===Mo?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),lf(e,u,f)),!1;case 22:return l.flags|=65536,u===Mo?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),lf(e,u,f)),!1}throw Error(s(435,l.tag))}return lf(e,u,f),$o(),!1}if(At)return i=sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Jc&&(e=Error(s(422),{cause:u}),ja(_n(e,l)))):(u!==Jc&&(i=Error(s(423),{cause:u}),ja(_n(i,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=_n(u,l),f=zh(e.stateNode,u,f),uh(e,f),$t!==4&&($t=2)),!1;var g=Error(s(520),{cause:u});if(g=_n(g,l),rr===null?rr=[g]:rr.push(g),$t!==4&&($t=2),i===null)return!0;u=_n(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=zh(l.stateNode,u,e),uh(l,e),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wi===null||!Wi.has(g))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Tm(f),Rm(f,e,l,u),uh(l,f),!1}l=l.return}while(l!==null);return!1}var Ih=Error(s(461)),re=!1;function Re(e,i,l,u){i.child=e===null?w_(i,null,l,u):Ps(i,e.child,l,u)}function bm(e,i,l,u,f){l=l.render;var g=i.ref;if("ref"in u){var p={};for(var v in u)v!=="ref"&&(p[v]=u[v])}else p=u;return Xs(i),u=_h(e,i,l,p,g,f),v=mh(),e!==null&&!re?(yh(e,i,f),fi(e,i,f)):(At&&v&&Wc(i),i.flags|=1,Re(e,i,u,f),i.child)}function Am(e,i,l,u,f){if(e===null){var g=l.type;return typeof g=="function"&&!kc(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,Mm(e,i,g,u,f)):(e=xo(l.type,null,u,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!jh(e,f)){var p=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ya,l(p,u)&&e.ref===i.ref)return fi(e,i,f)}return i.flags|=1,e=ai(g,u),e.ref=i.ref,e.return=i,i.child=e}function Mm(e,i,l,u,f){if(e!==null){var g=e.memoizedProps;if(Ya(g,u)&&e.ref===i.ref)if(re=!1,i.pendingProps=u=g,jh(e,f))(e.flags&131072)!==0&&(re=!0);else return i.lanes=e.lanes,fi(e,i,f)}return Nh(e,i,l,u,f)}function wm(e,i,l,u){var f=u.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,e!==null){for(u=i.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,i.child=null;return Om(e,i,g,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&bo(i,g!==null?g.cachePool:null),g!==null?L_(i,g):hh(),z_(i);else return u=i.lanes=536870912,Om(e,i,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(bo(i,g.cachePool),L_(i,g),Ki(),i.memoizedState=null):(e!==null&&bo(i,null),hh(),Ki());return Re(e,i,f,l),i.child}function tr(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Om(e,i,l,u,f){var g=lh();return g=g===null?null:{parent:le._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},e!==null&&bo(i,null),hh(),z_(i),e!==null&&Ol(e,i,u,!0),i.childLanes=f,null}function jo(e,i){return i=Po({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Dm(e,i,l){return Ps(i,e.child,null,l),e=jo(i,i.pendingProps),e.flags|=2,ln(i),i.memoizedState=null,e}function r1(e,i,l){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(At){if(u.mode==="hidden")return e=jo(i,u),i.lanes=536870912,tr(null,e);if(dh(i),(e=qt)?(e=Hy(e,pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ui!==null?{id:Zn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},l=g_(e),l.return=i,i.child=l,Ce=i,qt=null)):e=null,e===null)throw Xi(i);return i.lanes=536870912,null}return jo(i,u)}var g=e.memoizedState;if(g!==null){var p=g.dehydrated;if(dh(i),f)if(i.flags&256)i.flags&=-257,i=Dm(e,i,l);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(re||Ol(e,i,l,!1),f=(l&e.childLanes)!==0,re||f){if(u=Pt,u!==null&&(p=_e(u,l),p!==0&&p!==g.retryLane))throw g.retryLane=p,Gs(e,p),ke(u,e,p),Ih;$o(),i=Dm(e,i,l)}else e=g.treeContext,qt=vn(p.nextSibling),Ce=i,At=!0,Yi=null,pn=!1,e!==null&&y_(i,e),i=jo(i,u),i.flags|=4096;return i}return e=ai(e.child,{mode:u.mode,children:u.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Ho(e,i){var l=i.ref;if(l===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(i.flags|=4194816)}}function Nh(e,i,l,u,f){return Xs(i),l=_h(e,i,l,u,void 0,f),u=mh(),e!==null&&!re?(yh(e,i,f),fi(e,i,f)):(At&&u&&Wc(i),i.flags|=1,Re(e,i,l,f),i.child)}function Lm(e,i,l,u,f,g){return Xs(i),i.updateQueue=null,l=N_(i,u,l,f),I_(e),u=mh(),e!==null&&!re?(yh(e,i,g),fi(e,i,g)):(At&&u&&Wc(i),i.flags|=1,Re(e,i,l,g),i.child)}function zm(e,i,l,u,f){if(Xs(i),i.stateNode===null){var g=bl,p=l.contextType;typeof p=="object"&&p!==null&&(g=Te(p)),g=new l(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Lh,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},rh(i),p=l.contextType,g.context=typeof p=="object"&&p!==null?Te(p):bl,g.state=i.memoizedState,p=l.getDerivedStateFromProps,typeof p=="function"&&(Dh(i,l,p,u),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(p=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),p!==g.state&&Lh.enqueueReplaceState(g,g.state,null),Va(i,u,g,f),qa(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(e===null){g=i.stateNode;var v=i.memoizedProps,T=Ks(l,v);g.props=T;var N=g.context,X=l.contextType;p=bl,typeof X=="object"&&X!==null&&(p=Te(X));var Z=l.getDerivedStateFromProps;X=typeof Z=="function"||typeof g.getSnapshotBeforeUpdate=="function",v=i.pendingProps!==v,X||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v||N!==p)&&Em(i,g,u,p),ji=!1;var F=i.memoizedState;g.state=F,Va(i,u,g,f),qa(),N=i.memoizedState,v||F!==N||ji?(typeof Z=="function"&&(Dh(i,l,Z,u),N=i.memoizedState),(T=ji||pm(i,l,T,u,F,N,p))?(X||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=N),g.props=u,g.state=N,g.context=p,u=T):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,oh(e,i),p=i.memoizedProps,X=Ks(l,p),g.props=X,Z=i.pendingProps,F=g.context,N=l.contextType,T=bl,typeof N=="object"&&N!==null&&(T=Te(N)),v=l.getDerivedStateFromProps,(N=typeof v=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(p!==Z||F!==T)&&Em(i,g,u,T),ji=!1,F=i.memoizedState,g.state=F,Va(i,u,g,f),qa();var Y=i.memoizedState;p!==Z||F!==Y||ji||e!==null&&e.dependencies!==null&&To(e.dependencies)?(typeof v=="function"&&(Dh(i,l,v,u),Y=i.memoizedState),(X=ji||pm(i,l,X,u,F,Y,T)||e!==null&&e.dependencies!==null&&To(e.dependencies))?(N||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Y,T),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Y,T)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Y),g.props=u,g.state=Y,g.context=T,u=X):(typeof g.componentDidUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),u=!1)}return g=u,Ho(e,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&u?(i.child=Ps(i,e.child,null,f),i.child=Ps(i,null,l,f)):Re(e,i,l,f),i.memoizedState=g.state,e=i.child):e=fi(e,i,f),e}function Im(e,i,l,u){return Us(),i.flags|=256,Re(e,i,l,u),i.child}var Gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fh(e){return{baseLanes:e,cachePool:C_()}}function Uh(e,i,l){return e=e!==null?e.childLanes&~l:0,i&&(e|=rn),e}function Nm(e,i,l){var u=i.pendingProps,f=!1,g=(i.flags&128)!==0,p;if((p=g)||(p=e!==null&&e.memoizedState===null?!1:(ne.current&2)!==0),p&&(f=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,e===null){if(At){if(f?Zi(i):Ki(),(e=qt)?(e=Hy(e,pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ui!==null?{id:Zn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},l=g_(e),l.return=i,i.child=l,Ce=i,qt=null)):e=null,e===null)throw Xi(i);return Sf(e)?i.lanes=32:i.lanes=536870912,null}var v=u.children;return u=u.fallback,f?(Ki(),f=i.mode,v=Po({mode:"hidden",children:v},f),u=Fs(u,f,l,null),v.return=i,u.return=i,v.sibling=u,i.child=v,u=i.child,u.memoizedState=Fh(l),u.childLanes=Uh(e,p,l),i.memoizedState=Gh,tr(null,u)):(Zi(i),Yh(i,v))}var T=e.memoizedState;if(T!==null&&(v=T.dehydrated,v!==null)){if(g)i.flags&256?(Zi(i),i.flags&=-257,i=Xh(e,i,l)):i.memoizedState!==null?(Ki(),i.child=e.child,i.flags|=128,i=null):(Ki(),v=u.fallback,f=i.mode,u=Po({mode:"visible",children:u.children},f),v=Fs(v,f,l,null),v.flags|=2,u.return=i,v.return=i,u.sibling=v,i.child=u,Ps(i,e.child,null,l),u=i.child,u.memoizedState=Fh(l),u.childLanes=Uh(e,p,l),i.memoizedState=Gh,i=tr(null,u));else if(Zi(i),Sf(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var N=p.dgst;p=N,u=Error(s(419)),u.stack="",u.digest=p,ja({value:u,source:null,stack:null}),i=Xh(e,i,l)}else if(re||Ol(e,i,l,!1),p=(l&e.childLanes)!==0,re||p){if(p=Pt,p!==null&&(u=_e(p,l),u!==0&&u!==T.retryLane))throw T.retryLane=u,Gs(e,u),ke(p,e,u),Ih;vf(v)||$o(),i=Xh(e,i,l)}else vf(v)?(i.flags|=192,i.child=e.child,i=null):(e=T.treeContext,qt=vn(v.nextSibling),Ce=i,At=!0,Yi=null,pn=!1,e!==null&&y_(i,e),i=Yh(i,u.children),i.flags|=4096);return i}return f?(Ki(),v=u.fallback,f=i.mode,T=e.child,N=T.sibling,u=ai(T,{mode:"hidden",children:u.children}),u.subtreeFlags=T.subtreeFlags&65011712,N!==null?v=ai(N,v):(v=Fs(v,f,l,null),v.flags|=2),v.return=i,u.return=i,u.sibling=v,i.child=u,tr(null,u),u=i.child,v=e.child.memoizedState,v===null?v=Fh(l):(f=v.cachePool,f!==null?(T=le._currentValue,f=f.parent!==T?{parent:T,pool:T}:f):f=C_(),v={baseLanes:v.baseLanes|l,cachePool:f}),u.memoizedState=v,u.childLanes=Uh(e,p,l),i.memoizedState=Gh,tr(e.child,u)):(Zi(i),l=e.child,e=l.sibling,l=ai(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,e!==null&&(p=i.deletions,p===null?(i.deletions=[e],i.flags|=16):p.push(e)),i.child=l,i.memoizedState=null,l)}function Yh(e,i){return i=Po({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Po(e,i){return e=nn(22,e,null,i),e.lanes=0,e}function Xh(e,i,l){return Ps(i,e.child,null,l),e=Yh(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Gm(e,i,l){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i),eh(e.return,i,l)}function Bh(e,i,l,u,f,g){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f,treeForkCount:g}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=f,p.treeForkCount=g)}function Fm(e,i,l){var u=i.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var p=ne.current,v=(p&2)!==0;if(v?(p=p&1|2,i.flags|=128):p&=1,W(ne,p),Re(e,i,u,l),u=At?Ba:0,!v&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gm(e,l,i);else if(e.tag===19)Gm(e,l,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=i.child,f=null;l!==null;)e=l.alternate,e!==null&&Lo(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),Bh(i,!1,f,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&Lo(e)===null){i.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Bh(i,!0,l,null,g,u);break;case"together":Bh(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function fi(e,i,l){if(e!==null&&(i.dependencies=e.dependencies),Vi|=i.lanes,(l&i.childLanes)===0)if(e!==null){if(Ol(e,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,l=ai(e,e.pendingProps),i.child=l,l.return=i;e.sibling!==null;)e=e.sibling,l=l.sibling=ai(e,e.pendingProps),l.return=i;l.sibling=null}return i.child}function jh(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&To(e)))}function o1(e,i,l){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),Bi(i,le,e.memoizedState.cache),Us();break;case 27:case 5:ue(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:Bi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,dh(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Zi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Nm(e,i,l):(Zi(i),e=fi(e,i,l),e!==null?e.sibling:null);Zi(i);break;case 19:var f=(e.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Ol(e,i,l,!1),u=(l&i.childLanes)!==0),f){if(u)return Fm(e,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(ne,ne.current),u)break;return null;case 22:return i.lanes=0,wm(e,i,l,i.pendingProps);case 24:Bi(i,le,e.memoizedState.cache)}return fi(e,i,l)}function Um(e,i,l){if(e!==null)if(e.memoizedProps!==i.pendingProps)re=!0;else{if(!jh(e,l)&&(i.flags&128)===0)return re=!1,o1(e,i,l);re=(e.flags&131072)!==0}else re=!1,At&&(i.flags&1048576)!==0&&m_(i,Ba,i.index);switch(i.lanes=0,i.tag){case 16:t:{var u=i.pendingProps;if(e=js(i.elementType),i.type=e,typeof e=="function")kc(e)?(u=Ks(e,u),i.tag=1,i=zm(null,i,e,u,l)):(i.tag=0,i=Nh(null,i,e,u,l));else{if(e!=null){var f=e.$$typeof;if(f===D){i.tag=11,i=bm(null,i,e,u,l);break t}else if(f===B){i.tag=14,i=Am(null,i,e,u,l);break t}}throw i=nt(e)||e,Error(s(306,i,""))}}return i;case 0:return Nh(e,i,i.type,i.pendingProps,l);case 1:return u=i.type,f=Ks(u,i.pendingProps),zm(e,i,u,f,l);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));u=i.pendingProps;var g=i.memoizedState;f=g.element,oh(e,i),Va(i,u,null,l);var p=i.memoizedState;if(u=p.cache,Bi(i,le,u),u!==g.cache&&nh(i,[le],l,!0),qa(),u=p.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Im(e,i,u,l);break t}else if(u!==f){f=_n(Error(s(424)),i),ja(f),i=Im(e,i,u,l);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,qt=vn(e.firstChild),Ce=i,At=!0,Yi=null,pn=!0,l=w_(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Us(),u===f){i=fi(e,i,l);break t}Re(e,i,u,l)}i=i.child}return i;case 26:return Ho(e,i),e===null?(l=Vy(i.type,null,i.pendingProps,null))?i.memoizedState=l:At||(l=i.type,e=i.pendingProps,u=au(ft.current).createElement(l),u[xe]=i,u[Be]=e,be(u,l,e),me(u),i.stateNode=u):i.memoizedState=Vy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ue(i),e===null&&At&&(u=i.stateNode=Ky(i.type,i.pendingProps,ft.current),Ce=i,pn=!0,f=qt,ts(i.type)?(xf=f,qt=vn(u.firstChild)):qt=f),Re(e,i,i.pendingProps.children,l),Ho(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&At&&((f=u=qt)&&(u=U1(u,i.type,i.pendingProps,pn),u!==null?(i.stateNode=u,Ce=i,qt=vn(u.firstChild),pn=!1,f=!0):f=!1),f||Xi(i)),ue(i),f=i.type,g=i.pendingProps,p=e!==null?e.memoizedProps:null,u=g.children,yf(f,g)?u=null:p!==null&&yf(f,p)&&(i.flags|=32),i.memoizedState!==null&&(f=_h(e,i,$v,null,null,l),_r._currentValue=f),Ho(e,i),Re(e,i,u,l),i.child;case 6:return e===null&&At&&((e=l=qt)&&(l=Y1(l,i.pendingProps,pn),l!==null?(i.stateNode=l,Ce=i,qt=null,e=!0):e=!1),e||Xi(i)),null;case 13:return Nm(e,i,l);case 4:return Zt(i,i.stateNode.containerInfo),u=i.pendingProps,e===null?i.child=Ps(i,null,u,l):Re(e,i,u,l),i.child;case 11:return bm(e,i,i.type,i.pendingProps,l);case 7:return Re(e,i,i.pendingProps,l),i.child;case 8:return Re(e,i,i.pendingProps.children,l),i.child;case 12:return Re(e,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,Bi(i,i.type,u.value),Re(e,i,u.children,l),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Xs(i),f=Te(f),u=u(f),i.flags|=1,Re(e,i,u,l),i.child;case 14:return Am(e,i,i.type,i.pendingProps,l);case 15:return Mm(e,i,i.type,i.pendingProps,l);case 19:return Fm(e,i,l);case 31:return r1(e,i,l);case 22:return wm(e,i,l,i.pendingProps);case 24:return Xs(i),u=Te(le),e===null?(f=lh(),f===null&&(f=Pt,g=ih(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=l),f=g),i.memoizedState={parent:u,cache:f},rh(i),Bi(i,le,f)):((e.lanes&l)!==0&&(oh(e,i),Va(i,null,null,l),qa()),f=e.memoizedState,g=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Bi(i,le,u)):(u=g.cache,Bi(i,le,u),u!==f.cache&&nh(i,[le],l,!0))),Re(e,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function di(e){e.flags|=4}function Hh(e,i,l,u,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(hy())e.flags|=8192;else throw Hs=Mo,ah}else e.flags&=-16777217}function Ym(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!t0(i))if(hy())e.flags|=8192;else throw Hs=Mo,ah}function Zo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ne():536870912,e.lanes|=i,jl|=i)}function er(e,i){if(!At)switch(e.tailMode){case"hidden":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Vt(e){var i=e.alternate!==null&&e.alternate.child===e.child,l=0,u=0;if(i)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=l,i}function u1(e,i,l){var u=i.pendingProps;switch(Qc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Vt(i),null;case 3:return l=i.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ui(le),Ot(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(wl(i)?di(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,$c())),Vt(i),null;case 26:var f=i.type,g=i.memoizedState;return e===null?(di(i),g!==null?(Vt(i),Ym(i,g)):(Vt(i),Hh(i,f,null,u,l))):g?g!==e.memoizedState?(di(i),Vt(i),Ym(i,g)):(Vt(i),i.flags&=-16777217):(e=e.memoizedProps,e!==u&&di(i),Vt(i),Hh(i,f,e,u,l)),null;case 27:if($n(i),l=ft.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&di(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Vt(i),null}e=Q.current,wl(i)?p_(i):(e=Ky(f,u,l),i.stateNode=e,di(i))}return Vt(i),null;case 5:if($n(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&di(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Vt(i),null}if(g=Q.current,wl(i))p_(i);else{var p=au(ft.current);switch(g){case 1:g=p.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=p.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=p.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=p.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=p.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?p.createElement(f,{is:u.is}):p.createElement(f)}}g[xe]=i,g[Be]=u;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)g.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=g;t:switch(be(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&di(i)}}return Vt(i),Hh(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,l),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==u&&di(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(e=ft.current,wl(i)){if(e=i.stateNode,l=i.memoizedProps,u=null,f=Ce,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[xe]=i,e=!!(e.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Ny(e.nodeValue,l)),e||Xi(i,!0)}else e=au(e).createTextNode(u),e[xe]=i,i.stateNode=e}return Vt(i),null;case 31:if(l=i.memoizedState,e===null||e.memoizedState!==null){if(u=wl(i),l!==null){if(e===null){if(!u)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[xe]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vt(i),e=!1}else l=$c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return i.flags&256?(ln(i),i):(ln(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Vt(i),null;case 13:if(u=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=wl(i),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xe]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vt(i),f=!1}else f=$c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ln(i),i):(ln(i),null)}return ln(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,e=e!==null&&e.memoizedState!==null,l&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),l!==e&&l&&(i.child.flags|=8192),Zo(i,i.updateQueue),Vt(i),null);case 4:return Ot(),e===null&&ff(i.stateNode.containerInfo),Vt(i),null;case 10:return ui(i.type),Vt(i),null;case 19:if(M(ne),u=i.memoizedState,u===null)return Vt(i),null;if(f=(i.flags&128)!==0,g=u.rendering,g===null)if(f)er(u,!1);else{if($t!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=Lo(e),g!==null){for(i.flags|=128,er(u,!1),e=g.updateQueue,i.updateQueue=e,Zo(i,e),i.subtreeFlags=0,e=l,l=i.child;l!==null;)d_(l,e),l=l.sibling;return W(ne,ne.current&1|2),At&&ri(i,u.treeForkCount),i.child}e=e.sibling}u.tail!==null&&ve()>Wo&&(i.flags|=128,f=!0,er(u,!1),i.lanes=4194304)}else{if(!f)if(e=Lo(g),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,Zo(i,e),er(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!At)return Vt(i),null}else 2*ve()-u.renderingStartTime>Wo&&l!==536870912&&(i.flags|=128,f=!0,er(u,!1),i.lanes=4194304);u.isBackwards?(g.sibling=i.child,i.child=g):(e=u.last,e!==null?e.sibling=g:i.child=g,u.last=g)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=ve(),e.sibling=null,l=ne.current,W(ne,f?l&1|2:l&1),At&&ri(i,u.treeForkCount),e):(Vt(i),null);case 22:case 23:return ln(i),fh(),u=i.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),l=i.updateQueue,l!==null&&Zo(i,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),e!==null&&M(Bs),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ui(le),Vt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function c1(e,i){switch(Qc(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ui(le),Ot(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return $n(i),null;case 31:if(i.memoizedState!==null){if(ln(i),i.alternate===null)throw Error(s(340));Us()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(ln(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Us()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return M(ne),null;case 4:return Ot(),null;case 10:return ui(i.type),null;case 22:case 23:return ln(i),fh(),e!==null&&M(Bs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ui(le),null;case 25:return null;default:return null}}function Xm(e,i){switch(Qc(i),i.tag){case 3:ui(le),Ot();break;case 26:case 27:case 5:$n(i);break;case 4:Ot();break;case 31:i.memoizedState!==null&&ln(i);break;case 13:ln(i);break;case 19:M(ne);break;case 10:ui(i.type);break;case 22:case 23:ln(i),fh(),e!==null&&M(Bs);break;case 24:ui(le)}}function nr(e,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){u=void 0;var g=l.create,p=l.inst;u=g(),p.destroy=u}l=l.next}while(l!==f)}}catch(v){Ut(i,i.return,v)}}function ki(e,i,l){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&e)===e){var p=u.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,f=i;var T=l,N=v;try{N()}catch(X){Ut(f,T,X)}}}u=u.next}while(u!==g)}}catch(X){Ut(i,i.return,X)}}function Bm(e){var i=e.updateQueue;if(i!==null){var l=e.stateNode;try{D_(i,l)}catch(u){Ut(e,e.return,u)}}}function jm(e,i,l){l.props=Ks(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(u){Ut(e,i,u)}}function ir(e,i){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof l=="function"?e.refCleanup=l(u):l.current=u}}catch(f){Ut(e,i,f)}}function kn(e,i){var l=e.ref,u=e.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){Ut(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Ut(e,i,f)}else l.current=null}function Hm(e){var i=e.type,l=e.memoizedProps,u=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){Ut(e,e.return,f)}}function Ph(e,i,l){try{var u=e.stateNode;L1(u,e.type,l,i),u[Be]=i}catch(f){Ut(e,e.return,f)}}function Pm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ts(e.type)||e.tag===4}function Zh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ts(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kh(e,i,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(e),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=si));else if(u!==4&&(u===27&&ts(e.type)&&(l=e.stateNode,i=null),e=e.child,e!==null))for(Kh(e,i,l),e=e.sibling;e!==null;)Kh(e,i,l),e=e.sibling}function Ko(e,i,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?l.insertBefore(e,i):l.appendChild(e);else if(u!==4&&(u===27&&ts(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ko(e,i,l),e=e.sibling;e!==null;)Ko(e,i,l),e=e.sibling}function Zm(e){var i=e.stateNode,l=e.memoizedProps;try{for(var u=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);be(i,u,l),i[xe]=e,i[Be]=l}catch(g){Ut(e,e.return,g)}}var gi=!1,oe=!1,kh=!1,Km=typeof WeakSet=="function"?WeakSet:Set,ye=null;function h1(e,i){if(e=e.containerInfo,_f=du,e=s_(e),Xc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else t:{l=(l=e.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break t}var p=0,v=-1,T=-1,N=0,X=0,Z=e,F=null;e:for(;;){for(var Y;Z!==l||f!==0&&Z.nodeType!==3||(v=p+f),Z!==g||u!==0&&Z.nodeType!==3||(T=p+u),Z.nodeType===3&&(p+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)F=Z,Z=Y;for(;;){if(Z===e)break e;if(F===l&&++N===f&&(v=p),F===g&&++X===u&&(T=p),(Y=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=Y}l=v===-1||T===-1?null:{start:v,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(mf={focusedElem:e,selectionRange:l},du=!1,ye=i;ye!==null;)if(i=ye,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ye=e;else for(;ye!==null;){switch(i=ye,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,l=i,f=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var it=Ks(l.type,f);e=u.getSnapshotBeforeUpdate(it,g),u.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Ut(l,l.return,dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,l=e.nodeType,l===9)Ef(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ef(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ye=e;break}ye=i.return}}function km(e,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:mi(e,l),u&4&&nr(5,l);break;case 1:if(mi(e,l),u&4)if(e=l.stateNode,i===null)try{e.componentDidMount()}catch(p){Ut(l,l.return,p)}else{var f=Ks(l.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ut(l,l.return,p)}}u&64&&Bm(l),u&512&&ir(l,l.return);break;case 3:if(mi(e,l),u&64&&(e=l.updateQueue,e!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{D_(e,i)}catch(p){Ut(l,l.return,p)}}break;case 27:i===null&&u&4&&Zm(l);case 26:case 5:mi(e,l),i===null&&u&4&&Hm(l),u&512&&ir(l,l.return);break;case 12:mi(e,l);break;case 31:mi(e,l),u&4&&Wm(e,l);break;case 13:mi(e,l),u&4&&Qm(e,l),u&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=v1.bind(null,l),X1(e,l))));break;case 22:if(u=l.memoizedState!==null||gi,!u){i=i!==null&&i.memoizedState!==null||oe,f=gi;var g=oe;gi=u,(oe=i)&&!g?yi(e,l,(l.subtreeFlags&8772)!==0):mi(e,l),gi=f,oe=g}break;case 30:break;default:mi(e,l)}}function qm(e){var i=e.alternate;i!==null&&(e.alternate=null,qm(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Cc(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Wt=null,He=!1;function _i(e,i,l){for(l=l.child;l!==null;)Vm(e,i,l),l=l.sibling}function Vm(e,i,l){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(Os,l)}catch{}switch(l.tag){case 26:oe||kn(l,i),_i(e,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:oe||kn(l,i);var u=Wt,f=He;ts(l.type)&&(Wt=l.stateNode,He=!1),_i(e,i,l),fr(l.stateNode),Wt=u,He=f;break;case 5:oe||kn(l,i);case 6:if(u=Wt,f=He,Wt=null,_i(e,i,l),Wt=u,He=f,Wt!==null)if(He)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(l.stateNode)}catch(g){Ut(l,i,g)}else try{Wt.removeChild(l.stateNode)}catch(g){Ut(l,i,g)}break;case 18:Wt!==null&&(He?(e=Wt,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Wl(e)):By(Wt,l.stateNode));break;case 4:u=Wt,f=He,Wt=l.stateNode.containerInfo,He=!0,_i(e,i,l),Wt=u,He=f;break;case 0:case 11:case 14:case 15:ki(2,l,i),oe||ki(4,l,i),_i(e,i,l);break;case 1:oe||(kn(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&jm(l,i,u)),_i(e,i,l);break;case 21:_i(e,i,l);break;case 22:oe=(u=oe)||l.memoizedState!==null,_i(e,i,l),oe=u;break;default:_i(e,i,l)}}function Wm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wl(e)}catch(l){Ut(i,i.return,l)}}}function Qm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wl(e)}catch(l){Ut(i,i.return,l)}}function f1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Km),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Km),i;default:throw Error(s(435,e.tag))}}function ko(e,i){var l=f1(e);i.forEach(function(u){if(!l.has(u)){l.add(u);var f=S1.bind(null,e,u);u.then(f,f)}})}function Pe(e,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],g=e,p=i,v=p;t:for(;v!==null;){switch(v.tag){case 27:if(ts(v.type)){Wt=v.stateNode,He=!1;break t}break;case 5:Wt=v.stateNode,He=!1;break t;case 3:case 4:Wt=v.stateNode.containerInfo,He=!0;break t}v=v.return}if(Wt===null)throw Error(s(160));Vm(g,p,f),Wt=null,He=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Jm(i,e),i=i.sibling}var zn=null;function Jm(e,i){var l=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pe(i,e),Ze(e),u&4&&(ki(3,e,e.return),nr(3,e),ki(5,e,e.return));break;case 1:Pe(i,e),Ze(e),u&512&&(oe||l===null||kn(l,l.return)),u&64&&gi&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=zn;if(Pe(i,e),Ze(e),u&512&&(oe||l===null||kn(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=e.memoizedState,l===null)if(u===null)if(e.stateNode===null){t:{u=e.type,l=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Oa]||g[xe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),be(g,u,l),g[xe]=e,me(g),u=g;break t;case"link":var p=Jy("link","href",f).get(u+(l.href||""));if(p){for(var v=0;v<p.length;v++)if(g=p[v],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){p.splice(v,1);break e}}g=f.createElement(u),be(g,u,l),f.head.appendChild(g);break;case"meta":if(p=Jy("meta","content",f).get(u+(l.content||""))){for(v=0;v<p.length;v++)if(g=p[v],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){p.splice(v,1);break e}}g=f.createElement(u),be(g,u,l),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[xe]=e,me(g),u=g}e.stateNode=u}else $y(f,e.type,e.stateNode);else e.stateNode=Qy(f,u,e.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?$y(f,e.type,e.stateNode):Qy(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Ph(e,e.memoizedProps,l.memoizedProps)}break;case 27:Pe(i,e),Ze(e),u&512&&(oe||l===null||kn(l,l.return)),l!==null&&u&4&&Ph(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Pe(i,e),Ze(e),u&512&&(oe||l===null||kn(l,l.return)),e.flags&32){f=e.stateNode;try{El(f,"")}catch(it){Ut(e,e.return,it)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,Ph(e,f,l!==null?l.memoizedProps:f)),u&1024&&(kh=!0);break;case 6:if(Pe(i,e),Ze(e),u&4){if(e.stateNode===null)throw Error(s(162));u=e.memoizedProps,l=e.stateNode;try{l.nodeValue=u}catch(it){Ut(e,e.return,it)}}break;case 3:if(uu=null,f=zn,zn=ru(i.containerInfo),Pe(i,e),zn=f,Ze(e),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Wl(i.containerInfo)}catch(it){Ut(e,e.return,it)}kh&&(kh=!1,$m(e));break;case 4:u=zn,zn=ru(e.stateNode.containerInfo),Pe(i,e),Ze(e),zn=u;break;case 12:Pe(i,e),Ze(e);break;case 31:Pe(i,e),Ze(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,ko(e,u)));break;case 13:Pe(i,e),Ze(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Vo=ve()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,ko(e,u)));break;case 22:f=e.memoizedState!==null;var T=l!==null&&l.memoizedState!==null,N=gi,X=oe;if(gi=N||f,oe=X||T,Pe(i,e),oe=X,gi=N,Ze(e),u&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(l===null||T||gi||oe||ks(e)),l=null,i=e;;){if(i.tag===5||i.tag===26){if(l===null){T=l=i;try{if(g=T.stateNode,f)p=g.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=T.stateNode;var Z=T.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(it){Ut(T,T.return,it)}}}else if(i.tag===6){if(l===null){T=i;try{T.stateNode.nodeValue=f?"":T.memoizedProps}catch(it){Ut(T,T.return,it)}}}else if(i.tag===18){if(l===null){T=i;try{var Y=T.stateNode;f?jy(Y,!0):jy(T.stateNode,!1)}catch(it){Ut(T,T.return,it)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=e.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,ko(e,l))));break;case 19:Pe(i,e),Ze(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,ko(e,u)));break;case 30:break;case 21:break;default:Pe(i,e),Ze(e)}}function Ze(e){var i=e.flags;if(i&2){try{for(var l,u=e.return;u!==null;){if(Pm(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var f=l.stateNode,g=Zh(e);Ko(e,g,f);break;case 5:var p=l.stateNode;l.flags&32&&(El(p,""),l.flags&=-33);var v=Zh(e);Ko(e,v,p);break;case 3:case 4:var T=l.stateNode.containerInfo,N=Zh(e);Kh(e,N,T);break;default:throw Error(s(161))}}catch(X){Ut(e,e.return,X)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function $m(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;$m(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function mi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)km(e,i.alternate,i),i=i.sibling}function ks(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ki(4,i,i.return),ks(i);break;case 1:kn(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&jm(i,i.return,l),ks(i);break;case 27:fr(i.stateNode);case 26:case 5:kn(i,i.return),ks(i);break;case 22:i.memoizedState===null&&ks(i);break;case 30:ks(i);break;default:ks(i)}e=e.sibling}}function yi(e,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=e,g=i,p=g.flags;switch(g.tag){case 0:case 11:case 15:yi(f,g,l),nr(4,g);break;case 1:if(yi(f,g,l),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(N){Ut(u,u.return,N)}if(u=g,f=u.updateQueue,f!==null){var v=u.stateNode;try{var T=f.shared.hiddenCallbacks;if(T!==null)for(f.shared.hiddenCallbacks=null,f=0;f<T.length;f++)O_(T[f],v)}catch(N){Ut(u,u.return,N)}}l&&p&64&&Bm(g),ir(g,g.return);break;case 27:Zm(g);case 26:case 5:yi(f,g,l),l&&u===null&&p&4&&Hm(g),ir(g,g.return);break;case 12:yi(f,g,l);break;case 31:yi(f,g,l),l&&p&4&&Wm(f,g);break;case 13:yi(f,g,l),l&&p&4&&Qm(f,g);break;case 22:g.memoizedState===null&&yi(f,g,l),ir(g,g.return);break;case 30:break;default:yi(f,g,l)}i=i.sibling}}function qh(e,i){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ha(l))}function Vh(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ha(e))}function In(e,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ty(e,i,l,u),i=i.sibling}function ty(e,i,l,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:In(e,i,l,u),f&2048&&nr(9,i);break;case 1:In(e,i,l,u);break;case 3:In(e,i,l,u),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ha(e)));break;case 12:if(f&2048){In(e,i,l,u),e=i.stateNode;try{var g=i.memoizedProps,p=g.id,v=g.onPostCommit;typeof v=="function"&&v(p,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Ut(i,i.return,T)}}else In(e,i,l,u);break;case 31:In(e,i,l,u);break;case 13:In(e,i,l,u);break;case 23:break;case 22:g=i.stateNode,p=i.alternate,i.memoizedState!==null?g._visibility&2?In(e,i,l,u):sr(e,i):g._visibility&2?In(e,i,l,u):(g._visibility|=2,Yl(e,i,l,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&qh(p,i);break;case 24:In(e,i,l,u),f&2048&&Vh(i.alternate,i);break;default:In(e,i,l,u)}}function Yl(e,i,l,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,p=i,v=l,T=u,N=p.flags;switch(p.tag){case 0:case 11:case 15:Yl(g,p,v,T,f),nr(8,p);break;case 23:break;case 22:var X=p.stateNode;p.memoizedState!==null?X._visibility&2?Yl(g,p,v,T,f):sr(g,p):(X._visibility|=2,Yl(g,p,v,T,f)),f&&N&2048&&qh(p.alternate,p);break;case 24:Yl(g,p,v,T,f),f&&N&2048&&Vh(p.alternate,p);break;default:Yl(g,p,v,T,f)}i=i.sibling}}function sr(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=e,u=i,f=u.flags;switch(u.tag){case 22:sr(l,u),f&2048&&qh(u.alternate,u);break;case 24:sr(l,u),f&2048&&Vh(u.alternate,u);break;default:sr(l,u)}i=i.sibling}}var lr=8192;function Xl(e,i,l){if(e.subtreeFlags&lr)for(e=e.child;e!==null;)ey(e,i,l),e=e.sibling}function ey(e,i,l){switch(e.tag){case 26:Xl(e,i,l),e.flags&lr&&e.memoizedState!==null&&J1(l,zn,e.memoizedState,e.memoizedProps);break;case 5:Xl(e,i,l);break;case 3:case 4:var u=zn;zn=ru(e.stateNode.containerInfo),Xl(e,i,l),zn=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=lr,lr=16777216,Xl(e,i,l),lr=u):Xl(e,i,l));break;default:Xl(e,i,l)}}function ny(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ar(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];ye=u,sy(u,e)}ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:ar(e),e.flags&2048&&ki(9,e,e.return);break;case 3:ar(e);break;case 12:ar(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,qo(e)):ar(e);break;default:ar(e)}}function qo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];ye=u,sy(u,e)}ny(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ki(8,i,i.return),qo(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,qo(i));break;default:qo(i)}e=e.sibling}}function sy(e,i){for(;ye!==null;){var l=ye;switch(l.tag){case 0:case 11:case 15:ki(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ha(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,ye=u;else t:for(l=e;ye!==null;){u=ye;var f=u.sibling,g=u.return;if(qm(u),u===l){ye=null;break t}if(f!==null){f.return=g,ye=f;break t}ye=g}}}var d1={getCacheForType:function(e){var i=Te(le),l=i.data.get(e);return l===void 0&&(l=e(),i.data.set(e,l)),l},cacheSignal:function(){return Te(le).controller.signal}},g1=typeof WeakMap=="function"?WeakMap:Map,It=0,Pt=null,Ct=null,Rt=0,Ft=0,an=null,qi=!1,Bl=!1,Wh=!1,pi=0,$t=0,Vi=0,qs=0,Qh=0,rn=0,jl=0,rr=null,Ke=null,Jh=!1,Vo=0,ly=0,Wo=1/0,Qo=null,Wi=null,ce=0,Qi=null,Hl=null,Ei=0,$h=0,tf=null,ay=null,or=0,ef=null;function on(){return(It&2)!==0&&Rt!==0?Rt&-Rt:L.T!==null?of():xg()}function ry(){if(rn===0)if((Rt&536870912)===0||At){var e=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),rn=e}else rn=536870912;return e=sn.current,e!==null&&(e.flags|=32),rn}function ke(e,i,l){(e===Pt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Pl(e,0),Ji(e,Rt,rn,!1)),ge(e,l),((It&2)===0||e!==Pt)&&(e===Pt&&((It&2)===0&&(qs|=l),$t===4&&Ji(e,Rt,rn,!1)),qn(e))}function oy(e,i,l){if((It&6)!==0)throw Error(s(327));var u=!l&&(i&127)===0&&(i&e.expiredLanes)===0||de(e,i),f=u?y1(e,i):sf(e,i,!0),g=u;do{if(f===0){Bl&&!u&&Ji(e,i,0,!1);break}else{if(l=e.current.alternate,g&&!_1(l)){f=sf(e,i,!1),g=!1;continue}if(f===2){if(g=i,e.errorRecoveryDisabledLanes&g)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;t:{var v=e;f=rr;var T=v.current.memoizedState.isDehydrated;if(T&&(Pl(v,p).flags|=256),p=sf(v,p,!1),p!==2){if(Wh&&!T){v.errorRecoveryDisabledLanes|=g,qs|=g,f=4;break t}g=Ke,Ke=f,g!==null&&(Ke===null?Ke=g:Ke.push.apply(Ke,g))}f=p}if(g=!1,f!==2)continue}}if(f===1){Pl(e,0),Ji(e,i,0,!0);break}t:{switch(u=e,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ji(u,i,rn,!qi);break t;case 2:Ke=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Vo+300-ve(),10<f)){if(Ji(u,i,rn,!qi),Ds(u,0,!0)!==0)break t;Ei=i,u.timeoutHandle=Yy(uy.bind(null,u,l,Ke,Qo,Jh,i,rn,qs,jl,qi,g,"Throttled",-0,0),f);break t}uy(u,l,Ke,Qo,Jh,i,rn,qs,jl,qi,g,null,-0,0)}}break}while(!0);qn(e)}function uy(e,i,l,u,f,g,p,v,T,N,X,Z,F,Y){if(e.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},ey(i,g,Z);var it=(g&62914560)===g?Vo-ve():(g&4194048)===g?ly-ve():0;if(it=$1(Z,it),it!==null){Ei=g,e.cancelPendingCommit=it(yy.bind(null,e,i,g,l,u,f,p,v,T,X,Z,null,F,Y)),Ji(e,g,p,!N);return}}yy(e,i,g,l,u,f,p,v,T)}function _1(e){for(var i=e;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],g=f.getSnapshot;f=f.value;try{if(!en(g(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ji(e,i,l,u){i&=~Qh,i&=~qs,e.suspendedLanes|=i,e.pingedLanes&=~i,u&&(e.warmLanes|=i),u=e.expirationTimes;for(var f=i;0<f;){var g=31-Se(f),p=1<<g;u[g]=-1,f&=~p}l!==0&&hn(e,l,i)}function Jo(){return(It&6)===0?(ur(0),!1):!0}function nf(){if(Ct!==null){if(Ft===0)var e=Ct.return;else e=Ct,oi=Ys=null,ph(e),Il=null,Za=0,e=Ct;for(;e!==null;)Xm(e.alternate,e),e=e.return;Ct=null}}function Pl(e,i){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,N1(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Ei=0,nf(),Pt=e,Ct=l=ai(e.current,null),Rt=i,Ft=0,an=null,qi=!1,Bl=de(e,i),Wh=!1,jl=rn=Qh=qs=Vi=$t=0,Ke=rr=null,Jh=!1,(i&8)!==0&&(i|=i&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=i;0<u;){var f=31-Se(u),g=1<<f;i|=e[f],u&=~g}return pi=i,Eo(),l}function cy(e,i){pt=null,L.H=$a,i===zl||i===Ao?(i=b_(),Ft=3):i===ah?(i=b_(),Ft=4):Ft=i===Ih?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,an=i,Ct===null&&($t=1,Bo(e,_n(i,e.current)))}function hy(){var e=sn.current;return e===null?!0:(Rt&4194048)===Rt?En===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?e===En:!1}function fy(){var e=L.H;return L.H=$a,e===null?$a:e}function dy(){var e=L.A;return L.A=d1,e}function $o(){$t=4,qi||(Rt&4194048)!==Rt&&sn.current!==null||(Bl=!0),(Vi&134217727)===0&&(qs&134217727)===0||Pt===null||Ji(Pt,Rt,rn,!1)}function sf(e,i,l){var u=It;It|=2;var f=fy(),g=dy();(Pt!==e||Rt!==i)&&(Qo=null,Pl(e,i)),i=!1;var p=$t;t:do try{if(Ft!==0&&Ct!==null){var v=Ct,T=an;switch(Ft){case 8:nf(),p=6;break t;case 3:case 2:case 9:case 6:sn.current===null&&(i=!0);var N=Ft;if(Ft=0,an=null,Zl(e,v,T,N),l&&Bl){p=0;break t}break;default:N=Ft,Ft=0,an=null,Zl(e,v,T,N)}}m1(),p=$t;break}catch(X){cy(e,X)}while(!0);return i&&e.shellSuspendCounter++,oi=Ys=null,It=u,L.H=f,L.A=g,Ct===null&&(Pt=null,Rt=0,Eo()),p}function m1(){for(;Ct!==null;)gy(Ct)}function y1(e,i){var l=It;It|=2;var u=fy(),f=dy();Pt!==e||Rt!==i?(Qo=null,Wo=ve()+500,Pl(e,i)):Bl=de(e,i);t:do try{if(Ft!==0&&Ct!==null){i=Ct;var g=an;e:switch(Ft){case 1:Ft=0,an=null,Zl(e,i,g,1);break;case 2:case 9:if(T_(g)){Ft=0,an=null,_y(i);break}i=function(){Ft!==2&&Ft!==9||Pt!==e||(Ft=7),qn(e)},g.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:T_(g)?(Ft=0,an=null,_y(i)):(Ft=0,an=null,Zl(e,i,g,7));break;case 5:var p=null;switch(Ct.tag){case 26:p=Ct.memoizedState;case 5:case 27:var v=Ct;if(p?t0(p):v.stateNode.complete){Ft=0,an=null;var T=v.sibling;if(T!==null)Ct=T;else{var N=v.return;N!==null?(Ct=N,tu(N)):Ct=null}break e}}Ft=0,an=null,Zl(e,i,g,5);break;case 6:Ft=0,an=null,Zl(e,i,g,6);break;case 8:nf(),$t=6;break t;default:throw Error(s(462))}}p1();break}catch(X){cy(e,X)}while(!0);return oi=Ys=null,L.H=u,L.A=f,It=l,Ct!==null?0:(Pt=null,Rt=0,Eo(),$t)}function p1(){for(;Ct!==null&&!Ni();)gy(Ct)}function gy(e){var i=Um(e.alternate,e,pi);e.memoizedProps=e.pendingProps,i===null?tu(e):Ct=i}function _y(e){var i=e,l=i.alternate;switch(i.tag){case 15:case 0:i=Lm(l,i,i.pendingProps,i.type,void 0,Rt);break;case 11:i=Lm(l,i,i.pendingProps,i.type.render,i.ref,Rt);break;case 5:ph(i);default:Xm(l,i),i=Ct=d_(i,pi),i=Um(l,i,pi)}e.memoizedProps=e.pendingProps,i===null?tu(e):Ct=i}function Zl(e,i,l,u){oi=Ys=null,ph(i),Il=null,Za=0;var f=i.return;try{if(a1(e,f,i,l,Rt)){$t=1,Bo(e,_n(l,e.current)),Ct=null;return}}catch(g){if(f!==null)throw Ct=f,g;$t=1,Bo(e,_n(l,e.current)),Ct=null;return}i.flags&32768?(At||u===1?e=!0:Bl||(Rt&536870912)!==0?e=!1:(qi=e=!0,(u===2||u===9||u===3||u===6)&&(u=sn.current,u!==null&&u.tag===13&&(u.flags|=16384))),my(i,e)):tu(i)}function tu(e){var i=e;do{if((i.flags&32768)!==0){my(i,qi);return}e=i.return;var l=u1(i.alternate,i,pi);if(l!==null){Ct=l;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);$t===0&&($t=5)}function my(e,i){do{var l=c1(e.alternate,e);if(l!==null){l.flags&=32767,Ct=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=l}while(e!==null);$t=6,Ct=null}function yy(e,i,l,u,f,g,p,v,T){e.cancelPendingCommit=null;do eu();while(ce!==0);if((It&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=Zc,Dn(e,l,g,p,v,T),e===Pt&&(Ct=Pt=null,Rt=0),Hl=i,Qi=e,Ei=l,$h=g,tf=f,ay=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,x1(fl,function(){return xy(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,f=P.p,P.p=2,p=It,It|=4;try{h1(e,i,l)}finally{It=p,P.p=f,L.T=u}}ce=1,py(),Ey(),vy()}}function py(){if(ce===1){ce=0;var e=Qi,i=Hl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var u=P.p;P.p=2;var f=It;It|=4;try{Jm(i,e);var g=mf,p=s_(e.containerInfo),v=g.focusedElem,T=g.selectionRange;if(p!==v&&v&&v.ownerDocument&&i_(v.ownerDocument.documentElement,v)){if(T!==null&&Xc(v)){var N=T.start,X=T.end;if(X===void 0&&(X=N),"selectionStart"in v)v.selectionStart=N,v.selectionEnd=Math.min(X,v.value.length);else{var Z=v.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var Y=F.getSelection(),it=v.textContent.length,dt=Math.min(T.start,it),Ht=T.end===void 0?dt:Math.min(T.end,it);!Y.extend&&dt>Ht&&(p=Ht,Ht=dt,dt=p);var O=n_(v,dt),A=n_(v,Ht);if(O&&A&&(Y.rangeCount!==1||Y.anchorNode!==O.node||Y.anchorOffset!==O.offset||Y.focusNode!==A.node||Y.focusOffset!==A.offset)){var I=Z.createRange();I.setStart(O.node,O.offset),Y.removeAllRanges(),dt>Ht?(Y.addRange(I),Y.extend(A.node,A.offset)):(I.setEnd(A.node,A.offset),Y.addRange(I))}}}}for(Z=[],Y=v;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<Z.length;v++){var H=Z[v];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}du=!!_f,mf=_f=null}finally{It=f,P.p=u,L.T=l}}e.current=i,ce=2}}function Ey(){if(ce===2){ce=0;var e=Qi,i=Hl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var u=P.p;P.p=2;var f=It;It|=4;try{km(e,i.alternate,i)}finally{It=f,P.p=u,L.T=l}}ce=3}}function vy(){if(ce===4||ce===3){ce=0,se();var e=Qi,i=Hl,l=Ei,u=ay;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ce=5:(ce=0,Hl=Qi=null,Sy(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Wi=null),wa(l),i=i.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(Os,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=L.T,f=P.p,P.p=2,L.T=null;try{for(var g=e.onRecoverableError,p=0;p<u.length;p++){var v=u[p];g(v.value,{componentStack:v.stack})}}finally{L.T=i,P.p=f}}(Ei&3)!==0&&eu(),qn(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===ef?or++:(or=0,ef=e):or=0,ur(0)}}function Sy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ha(i)))}function eu(){return py(),Ey(),vy(),xy()}function xy(){if(ce!==5)return!1;var e=Qi,i=$h;$h=0;var l=wa(Ei),u=L.T,f=P.p;try{P.p=32>l?32:l,L.T=null,l=tf,tf=null;var g=Qi,p=Ei;if(ce=0,Hl=Qi=null,Ei=0,(It&6)!==0)throw Error(s(331));var v=It;if(It|=4,iy(g.current),ty(g,g.current,p,l),It=v,ur(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(Os,g)}catch{}return!0}finally{P.p=f,L.T=u,Sy(e,i)}}function Cy(e,i,l){i=_n(l,i),i=zh(e.stateNode,i,2),e=Pi(e,i,2),e!==null&&(ge(e,2),qn(e))}function Ut(e,i,l){if(e.tag===3)Cy(e,e,l);else for(;i!==null;){if(i.tag===3){Cy(i,e,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Wi===null||!Wi.has(u))){e=_n(l,e),l=Tm(2),u=Pi(i,l,2),u!==null&&(Rm(l,u,i,e),ge(u,2),qn(u));break}}i=i.return}}function lf(e,i,l){var u=e.pingCache;if(u===null){u=e.pingCache=new g1;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(l)||(Wh=!0,f.add(l),e=E1.bind(null,e,i,l),i.then(e,e))}function E1(e,i,l){var u=e.pingCache;u!==null&&u.delete(i),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Pt===e&&(Rt&l)===l&&($t===4||$t===3&&(Rt&62914560)===Rt&&300>ve()-Vo?(It&2)===0&&Pl(e,0):Qh|=l,jl===Rt&&(jl=0)),qn(e)}function Ty(e,i){i===0&&(i=Ne()),e=Gs(e,i),e!==null&&(ge(e,i),qn(e))}function v1(e){var i=e.memoizedState,l=0;i!==null&&(l=i.retryLane),Ty(e,l)}function S1(e,i){var l=0;switch(e.tag){case 31:case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Ty(e,l)}function x1(e,i){return wn(e,i)}var nu=null,Kl=null,af=!1,iu=!1,rf=!1,$i=0;function qn(e){e!==Kl&&e.next===null&&(Kl===null?nu=Kl=e:Kl=Kl.next=e),iu=!0,af||(af=!0,T1())}function ur(e,i){if(!rf&&iu){rf=!0;do for(var l=!1,u=nu;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var p=u.suspendedLanes,v=u.pingedLanes;g=(1<<31-Se(42|e)+1)-1,g&=f&~(p&~v),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,My(u,g))}else g=Rt,g=Ds(u,u===Pt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||de(u,g)||(l=!0,My(u,g));u=u.next}while(l);rf=!1}}function C1(){Ry()}function Ry(){iu=af=!1;var e=0;$i!==0&&I1()&&(e=$i);for(var i=ve(),l=null,u=nu;u!==null;){var f=u.next,g=by(u,i);g===0?(u.next=null,l===null?nu=f:l.next=f,f===null&&(Kl=l)):(l=u,(e!==0||(g&3)!==0)&&(iu=!0)),u=f}ce!==0&&ce!==5||ur(e),$i!==0&&($i=0)}function by(e,i){for(var l=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var p=31-Se(g),v=1<<p,T=f[p];T===-1?((v&l)===0||(v&u)!==0)&&(f[p]=ni(v,i)):T<=i&&(e.expiredLanes|=v),g&=~v}if(i=Pt,l=Rt,l=Ds(e,e===i?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,l===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Xn(u),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||de(e,l)){if(i=l&-l,i===e.callbackPriority)return i;switch(u!==null&&Xn(u),wa(l)){case 2:case 8:l=ws;break;case 32:l=fl;break;case 268435456:l=ba;break;default:l=fl}return u=Ay.bind(null,e),l=wn(l,u),e.callbackPriority=i,e.callbackNode=l,i}return u!==null&&u!==null&&Xn(u),e.callbackPriority=2,e.callbackNode=null,2}function Ay(e,i){if(ce!==0&&ce!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(eu()&&e.callbackNode!==l)return null;var u=Rt;return u=Ds(e,e===Pt?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(oy(e,u,i),by(e,ve()),e.callbackNode!=null&&e.callbackNode===l?Ay.bind(null,e):null)}function My(e,i){if(eu())return null;oy(e,i,!0)}function T1(){G1(function(){(It&6)!==0?wn(Ms,C1):Ry()})}function of(){if($i===0){var e=Dl;e===0&&(e=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),$i=e}return $i}function wy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:co(""+e)}function Oy(e,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,e.id&&l.setAttribute("form",e.id),i.parentNode.insertBefore(l,i),e=new FormData(e),l.parentNode.removeChild(l),e}function R1(e,i,l,u,f){if(i==="submit"&&l&&l.stateNode===f){var g=wy((f[Be]||null).action),p=u.submitter;p&&(i=(i=p[Be]||null)?wy(i.formAction):p.getAttribute("formAction"),i!==null&&(g=i,p=null));var v=new _o("action","action",null,u,f);e.push({event:v,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($i!==0){var T=p?Oy(f,p):new FormData(f);Ah(l,{pending:!0,data:T,method:f.method,action:g},null,T)}}else typeof g=="function"&&(v.preventDefault(),T=p?Oy(f,p):new FormData(f),Ah(l,{pending:!0,data:T,method:f.method,action:g},g,T))},currentTarget:f}]})}}for(var uf=0;uf<Pc.length;uf++){var cf=Pc[uf],b1=cf.toLowerCase(),A1=cf[0].toUpperCase()+cf.slice(1);Ln(b1,"on"+A1)}Ln(r_,"onAnimationEnd"),Ln(o_,"onAnimationIteration"),Ln(u_,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Hv,"onTransitionRun"),Ln(Pv,"onTransitionStart"),Ln(Zv,"onTransitionCancel"),Ln(c_,"onTransitionEnd"),yl("onMouseEnter",["mouseout","mouseover"]),yl("onMouseLeave",["mouseout","mouseover"]),yl("onPointerEnter",["pointerout","pointerover"]),yl("onPointerLeave",["pointerout","pointerover"]),Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cr));function Dy(e,i){i=(i&4)!==0;for(var l=0;l<e.length;l++){var u=e[l],f=u.event;u=u.listeners;t:{var g=void 0;if(i)for(var p=u.length-1;0<=p;p--){var v=u[p],T=v.instance,N=v.currentTarget;if(v=v.listener,T!==g&&f.isPropagationStopped())break t;g=v,f.currentTarget=N;try{g(f)}catch(X){po(X)}f.currentTarget=null,g=T}else for(p=0;p<u.length;p++){if(v=u[p],T=v.instance,N=v.currentTarget,v=v.listener,T!==g&&f.isPropagationStopped())break t;g=v,f.currentTarget=N;try{g(f)}catch(X){po(X)}f.currentTarget=null,g=T}}}}function Tt(e,i){var l=i[xc];l===void 0&&(l=i[xc]=new Set);var u=e+"__bubble";l.has(u)||(Ly(i,e,2,!1),l.add(u))}function hf(e,i,l){var u=0;i&&(u|=4),Ly(l,e,u,i)}var su="_reactListening"+Math.random().toString(36).slice(2);function ff(e){if(!e[su]){e[su]=!0,Rg.forEach(function(l){l!=="selectionchange"&&(M1.has(l)||hf(l,!1,e),hf(l,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[su]||(i[su]=!0,hf("selectionchange",!1,i))}}function Ly(e,i,l,u){switch(r0(i)){case 2:var f=nS;break;case 8:f=iS;break;default:f=Af}l=f.bind(null,i,l,e),f=void 0,!Dc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(i,l,{capture:!0,passive:f}):e.addEventListener(i,l,!0):f!==void 0?e.addEventListener(i,l,{passive:f}):e.addEventListener(i,l,!1)}function df(e,i,l,u,f){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var v=u.stateNode.containerInfo;if(v===f)break;if(p===4)for(p=u.return;p!==null;){var T=p.tag;if((T===3||T===4)&&p.stateNode.containerInfo===f)return;p=p.return}for(;v!==null;){if(p=gl(v),p===null)return;if(T=p.tag,T===5||T===6||T===26||T===27){u=g=p;continue t}v=v.parentNode}}u=u.return}Fg(function(){var N=g,X=wc(l),Z=[];t:{var F=h_.get(e);if(F!==void 0){var Y=_o,it=e;switch(e){case"keypress":if(fo(l)===0)break t;case"keydown":case"keyup":Y=Sv;break;case"focusin":it="focus",Y=Nc;break;case"focusout":it="blur",Y=Nc;break;case"beforeblur":case"afterblur":Y=Nc;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=uv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Tv;break;case r_:case o_:case u_:Y=fv;break;case c_:Y=bv;break;case"scroll":case"scrollend":Y=rv;break;case"wheel":Y=Mv;break;case"copy":case"cut":case"paste":Y=gv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=jg;break;case"toggle":case"beforetoggle":Y=Ov}var dt=(i&4)!==0,Ht=!dt&&(e==="scroll"||e==="scrollend"),O=dt?F!==null?F+"Capture":null:F;dt=[];for(var A=N,I;A!==null;){var H=A;if(I=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||I===null||O===null||(H=La(A,O),H!=null&&dt.push(hr(A,H,I))),Ht)break;A=A.return}0<dt.length&&(F=new Y(F,it,null,l,X),Z.push({event:F,listeners:dt}))}}if((i&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&l!==Mc&&(it=l.relatedTarget||l.fromElement)&&(gl(it)||it[dl]))break t;if((Y||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(it=l.relatedTarget||l.toElement,Y=N,it=it?gl(it):null,it!==null&&(Ht=o(it),dt=it.tag,it!==Ht||dt!==5&&dt!==27&&dt!==6)&&(it=null)):(Y=null,it=N),Y!==it)){if(dt=Xg,H="onMouseLeave",O="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(dt=jg,H="onPointerLeave",O="onPointerEnter",A="pointer"),Ht=Y==null?F:Da(Y),I=it==null?F:Da(it),F=new dt(H,A+"leave",Y,l,X),F.target=Ht,F.relatedTarget=I,H=null,gl(X)===N&&(dt=new dt(O,A+"enter",it,l,X),dt.target=I,dt.relatedTarget=Ht,H=dt),Ht=H,Y&&it)e:{for(dt=w1,O=Y,A=it,I=0,H=O;H;H=dt(H))I++;H=0;for(var ot=A;ot;ot=dt(ot))H++;for(;0<I-H;)O=dt(O),I--;for(;0<H-I;)A=dt(A),H--;for(;I--;){if(O===A||A!==null&&O===A.alternate){dt=O;break e}O=dt(O),A=dt(A)}dt=null}else dt=null;Y!==null&&zy(Z,F,Y,dt,!1),it!==null&&Ht!==null&&zy(Z,Ht,it,dt,!0)}}t:{if(F=N?Da(N):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Dt=Wg;else if(qg(F))if(Qg)Dt=Xv;else{Dt=Uv;var at=Fv}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?N&&Ac(N.elementType)&&(Dt=Wg):Dt=Yv;if(Dt&&(Dt=Dt(e,N))){Vg(Z,Dt,l,X);break t}at&&at(e,F,N),e==="focusout"&&N&&F.type==="number"&&N.memoizedProps.value!=null&&bc(F,"number",F.value)}switch(at=N?Da(N):window,e){case"focusin":(qg(at)||at.contentEditable==="true")&&(Cl=at,Bc=N,Xa=null);break;case"focusout":Xa=Bc=Cl=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,l_(Z,l,X);break;case"selectionchange":if(jv)break;case"keydown":case"keyup":l_(Z,l,X)}var vt;if(Fc)t:{switch(e){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else xl?Kg(e,l)&&(bt="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(bt="onCompositionStart");bt&&(Hg&&l.locale!=="ko"&&(xl||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&xl&&(vt=Ug()):(Fi=X,Lc="value"in Fi?Fi.value:Fi.textContent,xl=!0)),at=lu(N,bt),0<at.length&&(bt=new Bg(bt,e,null,l,X),Z.push({event:bt,listeners:at}),vt?bt.data=vt:(vt=kg(l),vt!==null&&(bt.data=vt)))),(vt=Lv?zv(e,l):Iv(e,l))&&(bt=lu(N,"onBeforeInput"),0<bt.length&&(at=new Bg("onBeforeInput","beforeinput",null,l,X),Z.push({event:at,listeners:bt}),at.data=vt)),R1(Z,e,N,l,X)}Dy(Z,i)})}function hr(e,i,l){return{instance:e,listener:i,currentTarget:l}}function lu(e,i){for(var l=i+"Capture",u=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=La(e,l),f!=null&&u.unshift(hr(e,f,g)),f=La(e,i),f!=null&&u.push(hr(e,f,g))),e.tag===3)return u;e=e.return}return[]}function w1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zy(e,i,l,u,f){for(var g=i._reactName,p=[];l!==null&&l!==u;){var v=l,T=v.alternate,N=v.stateNode;if(v=v.tag,T!==null&&T===u)break;v!==5&&v!==26&&v!==27||N===null||(T=N,f?(N=La(l,g),N!=null&&p.unshift(hr(l,N,T))):f||(N=La(l,g),N!=null&&p.push(hr(l,N,T)))),l=l.return}p.length!==0&&e.push({event:i,listeners:p})}var O1=/\r\n?/g,D1=/\u0000|\uFFFD/g;function Iy(e){return(typeof e=="string"?e:""+e).replace(O1,`
`).replace(D1,"")}function Ny(e,i){return i=Iy(i),Iy(e)===i}function jt(e,i,l,u,f,g){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||El(e,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&El(e,""+u);break;case"className":oo(e,"class",u);break;case"tabIndex":oo(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":oo(e,l,u);break;case"style":Ng(e,u,g);break;case"data":if(i!=="object"){oo(e,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){e.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=co(""+u),e.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&jt(e,i,"name",f.name,f,null),jt(e,i,"formEncType",f.formEncType,f,null),jt(e,i,"formMethod",f.formMethod,f,null),jt(e,i,"formTarget",f.formTarget,f,null)):(jt(e,i,"encType",f.encType,f,null),jt(e,i,"method",f.method,f,null),jt(e,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=co(""+u),e.setAttribute(l,u);break;case"onClick":u!=null&&(e.onclick=si);break;case"onScroll":u!=null&&Tt("scroll",e);break;case"onScrollEnd":u!=null&&Tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}l=co(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""+u):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":u===!0?e.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,u):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(l,u):e.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(l):e.setAttribute(l,u);break;case"popover":Tt("beforetoggle",e),Tt("toggle",e),ro(e,"popover",u);break;case"xlinkActuate":ii(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ii(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ii(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ii(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ii(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ii(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ii(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ii(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ii(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ro(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=lv.get(l)||l,ro(e,l,u))}}function gf(e,i,l,u,f,g){switch(l){case"style":Ng(e,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof u=="string"?El(e,u):(typeof u=="number"||typeof u=="bigint")&&El(e,""+u);break;case"onScroll":u!=null&&Tt("scroll",e);break;case"onScrollEnd":u!=null&&Tt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bg.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),g=e[Be]||null,g=g!=null?g[l]:null,typeof g=="function"&&e.removeEventListener(i,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(i,u,f);break t}l in e?e[l]=u:u===!0?e.setAttribute(l,""):ro(e,l,u)}}}function be(e,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",e),Tt("load",e);var u=!1,f=!1,g;for(g in l)if(l.hasOwnProperty(g)){var p=l[g];if(p!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:jt(e,i,g,p,l,null)}}f&&jt(e,i,"srcSet",l.srcSet,l,null),u&&jt(e,i,"src",l.src,l,null);return;case"input":Tt("invalid",e);var v=g=p=f=null,T=null,N=null;for(u in l)if(l.hasOwnProperty(u)){var X=l[u];if(X!=null)switch(u){case"name":f=X;break;case"type":p=X;break;case"checked":T=X;break;case"defaultChecked":N=X;break;case"value":g=X;break;case"defaultValue":v=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:jt(e,i,u,X,l,null)}}Dg(e,g,v,T,N,p,f,!1);return;case"select":Tt("invalid",e),u=p=g=null;for(f in l)if(l.hasOwnProperty(f)&&(v=l[f],v!=null))switch(f){case"value":g=v;break;case"defaultValue":p=v;break;case"multiple":u=v;default:jt(e,i,f,v,l,null)}i=g,l=p,e.multiple=!!u,i!=null?pl(e,!!u,i,!1):l!=null&&pl(e,!!u,l,!0);return;case"textarea":Tt("invalid",e),g=f=u=null;for(p in l)if(l.hasOwnProperty(p)&&(v=l[p],v!=null))switch(p){case"value":u=v;break;case"defaultValue":f=v;break;case"children":g=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:jt(e,i,p,v,l,null)}zg(e,u,f,g);return;case"option":for(T in l)l.hasOwnProperty(T)&&(u=l[T],u!=null)&&(T==="selected"?e.selected=u&&typeof u!="function"&&typeof u!="symbol":jt(e,i,T,u,l,null));return;case"dialog":Tt("beforetoggle",e),Tt("toggle",e),Tt("cancel",e),Tt("close",e);break;case"iframe":case"object":Tt("load",e);break;case"video":case"audio":for(u=0;u<cr.length;u++)Tt(cr[u],e);break;case"image":Tt("error",e),Tt("load",e);break;case"details":Tt("toggle",e);break;case"embed":case"source":case"link":Tt("error",e),Tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in l)if(l.hasOwnProperty(N)&&(u=l[N],u!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:jt(e,i,N,u,l,null)}return;default:if(Ac(i)){for(X in l)l.hasOwnProperty(X)&&(u=l[X],u!==void 0&&gf(e,i,X,u,l,void 0));return}}for(v in l)l.hasOwnProperty(v)&&(u=l[v],u!=null&&jt(e,i,v,u,l,null))}function L1(e,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,p=null,v=null,T=null,N=null,X=null;for(Y in l){var Z=l[Y];if(l.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":T=Z;default:u.hasOwnProperty(Y)||jt(e,i,Y,null,u,Z)}}for(var F in u){var Y=u[F];if(Z=l[F],u.hasOwnProperty(F)&&(Y!=null||Z!=null))switch(F){case"type":g=Y;break;case"name":f=Y;break;case"checked":N=Y;break;case"defaultChecked":X=Y;break;case"value":p=Y;break;case"defaultValue":v=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==Z&&jt(e,i,F,Y,u,Z)}}Rc(e,p,v,T,N,X,g,f);return;case"select":Y=p=v=F=null;for(g in l)if(T=l[g],l.hasOwnProperty(g)&&T!=null)switch(g){case"value":break;case"multiple":Y=T;default:u.hasOwnProperty(g)||jt(e,i,g,null,u,T)}for(f in u)if(g=u[f],T=l[f],u.hasOwnProperty(f)&&(g!=null||T!=null))switch(f){case"value":F=g;break;case"defaultValue":v=g;break;case"multiple":p=g;default:g!==T&&jt(e,i,f,g,u,T)}i=v,l=p,u=Y,F!=null?pl(e,!!l,F,!1):!!u!=!!l&&(i!=null?pl(e,!!l,i,!0):pl(e,!!l,l?[]:"",!1));return;case"textarea":Y=F=null;for(v in l)if(f=l[v],l.hasOwnProperty(v)&&f!=null&&!u.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:jt(e,i,v,null,u,f)}for(p in u)if(f=u[p],g=l[p],u.hasOwnProperty(p)&&(f!=null||g!=null))switch(p){case"value":F=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&jt(e,i,p,f,u,g)}Lg(e,F,Y);return;case"option":for(var it in l)F=l[it],l.hasOwnProperty(it)&&F!=null&&!u.hasOwnProperty(it)&&(it==="selected"?e.selected=!1:jt(e,i,it,null,u,F));for(T in u)F=u[T],Y=l[T],u.hasOwnProperty(T)&&F!==Y&&(F!=null||Y!=null)&&(T==="selected"?e.selected=F&&typeof F!="function"&&typeof F!="symbol":jt(e,i,T,F,u,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in l)F=l[dt],l.hasOwnProperty(dt)&&F!=null&&!u.hasOwnProperty(dt)&&jt(e,i,dt,null,u,F);for(N in u)if(F=u[N],Y=l[N],u.hasOwnProperty(N)&&F!==Y&&(F!=null||Y!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:jt(e,i,N,F,u,Y)}return;default:if(Ac(i)){for(var Ht in l)F=l[Ht],l.hasOwnProperty(Ht)&&F!==void 0&&!u.hasOwnProperty(Ht)&&gf(e,i,Ht,void 0,u,F);for(X in u)F=u[X],Y=l[X],!u.hasOwnProperty(X)||F===Y||F===void 0&&Y===void 0||gf(e,i,X,F,u,Y);return}}for(var O in l)F=l[O],l.hasOwnProperty(O)&&F!=null&&!u.hasOwnProperty(O)&&jt(e,i,O,null,u,F);for(Z in u)F=u[Z],Y=l[Z],!u.hasOwnProperty(Z)||F===Y||F==null&&Y==null||jt(e,i,Z,F,u,Y)}function Gy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var f=l[u],g=f.transferSize,p=f.initiatorType,v=f.duration;if(g&&v&&Gy(p)){for(p=0,v=f.responseEnd,u+=1;u<l.length;u++){var T=l[u],N=T.startTime;if(N>v)break;var X=T.transferSize,Z=T.initiatorType;X&&Gy(Z)&&(T=T.responseEnd,p+=X*(T<v?1:(v-N)/(T-N)))}if(--u,i+=8*(g+p)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _f=null,mf=null;function au(e){return e.nodeType===9?e:e.ownerDocument}function Fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function yf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pf=null;function I1(){var e=window.event;return e&&e.type==="popstate"?e===pf?!1:(pf=e,!0):(pf=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,G1=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(F1)}:Yy;function F1(e){setTimeout(function(){throw e})}function ts(e){return e==="head"}function By(e,i){var l=i,u=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(u===0){e.removeChild(f),Wl(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")fr(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,fr(l);for(var g=l.firstChild;g;){var p=g.nextSibling,v=g.nodeName;g[Oa]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=p}}else l==="body"&&fr(e.ownerDocument.body);l=f}while(l);Wl(i)}function jy(e,i){var l=e;e=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=u}while(l)}function Ef(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ef(l),Cc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function U1(e,i,l,u){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Oa])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=vn(e.nextSibling),e===null)break}return null}function Y1(e,i,l){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=vn(e.nextSibling),e===null))return null;return e}function Hy(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=vn(e.nextSibling),e===null))return null;return e}function vf(e){return e.data==="$?"||e.data==="$~"}function Sf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X1(e,i){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function vn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var xf=null;function Py(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(i===0)return vn(e.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}e=e.nextSibling}return null}function Zy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return e;i--}else l!=="/$"&&l!=="/&"||i++}e=e.previousSibling}return null}function Ky(e,i,l){switch(i=au(l),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function fr(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Cc(e)}var Sn=new Map,ky=new Set;function ru(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vi=P.d;P.d={f:B1,r:j1,D:H1,C:P1,L:Z1,m:K1,X:q1,S:k1,M:V1};function B1(){var e=vi.f(),i=Jo();return e||i}function j1(e){var i=_l(e);i!==null&&i.tag===5&&i.type==="form"?cm(i):vi.r(e)}var kl=typeof document>"u"?null:document;function qy(e,i,l){var u=kl;if(u&&typeof i=="string"&&i){var f=dn(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),ky.has(f)||(ky.add(f),e={rel:e,crossOrigin:l,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),be(i,"link",e),me(i),u.head.appendChild(i)))}}function H1(e){vi.D(e),qy("dns-prefetch",e,null)}function P1(e,i){vi.C(e,i),qy("preconnect",e,i)}function Z1(e,i,l){vi.L(e,i,l);var u=kl;if(u&&e&&i){var f='link[rel="preload"][as="'+dn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+dn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+dn(l.imageSizes)+'"]')):f+='[href="'+dn(e)+'"]';var g=f;switch(i){case"style":g=ql(e);break;case"script":g=Vl(e)}Sn.has(g)||(e=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:e,as:i},l),Sn.set(g,e),u.querySelector(f)!==null||i==="style"&&u.querySelector(dr(g))||i==="script"&&u.querySelector(gr(g))||(i=u.createElement("link"),be(i,"link",e),me(i),u.head.appendChild(i)))}}function K1(e,i){vi.m(e,i);var l=kl;if(l&&e){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+dn(u)+'"][href="'+dn(e)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Vl(e)}if(!Sn.has(g)&&(e=y({rel:"modulepreload",href:e},i),Sn.set(g,e),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gr(g)))return}u=l.createElement("link"),be(u,"link",e),me(u),l.head.appendChild(u)}}}function k1(e,i,l){vi.S(e,i,l);var u=kl;if(u&&e){var f=ml(u).hoistableStyles,g=ql(e);i=i||"default";var p=f.get(g);if(!p){var v={loading:0,preload:null};if(p=u.querySelector(dr(g)))v.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":i},l),(l=Sn.get(g))&&Cf(e,l);var T=p=u.createElement("link");me(T),be(T,"link",e),T._p=new Promise(function(N,X){T.onload=N,T.onerror=X}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,ou(p,i,u)}p={type:"stylesheet",instance:p,count:1,state:v},f.set(g,p)}}}function q1(e,i){vi.X(e,i);var l=kl;if(l&&e){var u=ml(l).hoistableScripts,f=Vl(e),g=u.get(f);g||(g=l.querySelector(gr(f)),g||(e=y({src:e,async:!0},i),(i=Sn.get(f))&&Tf(e,i),g=l.createElement("script"),me(g),be(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function V1(e,i){vi.M(e,i);var l=kl;if(l&&e){var u=ml(l).hoistableScripts,f=Vl(e),g=u.get(f);g||(g=l.querySelector(gr(f)),g||(e=y({src:e,async:!0,type:"module"},i),(i=Sn.get(f))&&Tf(e,i),g=l.createElement("script"),me(g),be(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Vy(e,i,l,u){var f=(f=ft.current)?ru(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=ql(l.href),l=ml(f).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=ql(l.href);var g=ml(f).hoistableStyles,p=g.get(e);if(p||(f=f.ownerDocument||f,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,p),(g=f.querySelector(dr(e)))&&!g._p&&(p.instance=g,p.state.loading=5),Sn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Sn.set(e,l),g||W1(f,e,l,p.state))),i&&u===null)throw Error(s(528,""));return p}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vl(l),l=ml(f).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ql(e){return'href="'+dn(e)+'"'}function dr(e){return'link[rel="stylesheet"]['+e+"]"}function Wy(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function W1(e,i,l,u){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=e.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),be(i,"link",l),me(i),e.head.appendChild(i))}function Vl(e){return'[src="'+dn(e)+'"]'}function gr(e){return"script[async]"+e}function Qy(e,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=e.querySelector('style[data-href~="'+dn(l.href)+'"]');if(u)return i.instance=u,me(u),u;var f=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),me(u),be(u,"style",f),ou(u,l.precedence,e),i.instance=u;case"stylesheet":f=ql(l.href);var g=e.querySelector(dr(f));if(g)return i.state.loading|=4,i.instance=g,me(g),g;u=Wy(l),(f=Sn.get(f))&&Cf(u,f),g=(e.ownerDocument||e).createElement("link"),me(g);var p=g;return p._p=new Promise(function(v,T){p.onload=v,p.onerror=T}),be(g,"link",u),i.state.loading|=4,ou(g,l.precedence,e),i.instance=g;case"script":return g=Vl(l.src),(f=e.querySelector(gr(g)))?(i.instance=f,me(f),f):(u=l,(f=Sn.get(g))&&(u=y({},l),Tf(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),me(f),be(f,"link",u),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,ou(u,l.precedence,e));return i.instance}function ou(e,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,p=0;p<u.length;p++){var v=u[p];if(v.dataset.precedence===i)g=v;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(e,i.firstChild))}function Cf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Tf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var uu=null;function Jy(e,i,l){if(uu===null){var u=new Map,f=uu=new Map;f.set(l,u)}else f=uu,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(e))return u;for(u.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var g=l[f];if(!(g[Oa]||g[xe]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var p=g.getAttribute(i)||"";p=e+p;var v=u.get(p);v?v.push(g):u.set(p,[g])}}return u}function $y(e,i,l){e=e.ownerDocument||e,e.head.insertBefore(l,i==="title"?e.querySelector("head > title"):null)}function Q1(e,i,l){if(l===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function t0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function J1(e,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=ql(u.href),g=i.querySelector(dr(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=cu.bind(e),i.then(e,e)),l.state.loading|=4,l.instance=g,me(g);return}g=i.ownerDocument||i,u=Wy(u),(f=Sn.get(f))&&Cf(u,f),g=g.createElement("link"),me(g);var p=g;p._p=new Promise(function(v,T){p.onload=v,p.onerror=T}),be(g,"link",u),l.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=cu.bind(e),i.addEventListener("load",l),i.addEventListener("error",l))}}var Rf=0;function $1(e,i){return e.stylesheets&&e.count===0&&fu(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var u=setTimeout(function(){if(e.stylesheets&&fu(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Rf===0&&(Rf=62500*z1());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fu(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Rf?50:800)+i);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function cu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hu=null;function fu(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hu=new Map,i.forEach(tS,e),hu=null,cu.call(e))}function tS(e,i){if(!(i.state.loading&4)){var l=hu.get(e);if(l)var u=l.get(null);else{l=new Map,hu.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var p=f[g];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(l.set(p.dataset.precedence,p),u=p)}u&&l.set(null,u)}f=i.instance,p=f.getAttribute("data-precedence"),g=l.get(p)||u,g===u&&l.set(null,f),l.set(p,f),this.count++,u=cu.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var _r={$$typeof:U,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function eS(e,i,l,u,f,g,p,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xe(0),this.hiddenUpdates=Xe(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function e0(e,i,l,u,f,g,p,v,T,N,X,Z){return e=new eS(e,i,l,p,T,N,X,Z,v),i=1,g===!0&&(i|=24),g=nn(3,null,null,i),e.current=g,g.stateNode=e,i=ih(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:i},rh(g),e}function n0(e){return e?(e=bl,e):bl}function i0(e,i,l,u,f,g){f=n0(f),u.context===null?u.context=f:u.pendingContext=f,u=Hi(i),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Pi(e,u,i),l!==null&&(ke(l,e,i),ka(l,e,i))}function s0(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<i?l:i}}function bf(e,i){s0(e,i),(e=e.alternate)&&s0(e,i)}function l0(e){if(e.tag===13||e.tag===31){var i=Gs(e,67108864);i!==null&&ke(i,e,67108864),bf(e,67108864)}}function a0(e){if(e.tag===13||e.tag===31){var i=on();i=tn(i);var l=Gs(e,i);l!==null&&ke(l,e,i),bf(e,i)}}var du=!0;function nS(e,i,l,u){var f=L.T;L.T=null;var g=P.p;try{P.p=2,Af(e,i,l,u)}finally{P.p=g,L.T=f}}function iS(e,i,l,u){var f=L.T;L.T=null;var g=P.p;try{P.p=8,Af(e,i,l,u)}finally{P.p=g,L.T=f}}function Af(e,i,l,u){if(du){var f=Mf(u);if(f===null)df(e,i,u,gu,l),o0(e,u);else if(lS(f,e,i,l,u))u.stopPropagation();else if(o0(e,u),i&4&&-1<sS.indexOf(e)){for(;f!==null;){var g=_l(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var p=Pn(g.pendingLanes);if(p!==0){var v=g;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var T=1<<31-Se(p);v.entanglements[1]|=T,p&=~T}qn(g),(It&6)===0&&(Wo=ve()+500,ur(0))}}break;case 31:case 13:v=Gs(g,2),v!==null&&ke(v,g,2),Jo(),bf(g,2)}if(g=Mf(u),g===null&&df(e,i,u,gu,l),g===f)break;f=g}f!==null&&u.stopPropagation()}else df(e,i,u,null,l)}}function Mf(e){return e=wc(e),wf(e)}var gu=null;function wf(e){if(gu=null,e=gl(e),e!==null){var i=o(e);if(i===null)e=null;else{var l=i.tag;if(l===13){if(e=c(i),e!==null)return e;e=null}else if(l===31){if(e=h(i),e!==null)return e;e=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return gu=e,null}function r0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ra()){case Ms:return 2;case ws:return 8;case fl:case lo:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Of=!1,es=null,ns=null,is=null,mr=new Map,yr=new Map,ss=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(e,i){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":mr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yr.delete(i.pointerId)}}function pr(e,i,l,u,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},i!==null&&(i=_l(i),i!==null&&l0(i)),e):(e.eventSystemFlags|=u,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function lS(e,i,l,u,f){switch(i){case"focusin":return es=pr(es,e,i,l,u,f),!0;case"dragenter":return ns=pr(ns,e,i,l,u,f),!0;case"mouseover":return is=pr(is,e,i,l,u,f),!0;case"pointerover":var g=f.pointerId;return mr.set(g,pr(mr.get(g)||null,e,i,l,u,f)),!0;case"gotpointercapture":return g=f.pointerId,yr.set(g,pr(yr.get(g)||null,e,i,l,u,f)),!0}return!1}function u0(e){var i=gl(e.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){e.blockedOn=i,Cg(e.priority,function(){a0(l)});return}}else if(i===31){if(i=h(l),i!==null){e.blockedOn=i,Cg(e.priority,function(){a0(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _u(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var l=Mf(e.nativeEvent);if(l===null){l=e.nativeEvent;var u=new l.constructor(l.type,l);Mc=u,l.target.dispatchEvent(u),Mc=null}else return i=_l(l),i!==null&&l0(i),e.blockedOn=l,!1;i.shift()}return!0}function c0(e,i,l){_u(e)&&l.delete(i)}function aS(){Of=!1,es!==null&&_u(es)&&(es=null),ns!==null&&_u(ns)&&(ns=null),is!==null&&_u(is)&&(is=null),mr.forEach(c0),yr.forEach(c0)}function mu(e,i){e.blockedOn===i&&(e.blockedOn=null,Of||(Of=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,aS)))}var yu=null;function h0(e){yu!==e&&(yu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){yu===e&&(yu=null);for(var i=0;i<e.length;i+=3){var l=e[i],u=e[i+1],f=e[i+2];if(typeof u!="function"){if(wf(u||l)===null)continue;break}var g=_l(l);g!==null&&(e.splice(i,3),i-=3,Ah(g,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function Wl(e){function i(T){return mu(T,e)}es!==null&&mu(es,e),ns!==null&&mu(ns,e),is!==null&&mu(is,e),mr.forEach(i),yr.forEach(i);for(var l=0;l<ss.length;l++){var u=ss[l];u.blockedOn===e&&(u.blockedOn=null)}for(;0<ss.length&&(l=ss[0],l.blockedOn===null);)u0(l),l.blockedOn===null&&ss.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],g=l[u+1],p=f[Be]||null;if(typeof g=="function")p||h0(l);else if(p){var v=null;if(g&&g.hasAttribute("formAction")){if(f=g,p=g[Be]||null)v=p.formAction;else if(wf(f)!==null)continue}else v=p.action;typeof v=="function"?l[u+1]=v:(l.splice(u,3),u-=3),h0(l)}}}function f0(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(p){return f=p})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Df(e){this._internalRoot=e}pu.prototype.render=Df.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,u=on();i0(l,u,e,i,null,null)},pu.prototype.unmount=Df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;i0(e.current,2,null,e,null,null),Jo(),i[dl]=null}};function pu(e){this._internalRoot=e}pu.prototype.unstable_scheduleHydration=function(e){if(e){var i=xg();e={blockedOn:null,target:e,priority:i};for(var l=0;l<ss.length&&i!==0&&i<ss[l].priority;l++);ss.splice(l,0,e),l===0&&u0(e)}};var d0=t.version;if(d0!=="19.2.4")throw Error(s(527,d0,"19.2.4"));P.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(i),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var rS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{Os=Eu.inject(rS),we=Eu}catch{}}return vr.createRoot=function(e,i){if(!r(e))throw Error(s(299));var l=!1,u="",f=vm,g=Sm,p=xm;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=e0(e,1,!1,null,null,l,u,null,f,g,p,f0),e[dl]=i.current,ff(e),new Df(i)},vr.hydrateRoot=function(e,i,l){if(!r(e))throw Error(s(299));var u=!1,f="",g=vm,p=Sm,v=xm,T=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(p=l.onCaughtError),l.onRecoverableError!==void 0&&(v=l.onRecoverableError),l.formState!==void 0&&(T=l.formState)),i=e0(e,1,!0,i,l??null,u,f,T,g,p,v,f0),i.context=n0(null),l=i.current,u=on(),u=tn(u),f=Hi(u),f.callback=null,Pi(l,f,u),l=u,i.current.lanes=l,ge(i,l),qn(i),e[dl]=i.current,ff(e),new pu(i)},vr.version="19.2.4",vr}var C0;function yS(){if(C0)return If.exports;C0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),If.exports=mS(),If.exports}var pS=yS();const qe={ADD:"add",REMOVE:"remove"},ga={PROPERTYCHANGE:"propertychange"},Et={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Qu{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function ES(a,t,n){let s,r;n=n||bi;let o=0,c=a.length,h=!1;for(;o<c;)s=o+(c-o>>1),r=+n(a[s],t),r<0?o=s+1:(c=s,h=!r);return h?o:~o}function bi(a,t){return a>t?1:a<t?-1:0}function vS(a,t){return a<t?1:a>t?-1:0}function Ld(a,t,n){if(a[0]<=t)return 0;const s=a.length;if(t<=a[s-1])return s-1;if(typeof n=="function"){for(let r=1;r<s;++r){const o=a[r];if(o===t)return r;if(o<t)return n(t,a[r-1],o)>0?r-1:r}return s-1}if(n>0){for(let r=1;r<s;++r)if(a[r]<t)return r-1;return s-1}if(n<0){for(let r=1;r<s;++r)if(a[r]<=t)return r;return s-1}for(let r=1;r<s;++r){if(a[r]==t)return r;if(a[r]<t)return a[r-1]-t<t-a[r]?r-1:r}return s-1}function SS(a,t,n){for(;t<n;){const s=a[t];a[t]=a[n],a[n]=s,++t,--n}}function Jn(a,t){const n=Array.isArray(t)?t:[t],s=n.length;for(let r=0;r<s;r++)a[a.length]=n[r]}function Rs(a,t){const n=a.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(a[s]!==t[s])return!1;return!0}function xS(a,t,n){const s=t||bi;return a.every(function(r,o){if(o===0)return!0;const c=s(a[o-1],r);return!(c>0||c===0)})}function Gr(){return!0}function Ju(){return!1}function Fr(){}function Op(a){let t,n,s;return function(){const r=Array.prototype.slice.call(arguments);return(!n||this!==s||!Rs(r,n))&&(s=this,n=r,t=a.apply(this,arguments)),t}}function CS(a){function t(){let n;try{n=a()}catch(s){return Promise.reject(s)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function Vr(a){for(const t in a)delete a[t]}function ll(a){let t;for(t in a)return!1;return!t}class Di{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class $u extends Qu{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const s=this.listeners_||(this.listeners_={}),r=s[t]||(s[t]=[]);r.includes(n)||r.push(n)}dispatchEvent(t){const n=typeof t=="string",s=n?t:t.type,r=this.listeners_&&this.listeners_[s];if(!r)return;const o=n?new Di(t):t;o.target||(o.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});s in c||(c[s]=0,h[s]=0),++c[s];let d;for(let _=0,m=r.length;_<m;++_)if("handleEvent"in r[_]?d=r[_].handleEvent(o):d=r[_].call(this,o),d===!1||o.propagationStopped){d=!1;break}if(--c[s]===0){let _=h[s];for(delete h[s];_--;)this.removeEventListener(s,Fr);delete c[s]}return d}disposeInternal(){this.listeners_&&Vr(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const s=this.listeners_[t];if(!s)return;const r=s.indexOf(n);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(s[r]=Fr,++this.pendingRemovals_[t]):(s.splice(r,1),s.length===0&&delete this.listeners_[t]))}}function wt(a,t,n,s,r){if(r){const c=n;n=function(h){return a.removeEventListener(t,n),c.call(s??this,h)}}else s&&s!==a&&(n=n.bind(s));const o={target:a,type:t,listener:n};return a.addEventListener(t,n),o}function Iu(a,t,n,s){return wt(a,t,n,s,!0)}function Kt(a){a&&a.target&&(a.target.removeEventListener(a.type,a.listener),Vr(a))}class Wr extends $u{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Et.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const s=t.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=wt(this,t[o],n);return r}return wt(this,t,n)}onceInternal(t,n){let s;if(Array.isArray(t)){const r=t.length;s=new Array(r);for(let o=0;o<r;++o)s[o]=Iu(this,t[o],n)}else s=Iu(this,t,n);return n.ol_key=s,s}unInternal(t,n){const s=n.ol_key;if(s)TS(s);else if(Array.isArray(t))for(let r=0,o=t.length;r<o;++r)this.removeEventListener(t[r],n);else this.removeEventListener(t,n)}}Wr.prototype.on;Wr.prototype.once;Wr.prototype.un;function TS(a){if(Array.isArray(a))for(let t=0,n=a.length;t<n;++t)Kt(a[t]);else Kt(a)}function mt(){throw new Error("Unimplemented abstract method.")}let RS=0;function zt(a){return a.ol_uid||(a.ol_uid=String(++RS))}class T0 extends Di{constructor(t,n,s){super(t),this.key=n,this.oldValue=s}}class Yn extends Wr{constructor(t){super(),this.on,this.once,this.un,zt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let s;s=`change:${t}`,this.hasListener(s)&&this.dispatchEvent(new T0(s,t,n)),s=ga.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new T0(s,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,s){const r=this.values_||(this.values_={});if(s)r[t]=n;else{const o=r[t];r[t]=n,o!==n&&this.notify(t,o)}}setProperties(t,n){for(const s in t)this.set(s,t[s],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const s=this.values_[t];delete this.values_[t],ll(this.values_)&&(this.values_=null),n||this.notify(t,s)}}}const R0={LENGTH:"length"};class vu extends Di{constructor(t,n,s){super(t),this.element=n,this.index=s}}class Cn extends Yn{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t??[],this.unique_)for(let s=1,r=this.array_.length;s<r;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,s=t.length;n<s;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let s=0,r=n.length;s<r;++s)t(n[s],s,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(R0.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new vu(qe.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let s=0,r=n.length;s<r;++s)if(n[s]===t)return this.removeAt(s)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new vu(qe.REMOVE,n,t)),n}setAt(t,n){const s=this.getLength();if(t>=s){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const r=this.array_[t];this.array_[t]=n,this.dispatchEvent(new vu(qe.REMOVE,r,t)),this.dispatchEvent(new vu(qe.ADD,n,t))}updateLength_(){this.set(R0.LENGTH,this.array_.length)}assertUnique_(t,n){const s=this.array_;for(let r=0,o=s.length;r<o;++r)if(s[r]===t&&r!==n)throw new Error("Duplicate item added to a unique collection")}}class sa extends Di{constructor(t,n,s){super(t),this.map=n,this.frameState=s!==void 0?s:null}}class fs extends sa{constructor(t,n,s,r,o,c){super(t,n,o),this.originalEvent=s,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const te={SINGLECLICK:"singleclick",CLICK:Et.CLICK,DBLCLICK:Et.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},al=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",bS=al.includes("safari")&&!al.includes("chrom");bS&&(al.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(al));const AS=al.includes("webkit")&&!al.includes("edge"),Dp=al.includes("macintosh"),MS=typeof devicePixelRatio<"u"?devicePixelRatio:1,Tn=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Lp=typeof Image<"u"&&Image.prototype.decode,zp=(function(){let a=!1;try{const t=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return a})(),ud={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class wS extends $u{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const s=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=s,this.pointerdownListenerKey_=wt(s,ud.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=wt(s,ud.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Et.TOUCHMOVE,this.boundHandleTouchMove_,zp?{passive:!1}:!1)}emulateClick_(t){let n=new fs(te.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new fs(te.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const s=new fs(te.SINGLECLICK,this.map_,t);this.dispatchEvent(s)},250)}updateActivePointers_(t){const n=t,s=n.pointerId;if(n.type==te.POINTERUP||n.type==te.POINTERCANCEL){delete this.trackedTouches_[s];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==te.POINTERDOWN||n.type==te.POINTERMOVE)&&(this.trackedTouches_[s]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new fs(te.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Kt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new fs(te.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(wt(s,te.POINTERMOVE,this.handlePointerMove_,this),wt(s,te.POINTERUP,this.handlePointerUp_,this),wt(this.element_,te.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(wt(this.element_.getRootNode(),te.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new fs(te.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new fs(te.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Kt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Et.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Kt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Kt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Ti={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Le={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ut={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Gt(a,t){if(!a)throw new Error(t)}const Nu=1/0;class OS{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Vr(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,s=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(s);return delete this.queuedElements_[r],s}enqueue(t){Gt(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(t);return n!=Nu?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,s=this.priorities_,r=n.length,o=n[t],c=s[t],h=t;for(;t<r>>1;){const d=this.getLeftChildIndex_(t),_=this.getRightChildIndex_(t),m=_<r&&s[_]<s[d]?_:d;n[t]=n[m],s[t]=s[m],t=m}n[t]=o,s[t]=c,this.siftDown_(h,t)}siftDown_(t,n){const s=this.elements_,r=this.priorities_,o=s[n],c=r[n];for(;n>t;){const h=this.getParentIndex_(n);if(r[h]>c)s[n]=s[h],r[n]=r[h],n=h;else break}s[n]=o,r[n]=c}reprioritize(){const t=this.priorityFunction_,n=this.elements_,s=this.priorities_;let r=0;const o=n.length;let c,h,d;for(h=0;h<o;++h)c=n[h],d=t(c),d==Nu?delete this.queuedElements_[this.keyFunction_(c)]:(s[r]=d,n[r++]=c);n.length=r,s.length=r,this.heapify_()}}class DS extends OS{constructor(t,n){super(s=>t.apply(null,s),s=>s[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(Et.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,s=n.getState();if(s===ut.LOADED||s===ut.ERROR||s===ut.EMPTY){s!==ut.ERROR&&n.removeEventListener(Et.CHANGE,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let s=0;for(;this.tilesLoading_<t&&s<n&&this.getCount()>0;){const r=this.dequeue()[0],o=r.getKey();r.getState()===ut.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++s,r.load())}}}function LS(a,t,n,s,r){if(!a||!(n in a.wantedTiles)||!a.wantedTiles[n][t.getKey()])return Nu;const o=a.viewState.center,c=s[0]-o[0],h=s[1]-o[1];return 65536*Math.log(r)+Math.sqrt(c*c+h*h)/r}const ze={ANIMATING:0,INTERACTING:1},Nn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Qt(a,t,n){return Math.min(Math.max(a,t),n)}function zS(a,t,n,s,r,o){const c=r-n,h=o-s;if(c!==0||h!==0){const d=((a-n)*c+(t-s)*h)/(c*c+h*h);d>1?(n=r,s=o):d>0&&(n+=c*d,s+=h*d)}return il(a,t,n,s)}function il(a,t,n,s){const r=n-a,o=s-t;return r*r+o*o}function IS(a){const t=a.length;for(let s=0;s<t;s++){let r=s,o=Math.abs(a[s][s]);for(let h=s+1;h<t;h++){const d=Math.abs(a[h][s]);d>o&&(o=d,r=h)}if(o===0)return null;const c=a[r];a[r]=a[s],a[s]=c;for(let h=s+1;h<t;h++){const d=-a[h][s]/a[s][s];for(let _=s;_<t+1;_++)s==_?a[h][_]=0:a[h][_]+=d*a[s][_]}}const n=new Array(t);for(let s=t-1;s>=0;s--){n[s]=a[s][t]/a[s][s];for(let r=s-1;r>=0;r--)a[r][t]-=a[r][s]*n[s]}return n}function b0(a){return a*180/Math.PI}function Es(a){return a*Math.PI/180}function ca(a,t){const n=a%t;return n*t<0?n+t:n}function un(a,t,n){return a+n*(t-a)}function tc(a,t){const n=Math.pow(10,t);return Math.round(a*n)/n}function Su(a,t){return Math.floor(tc(a,t))}function xu(a,t){return Math.ceil(tc(a,t))}function cd(a,t,n){if(a>=t&&a<n)return a;const s=n-t;return((a-t)%s+s)%s+t}function A0(a,t,n){return(function(s,r,o,c,h){if(!s)return;if(!r&&!t)return s;const d=t?0:o[0]*r,_=t?0:o[1]*r,m=h?h[0]:0,y=h?h[1]:0;let E=a[0]+d/2+m,S=a[2]-d/2+m,x=a[1]+_/2+y,R=a[3]-_/2+y;E>S&&(E=(S+E)/2,S=E),x>R&&(x=(R+x)/2,R=x);let C=Qt(s[0],E,S),w=Qt(s[1],x,R);if(c&&n&&r){const z=30*r;C+=-z*Math.log(1+Math.max(0,E-s[0])/z)+z*Math.log(1+Math.max(0,s[0]-S)/z),w+=-z*Math.log(1+Math.max(0,x-s[1])/z)+z*Math.log(1+Math.max(0,s[1]-R)/z)}return[C,w]})}function NS(a){return a}const pe={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function M0(a){const t=Mn();for(let n=0,s=a.length;n<s;++n)zr(t,a[n]);return t}function zd(a,t,n){return n?(n[0]=a[0]-t,n[1]=a[1]-t,n[2]=a[2]+t,n[3]=a[3]+t,n):[a[0]-t,a[1]-t,a[2]+t,a[3]+t]}function Ip(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a.slice()}function ol(a,t,n){let s,r;return t<a[0]?s=a[0]-t:a[2]<t?s=t-a[2]:s=0,n<a[1]?r=a[1]-n:a[3]<n?r=n-a[3]:r=0,s*s+r*r}function _a(a,t){return Id(a,t[0],t[1])}function oa(a,t){return a[0]<=t[0]&&t[2]<=a[2]&&a[1]<=t[1]&&t[3]<=a[3]}function Id(a,t,n){return a[0]<=t&&t<=a[2]&&a[1]<=n&&n<=a[3]}function hd(a,t){const n=a[0],s=a[1],r=a[2],o=a[3],c=t[0],h=t[1];let d=pe.UNKNOWN;return c<n?d=d|pe.LEFT:c>r&&(d=d|pe.RIGHT),h<s?d=d|pe.BELOW:h>o&&(d=d|pe.ABOVE),d===pe.UNKNOWN&&(d=pe.INTERSECTING),d}function Mn(){return[1/0,1/0,-1/0,-1/0]}function Ss(a,t,n,s,r){return r?(r[0]=a,r[1]=t,r[2]=n,r[3]=s,r):[a,t,n,s]}function Qr(a){return Ss(1/0,1/0,-1/0,-1/0,a)}function Np(a,t){const n=a[0],s=a[1];return Ss(n,s,n,s,t)}function Nd(a,t,n,s,r){const o=Qr(r);return Fp(o,a,t,n,s)}function Ur(a,t){return a[0]==t[0]&&a[2]==t[2]&&a[1]==t[1]&&a[3]==t[3]}function Gp(a,t){return t[0]<a[0]&&(a[0]=t[0]),t[2]>a[2]&&(a[2]=t[2]),t[1]<a[1]&&(a[1]=t[1]),t[3]>a[3]&&(a[3]=t[3]),a}function zr(a,t){t[0]<a[0]&&(a[0]=t[0]),t[0]>a[2]&&(a[2]=t[0]),t[1]<a[1]&&(a[1]=t[1]),t[1]>a[3]&&(a[3]=t[1])}function Fp(a,t,n,s,r){for(;n<s;n+=r)GS(a,t[n],t[n+1]);return a}function GS(a,t,n){a[0]=Math.min(a[0],t),a[1]=Math.min(a[1],n),a[2]=Math.max(a[2],t),a[3]=Math.max(a[3],n)}function Up(a,t){let n;return n=t(ec(a)),n||(n=t(nc(a)),n)||(n=t(ic(a)),n)||(n=t(bs(a)),n)?n:!1}function fd(a){let t=0;return sc(a)||(t=Xt(a)*Ue(a)),t}function ec(a){return[a[0],a[1]]}function nc(a){return[a[2],a[1]]}function xs(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function FS(a,t){let n;if(t==="bottom-left")n=ec(a);else if(t==="bottom-right")n=nc(a);else if(t==="top-left")n=bs(a);else if(t==="top-right")n=ic(a);else throw new Error("Invalid corner");return n}function dd(a,t,n,s,r){const[o,c,h,d,_,m,y,E]=Yp(a,t,n,s);return Ss(Math.min(o,h,_,y),Math.min(c,d,m,E),Math.max(o,h,_,y),Math.max(c,d,m,E),r)}function Yp(a,t,n,s){const r=t*s[0]/2,o=t*s[1]/2,c=Math.cos(n),h=Math.sin(n),d=r*c,_=r*h,m=o*c,y=o*h,E=a[0],S=a[1];return[E-d+y,S-_-m,E-d-y,S-_+m,E+d-y,S+_+m,E+d+y,S+_-m,E-d+y,S-_-m]}function Ue(a){return a[3]-a[1]}function sl(a,t,n){const s=n||Mn();return Qe(a,t)?(a[0]>t[0]?s[0]=a[0]:s[0]=t[0],a[1]>t[1]?s[1]=a[1]:s[1]=t[1],a[2]<t[2]?s[2]=a[2]:s[2]=t[2],a[3]<t[3]?s[3]=a[3]:s[3]=t[3]):Qr(s),s}function bs(a){return[a[0],a[3]]}function ic(a){return[a[2],a[3]]}function Xt(a){return a[2]-a[0]}function Qe(a,t){return a[0]<=t[2]&&a[2]>=t[0]&&a[1]<=t[3]&&a[3]>=t[1]}function sc(a){return a[2]<a[0]||a[3]<a[1]}function US(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a}function YS(a,t,n){let s=!1;const r=hd(a,t),o=hd(a,n);if(r===pe.INTERSECTING||o===pe.INTERSECTING)s=!0;else{const c=a[0],h=a[1],d=a[2],_=a[3],m=t[0],y=t[1],E=n[0],S=n[1],x=(S-y)/(E-m);let R,C;o&pe.ABOVE&&!(r&pe.ABOVE)&&(R=E-(S-_)/x,s=R>=c&&R<=d),!s&&o&pe.RIGHT&&!(r&pe.RIGHT)&&(C=S-(E-d)*x,s=C>=h&&C<=_),!s&&o&pe.BELOW&&!(r&pe.BELOW)&&(R=E-(S-h)/x,s=R>=c&&R<=d),!s&&o&pe.LEFT&&!(r&pe.LEFT)&&(C=S-(E-c)*x,s=C>=h&&C<=_)}return s}function Xp(a,t){const n=t.getExtent(),s=xs(a);if(t.canWrapX()&&(s[0]<n[0]||s[0]>=n[2])){const r=Xt(n),c=Math.floor((s[0]-n[0])/r)*r;a[0]-=c,a[2]-=c}return a}function Bp(a,t,n){if(t.canWrapX()){const s=t.getExtent();if(!isFinite(a[0])||!isFinite(a[2]))return[[s[0],a[1],s[2],a[3]]];Xp(a,t);const r=Xt(s);if(Xt(a)>r&&!n)return[[s[0],a[1],s[2],a[3]]];if(a[0]<s[0])return[[a[0]+r,a[1],s[2],a[3]],[s[0],a[1],a[2],a[3]]];if(a[2]>s[2])return[[a[0],a[1],s[2],a[3]],[s[0],a[1],a[2]-r,a[3]]]}return[a]}function XS(a,t){return a[0]+=+t[0],a[1]+=+t[1],a}function Gu(a,t){let n=!0;for(let s=a.length-1;s>=0;--s)if(a[s]!=t[s]){n=!1;break}return n}function Gd(a,t){const n=Math.cos(t),s=Math.sin(t),r=a[0]*n-a[1]*s,o=a[1]*n+a[0]*s;return a[0]=r,a[1]=o,a}function BS(a,t){return a[0]*=t,a[1]*=t,a}function jp(a,t){if(t.canWrapX()){const n=Xt(t.getExtent()),s=jS(a,t,n);s&&(a[0]-=s*n)}return a}function jS(a,t,n){const s=t.getExtent();let r=0;return t.canWrapX()&&(a[0]<s[0]||a[0]>s[2])&&(n=n||Xt(s),r=Math.floor((a[0]-s[0])/n)),r}function Hp(a){return Math.pow(a,3)}function Ca(a){return 1-Hp(1-a)}function HS(a){return 3*a*a-2*a*a*a}function PS(a){return a}const ZS=63710088e-1;function w0(a,t,n){n=n||ZS;const s=Es(a[1]),r=Es(t[1]),o=(r-s)/2,c=Es(t[0]-a[0])/2,h=Math.sin(o)*Math.sin(o)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function Pp(...a){console.warn(...a)}const Fd={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Ud{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Fd[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Jr=6378137,ua=Math.PI*Jr,KS=[-ua,-ua,ua,ua],kS=[-180,-85,180,85],Cu=Jr*Math.log(Math.tan(Math.PI/2));class Ql extends Ud{constructor(t){super({code:t,units:"m",extent:KS,global:!0,worldExtent:kS,getPointResolution:function(n,s){return n/Math.cosh(s[1]/Jr)}})}}const O0=[new Ql("EPSG:3857"),new Ql("EPSG:102100"),new Ql("EPSG:102113"),new Ql("EPSG:900913"),new Ql("http://www.opengis.net/def/crs/EPSG/0/3857"),new Ql("http://www.opengis.net/gml/srs/epsg.xml#3857")];function qS(a,t,n,s){const r=a.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=a.slice():t=new Array(r));for(let o=0;o<r;o+=s){t[o]=ua*a[o]/180;let c=Jr*Math.log(Math.tan(Math.PI*(+a[o+1]+90)/360));c>Cu?c=Cu:c<-Cu&&(c=-Cu),t[o+1]=c}return t}function VS(a,t,n,s){const r=a.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=a.slice():t=new Array(r));for(let o=0;o<r;o+=s)t[o]=180*a[o]/ua,t[o+1]=360*Math.atan(Math.exp(a[o+1]/Jr))/Math.PI-90;return t}const WS=6378137,D0=[-180,-90,180,90],QS=Math.PI*WS/180;class Vs extends Ud{constructor(t,n){super({code:t,units:"degrees",extent:D0,axisOrientation:n,global:!0,metersPerUnit:QS,worldExtent:D0})}}const L0=[new Vs("CRS:84"),new Vs("EPSG:4326","neu"),new Vs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Vs("urn:ogc:def:crs:OGC:2:84"),new Vs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Vs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Vs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let gd={};function JS(a){return gd[a]||gd[a.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function $S(a,t){gd[a]=t}let ha={};function Yr(a,t,n){const s=a.getCode(),r=t.getCode();s in ha||(ha[s]={}),ha[s][r]=n}function Uf(a,t){return a in ha&&t in ha[a]?ha[a][t]:null}const Fu=.9996,An=.00669438,lc=An*An,ac=lc*An,$s=An/(1-An),z0=Math.sqrt(1-An),ma=(1-z0)/(1+z0),Zp=ma*ma,Yd=Zp*ma,Xd=Yd*ma,Kp=Xd*ma,kp=1-An/4-3*lc/64-5*ac/256,tx=3*An/8+3*lc/32+45*ac/1024,ex=15*lc/256+45*ac/1024,nx=35*ac/3072,ix=3/2*ma-27/32*Yd+269/512*Kp,sx=21/16*Zp-55/32*Xd,lx=151/96*Yd-417/128*Kp,ax=1097/512*Xd,Uu=6378137;function rx(a,t,n){const s=a-5e5,c=(n.north?t:t-1e7)/Fu/(Uu*kp),h=c+ix*Math.sin(2*c)+sx*Math.sin(4*c)+lx*Math.sin(6*c)+ax*Math.sin(8*c),d=Math.sin(h),_=d*d,m=Math.cos(h),y=d/m,E=y*y,S=E*E,x=1-An*_,R=Math.sqrt(1-An*_),C=Uu/R,w=(1-An)/x,z=$s*m**2,U=z*z,D=s/(C*Fu),G=D*D,K=G*D,B=K*D,k=B*D,V=k*D,J=h-y/w*(G/2-B/24*(5+3*E+10*z-4*U-9*$s))+V/720*(61+90*E+298*z+45*S-252*$s-3*U);let rt=(D-K/6*(1+2*E+z)+k/120*(5-2*z+28*E-3*U+8*$s+24*S))/m;return rt=cd(rt+Es(qp(n.number)),-Math.PI,Math.PI),[b0(rt),b0(J)]}const I0=-80,N0=84,ox=-180,ux=180;function cx(a,t,n){a=cd(a,ox,ux),t<I0?t=I0:t>N0&&(t=N0);const s=Es(t),r=Math.sin(s),o=Math.cos(s),c=r/o,h=c*c,d=h*h,_=Es(a),m=qp(n.number),y=Es(m),E=Uu/Math.sqrt(1-An*r**2),S=$s*o**2,x=o*cd(_-y,-Math.PI,Math.PI),R=x*x,C=R*x,w=C*x,z=w*x,U=z*x,D=Uu*(kp*s-tx*Math.sin(2*s)+ex*Math.sin(4*s)-nx*Math.sin(6*s)),G=Fu*E*(x+C/6*(1-h+S)+z/120*(5-18*h+d+72*S-58*$s))+5e5;let K=Fu*(D+E*c*(R/2+w/24*(5-h+9*S+4*S**2)+U/720*(61-58*h+d+600*S-330*$s)));return n.north||(K+=1e7),[G,K]}function qp(a){return(a-1)*6-180+3}const hx=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function Vp(a){let t=0;for(const r of hx){const o=a.match(r);if(o){t=parseInt(o[1]);break}}if(!t)return null;let n=0,s=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(s=!0,n=t-32600),n?{number:n,north:s}:null}function G0(a,t){return function(n,s,r,o){const c=n.length;r=r>1?r:2,o=o??r,s||(r>2?s=n.slice():s=new Array(c));for(let h=0;h<c;h+=o){const d=n[h],_=n[h+1],m=a(d,_,t);s[h]=m[0],s[h+1]=m[1]}return s}}function fx(a){return Vp(a)?new Ud({code:a,units:"m"}):null}function dx(a){const t=Vp(a.getCode());return t?{forward:G0(cx,t),inverse:G0(rx,t)}:null}const gx=[dx],_x=[fx];let _d=!0;function Wp(a){_d=!1}function Bd(a,t){if(t!==void 0){for(let n=0,s=a.length;n<s;++n)t[n]=a[n];t=t}else t=a.slice();return t}function md(a){$S(a.getCode(),a),Yr(a,a,Bd)}function mx(a){a.forEach(md)}function ee(a){if(typeof a!="string")return a;const t=JS(a);if(t)return t;for(const n of _x){const s=n(a);if(s)return s}return null}function F0(a,t,n,s){a=ee(a);let r;const o=a.getPointResolutionFunc();if(o)r=o(t,n);else{const c=a.getUnits();if(c=="degrees"&&!s||s=="degrees")r=t;else{const h=Hd(a,ee("EPSG:4326"));if(!h&&c!=="degrees")r=t*a.getMetersPerUnit();else{let _=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];_=h(_,_,2);const m=w0(_.slice(0,2),_.slice(2,4)),y=w0(_.slice(4,6),_.slice(6,8));r=(m+y)/2}const d=a.getMetersPerUnit();d!==void 0&&(r/=d)}}return r}function U0(a){mx(a),a.forEach(function(t){a.forEach(function(n){t!==n&&Yr(t,n,Bd)})})}function yx(a,t,n,s){a.forEach(function(r){t.forEach(function(o){Yr(r,o,n),Yr(o,r,s)})})}function jd(a,t){return a?typeof a=="string"?ee(a):a:ee(t)}function px(a){return(function(t,n,s,r){const o=t.length;s=s!==void 0?s:2,r=r??s,n=n!==void 0?n:new Array(o);for(let c=0;c<o;c+=r){const h=a(t.slice(c,c+s)),d=h.length;for(let _=0,m=r;_<m;++_)n[c+_]=_>=d?t[c+_]:h[_]}return n})}function Ex(a,t){return Wp(),Pd(a,"EPSG:4326","EPSG:3857")}function Ir(a,t){if(a===t)return!0;const n=a.getUnits()===t.getUnits();return(a.getCode()===t.getCode()||Hd(a,t)===Bd)&&n}function Hd(a,t){const n=a.getCode(),s=t.getCode();let r=Uf(n,s);if(r)return r;let o=null,c=null;for(const d of gx)o||(o=d(a)),c||(c=d(t));if(!o&&!c)return null;const h="EPSG:4326";if(c)if(o)r=Yf(o.inverse,c.forward);else{const d=Uf(n,h);d&&(r=Yf(d,c.forward))}else{const d=Uf(h,s);d&&(r=Yf(o.inverse,d))}return r&&(md(a),md(t),Yr(a,t,r)),r}function Yf(a,t){return function(n,s,r,o){return s=a(n,s,r,o),t(s,s,r,o)}}function Xr(a,t){const n=ee(a),s=ee(t);return Hd(n,s)}function Pd(a,t,n){const s=Xr(t,n);if(!s){const r=ee(t).getCode(),o=ee(n).getCode();throw new Error(`No transform available between ${r} and ${o}`)}return s(a,void 0,a.length)}function yd(a,t){return a}function Ci(a,t){return _d&&!Gu(a,[0,0])&&a[0]>=-180&&a[0]<=180&&a[1]>=-90&&a[1]<=90&&(_d=!1,Pp("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),a}function Qp(a,t){return a}function _s(a,t){return a}function vx(){U0(O0),U0(L0),yx(L0,O0,qS,VS)}vx();new Array(6);function Fn(){return[1,0,0,1,0,0]}function Sx(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a}function Ee(a,t){const n=t[0],s=t[1];return t[0]=a[0]*n+a[2]*s+a[4],t[1]=a[1]*n+a[3]*s+a[5],t}function Oi(a,t,n,s,r,o,c,h){const d=Math.sin(o),_=Math.cos(o);return a[0]=s*_,a[1]=r*d,a[2]=-s*d,a[3]=r*_,a[4]=c*s*_-h*s*d+t,a[5]=c*r*d+h*r*_+n,a}function Jp(a,t){const n=xx(t);Gt(n!==0,"Transformation matrix cannot be inverted");const s=t[0],r=t[1],o=t[2],c=t[3],h=t[4],d=t[5];return a[0]=c/n,a[1]=-r/n,a[2]=-o/n,a[3]=s/n,a[4]=(o*d-c*h)/n,a[5]=-(s*d-r*h)/n,a}function xx(a){return a[0]*a[3]-a[1]*a[2]}const Cx=[1e5,1e5,1e5,1e5,2,2];function Tx(a){return"matrix("+a.join(", ")+")"}function pd(a){return a.substring(7,a.length-1).split(",").map(parseFloat)}function Rx(a,t){const n=pd(a),s=pd(t);for(let r=0;r<6;++r)if(Math.round((n[r]-s[r])*Cx[r])!==0)return!1;return!0}function vs(a,t,n,s,r,o,c){o=o||[],c=c||2;let h=0;for(let d=t;d<n;d+=s){const _=a[d],m=a[d+1];o[h++]=r[0]*_+r[2]*m+r[4],o[h++]=r[1]*_+r[3]*m+r[5];for(let y=2;y<c;y++)o[h++]=a[d+y]}return o&&o.length!=h&&(o.length=h),o}function $p(a,t,n,s,r,o,c){c=c||[];const h=Math.cos(r),d=Math.sin(r),_=o[0],m=o[1];let y=0;for(let E=t;E<n;E+=s){const S=a[E]-_,x=a[E+1]-m;c[y++]=_+S*h-x*d,c[y++]=m+S*d+x*h;for(let R=E+2;R<E+s;++R)c[y++]=a[R]}return c&&c.length!=y&&(c.length=y),c}function bx(a,t,n,s,r,o,c,h){h=h||[];const d=c[0],_=c[1];let m=0;for(let y=t;y<n;y+=s){const E=a[y]-d,S=a[y+1]-_;h[m++]=d+r*E,h[m++]=_+o*S;for(let x=y+2;x<y+s;++x)h[m++]=a[x]}return h&&h.length!=m&&(h.length=m),h}function Ax(a,t,n,s,r,o,c){c=c||[];let h=0;for(let d=t;d<n;d+=s){c[h++]=a[d]+r,c[h++]=a[d+1]+o;for(let _=d+2;_<d+s;++_)c[h++]=a[_]}return c&&c.length!=h&&(c.length=h),c}const Y0=Fn(),Mx=[NaN,NaN];class tE extends Yn{constructor(){super(),this.extent_=Mn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Op((t,n,s)=>{if(!s)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(s),r.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return mt()}closestPointXY(t,n,s,r){return mt()}containsXY(t,n){return this.closestPointXY(t,n,Mx,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return mt()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Qr(n),this.extentRevision_=this.getRevision()}return US(this.extent_,t)}rotate(t,n){mt()}scale(t,n,s){mt()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return mt()}getType(){return mt()}applyTransform(t){mt()}intersectsExtent(t){return mt()}translate(t,n){mt()}transform(t,n){const s=ee(t),r=s.getUnits()=="tile-pixels"?function(o,c,h){const d=s.getExtent(),_=s.getWorldExtent(),m=Ue(_)/Ue(d);Oi(Y0,_[0],_[3],m,-m,0,0,0);const y=vs(o,0,o.length,h,Y0,c),E=Xr(s,n);return E?E(y,y,h):y}:Xr(s,n);return this.applyTransform(r),this}}class ul extends tE{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Nd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return mt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=X0(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){mt()}setLayout(t,n,s){let r;if(t)r=X0(t);else{for(let o=0;o<s;++o){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,t=cl(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){const s=this.getFlatCoordinates();if(s){const r=this.getStride();$p(s,0,s.length,r,t,n,s),this.changed()}}scale(t,n,s){n===void 0&&(n=t),s||(s=xs(this.getExtent()));const r=this.getFlatCoordinates();if(r){const o=this.getStride();bx(r,0,r.length,o,t,n,s,r),this.changed()}}translate(t,n){const s=this.getFlatCoordinates();if(s){const r=this.getStride();Ax(s,0,s.length,r,t,n,s),this.changed()}}}function cl(a){let t;return a==2?t="XY":a==3?t="XYZ":a==4&&(t="XYZM"),t}function X0(a){let t;return a=="XY"?t=2:a=="XYZ"||a=="XYM"?t=3:a=="XYZM"&&(t=4),t}function wx(a,t,n){const s=a.getFlatCoordinates();if(!s)return null;const r=a.getStride();return vs(s,0,s.length,r,t,n)}function eE(a,t,n,s){let r=0;const o=a[n-s],c=a[n-s+1];let h=0,d=0;for(;t<n;t+=s){const _=a[t]-o,m=a[t+1]-c;r+=d*_-h*m,h=_,d=m}return r/2}function nE(a,t,n,s){let r=0;for(let o=0,c=n.length;o<c;++o){const h=n[o];r+=eE(a,t,h,s),t=h}return r}function Ox(a,t,n,s){let r=0;for(let o=0,c=n.length;o<c;++o){const h=n[o];r+=nE(a,t,h,s),t=h[h.length-1]}return r}function B0(a,t,n,s,r,o,c){const h=a[t],d=a[t+1],_=a[n]-h,m=a[n+1]-d;let y;if(_===0&&m===0)y=t;else{const E=((r-h)*_+(o-d)*m)/(_*_+m*m);if(E>1)y=n;else if(E>0){for(let S=0;S<s;++S)c[S]=un(a[t+S],a[n+S],E);c.length=s;return}else y=t}for(let E=0;E<s;++E)c[E]=a[y+E];c.length=s}function Zd(a,t,n,s,r){let o=a[t],c=a[t+1];for(t+=s;t<n;t+=s){const h=a[t],d=a[t+1],_=il(o,c,h,d);_>r&&(r=_),o=h,c=d}return r}function Kd(a,t,n,s,r){for(let o=0,c=n.length;o<c;++o){const h=n[o];r=Zd(a,t,h,s,r),t=h}return r}function Dx(a,t,n,s,r){for(let o=0,c=n.length;o<c;++o){const h=n[o];r=Kd(a,t,h,s,r),t=h[h.length-1]}return r}function kd(a,t,n,s,r,o,c,h,d,_,m){if(t==n)return _;let y,E;if(r===0){if(E=il(c,h,a[t],a[t+1]),E<_){for(y=0;y<s;++y)d[y]=a[t+y];return d.length=s,E}return _}m=m||[NaN,NaN];let S=t+s;for(;S<n;)if(B0(a,S-s,S,s,c,h,m),E=il(c,h,m[0],m[1]),E<_){for(_=E,y=0;y<s;++y)d[y]=m[y];d.length=s,S+=s}else S+=s*Math.max((Math.sqrt(E)-Math.sqrt(_))/r|0,1);if(o&&(B0(a,n-s,t,s,c,h,m),E=il(c,h,m[0],m[1]),E<_)){for(_=E,y=0;y<s;++y)d[y]=m[y];d.length=s}return _}function qd(a,t,n,s,r,o,c,h,d,_,m){m=m||[NaN,NaN];for(let y=0,E=n.length;y<E;++y){const S=n[y];_=kd(a,t,S,s,r,o,c,h,d,_,m),t=S}return _}function Lx(a,t,n,s,r,o,c,h,d,_,m){m=m||[NaN,NaN];for(let y=0,E=n.length;y<E;++y){const S=n[y];_=qd(a,t,S,s,r,o,c,h,d,_,m),t=S[S.length-1]}return _}function zx(a,t,n,s){for(let r=0,o=n.length;r<o;++r)a[t++]=n[r];return t}function rc(a,t,n,s){for(let r=0,o=n.length;r<o;++r){const c=n[r];for(let h=0;h<s;++h)a[t++]=c[h]}return t}function $r(a,t,n,s,r){r=r||[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=rc(a,t,n[c],s);r[o++]=d,t=d}return r.length=o,r}function iE(a,t,n,s,r){r=r||[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=$r(a,t,n[c],s,r[o]);d.length===0&&(d[0]=t),r[o++]=d,t=d[d.length-1]}return r.length=o,r}function ms(a,t,n,s,r){r=r!==void 0?r:[];let o=0;for(let c=t;c<n;c+=s)r[o++]=a.slice(c,c+s);return r.length=o,r}function Br(a,t,n,s,r){r=r!==void 0?r:[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];r[o++]=ms(a,t,d,s,r[o]),t=d}return r.length=o,r}function Ed(a,t,n,s,r){r=r!==void 0?r:[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];r[o++]=d.length===1&&d[0]===t?[]:Br(a,t,d,s,r[o]),t=d[d.length-1]}return r.length=o,r}function oc(a,t,n,s,r,o,c){const h=(n-t)/s;if(h<3){for(;t<n;t+=s)o[c++]=a[t],o[c++]=a[t+1];return c}const d=new Array(h);d[0]=1,d[h-1]=1;const _=[t,n-s];let m=0;for(;_.length>0;){const y=_.pop(),E=_.pop();let S=0;const x=a[E],R=a[E+1],C=a[y],w=a[y+1];for(let z=E+s;z<y;z+=s){const U=a[z],D=a[z+1],G=zS(U,D,x,R,C,w);G>S&&(m=z,S=G)}S>r&&(d[(m-t)/s]=1,E+s<m&&_.push(E,m),m+s<y&&_.push(m,y))}for(let y=0;y<h;++y)d[y]&&(o[c++]=a[t+y*s],o[c++]=a[t+y*s+1]);return c}function sE(a,t,n,s,r,o,c,h){for(let d=0,_=n.length;d<_;++d){const m=n[d];c=oc(a,t,m,s,r,o,c),h.push(c),t=m}return c}function Qs(a,t){return t*Math.round(a/t)}function Ix(a,t,n,s,r,o,c){if(t==n)return c;let h=Qs(a[t],r),d=Qs(a[t+1],r);t+=s,o[c++]=h,o[c++]=d;let _,m;do if(_=Qs(a[t],r),m=Qs(a[t+1],r),t+=s,t==n)return o[c++]=_,o[c++]=m,c;while(_==h&&m==d);for(;t<n;){const y=Qs(a[t],r),E=Qs(a[t+1],r);if(t+=s,y==_&&E==m)continue;const S=_-h,x=m-d,R=y-h,C=E-d;if(S*C==x*R&&(S<0&&R<S||S==R||S>0&&R>S)&&(x<0&&C<x||x==C||x>0&&C>x)){_=y,m=E;continue}o[c++]=_,o[c++]=m,h=_,d=m,_=y,m=E}return o[c++]=_,o[c++]=m,c}function Vd(a,t,n,s,r,o,c,h){for(let d=0,_=n.length;d<_;++d){const m=n[d];c=Ix(a,t,m,s,r,o,c),h.push(c),t=m}return c}function Nx(a,t,n,s,r,o,c,h){for(let d=0,_=n.length;d<_;++d){const m=n[d],y=[];c=Vd(a,t,m,s,r,o,c,y),h.push(y),t=m[m.length-1]}return c}class jr extends ul{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new jr(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,s,r){return r<ol(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),kd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,s,r))}getArea(){return eE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return ms(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=oc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new jr(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=rc(this.flatCoordinates,0,t,this.stride),this.changed()}}class ya extends ul{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new ya(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,r){const o=this.flatCoordinates,c=il(t,n,o[0],o[1]);if(c<r){const h=this.stride;for(let d=0;d<h;++d)s[d]=o[d];return s.length=h,c}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return Np(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return Id(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=zx(this.flatCoordinates,0,t,this.stride),this.changed()}}function Gx(a,t,n,s,r){return!Up(r,function(c){return!tl(a,t,n,s,c[0],c[1])})}function tl(a,t,n,s,r,o){let c=0,h=a[n-s],d=a[n-s+1];for(;t<n;t+=s){const _=a[t],m=a[t+1];d<=o?m>o&&(_-h)*(o-d)-(r-h)*(m-d)>0&&c++:m<=o&&(_-h)*(o-d)-(r-h)*(m-d)<0&&c--,h=_,d=m}return c!==0}function Wd(a,t,n,s,r,o){if(n.length===0||!tl(a,t,n[0],s,r,o))return!1;for(let c=1,h=n.length;c<h;++c)if(tl(a,n[c-1],n[c],s,r,o))return!1;return!0}function Fx(a,t,n,s,r,o){if(n.length===0)return!1;for(let c=0,h=n.length;c<h;++c){const d=n[c];if(Wd(a,t,d,s,r,o))return!0;t=d[d.length-1]}return!1}function Qd(a,t,n,s,r,o,c){let h,d,_,m,y,E,S;const x=r[o+1],R=[];for(let z=0,U=n.length;z<U;++z){const D=n[z];for(m=a[D-s],E=a[D-s+1],h=t;h<D;h+=s)y=a[h],S=a[h+1],(x<=E&&S<=x||E<=x&&x<=S)&&(_=(x-E)/(S-E)*(y-m)+m,R.push(_)),m=y,E=S}let C=NaN,w=-1/0;for(R.sort(bi),m=R[0],h=1,d=R.length;h<d;++h){y=R[h];const z=Math.abs(y-m);z>w&&(_=(m+y)/2,Wd(a,t,n,s,_,x)&&(C=_,w=z)),m=y}return isNaN(C)&&(C=r[o]),c?(c.push(C,x,w),c):[C,x,w]}function lE(a,t,n,s,r){let o=[];for(let c=0,h=n.length;c<h;++c){const d=n[c];o=Qd(a,t,d,s,r,2*c,o),t=d[d.length-1]}return o}function aE(a,t,n,s,r){let o;for(t+=s;t<n;t+=s)if(o=r(a.slice(t-s,t),a.slice(t,t+s)),o)return o;return!1}function uc(a,t,n,s,r,o){return o=o??Fp(Mn(),a,t,n,s),Qe(r,o)?o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:aE(a,t,n,s,function(c,h){return YS(r,c,h)}):!1}function Ux(a,t,n,s,r){for(let o=0,c=n.length;o<c;++o){if(uc(a,t,n[o],s,r))return!0;t=n[o]}return!1}function rE(a,t,n,s,r){return!!(uc(a,t,n,s,r)||tl(a,t,n,s,r[0],r[1])||tl(a,t,n,s,r[0],r[3])||tl(a,t,n,s,r[2],r[1])||tl(a,t,n,s,r[2],r[3]))}function oE(a,t,n,s,r){if(!rE(a,t,n[0],s,r))return!1;if(n.length===1)return!0;for(let o=1,c=n.length;o<c;++o)if(Gx(a,n[o-1],n[o],s,r)&&!uc(a,n[o-1],n[o],s,r))return!1;return!0}function Yx(a,t,n,s,r){for(let o=0,c=n.length;o<c;++o){const h=n[o];if(oE(a,t,h,s,r))return!0;t=h[h.length-1]}return!1}function Xx(a,t,n,s){for(;t<n-s;){for(let r=0;r<s;++r){const o=a[t+r];a[t+r]=a[n-s+r],a[n-s+r]=o}t+=s,n-=s}}function Jd(a,t,n,s){let r=0,o=a[n-s],c=a[n-s+1];for(;t<n;t+=s){const h=a[t],d=a[t+1];r+=(h-o)*(d+c),o=h,c=d}return r===0?void 0:r>0}function $d(a,t,n,s,r){r=r!==void 0?r:!1;for(let o=0,c=n.length;o<c;++o){const h=n[o],d=Jd(a,t,h,s);if(o===0){if(r&&d||!r&&!d)return!1}else if(r&&!d||!r&&d)return!1;t=h}return!0}function uE(a,t,n,s,r){for(let o=0,c=n.length;o<c;++o){const h=n[o];if(!$d(a,t,h,s,r))return!1;h.length&&(t=h[h.length-1])}return!0}function Yu(a,t,n,s,r){r=r!==void 0?r:!1;for(let o=0,c=n.length;o<c;++o){const h=n[o],d=Jd(a,t,h,s);(o===0?r&&d||!r&&!d:r&&!d||!r&&d)&&Xx(a,t,h,s),t=h}return t}function vd(a,t,n,s,r){for(let o=0,c=n.length;o<c;++o)t=Yu(a,t,n[o],s,r);return t}function Bx(a,t){const n=[];let s=0,r=0,o;for(let c=0,h=t.length;c<h;++c){const d=t[c],_=Jd(a,s,d,2);if(o===void 0&&(o=_),_===o)n.push(t.slice(r,c+1));else{if(n.length===0)continue;n[n.length-1].push(t[r])}r=c+1,s=d}return n}class Cs extends ul{constructor(t,n,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&s?(this.setFlatCoordinates(n,t),this.ends_=s):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?Jn(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Cs(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,s,r){return r<ol(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Kd(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),qd(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,s,r))}containsXY(t,n){return Wd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return nE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Yu(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Br(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=xs(this.getExtent());this.flatInteriorPoint_=Qd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new ya(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new jr(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,s=this.ends_,r=[];let o=0;for(let c=0,h=s.length;c<h;++c){const d=s[c],_=new jr(n.slice(o,d),t);r.push(_),o=d}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;$d(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Yu(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],s=[];return n.length=Vd(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,s),new Cs(n,"XY",s)}getType(){return"Polygon"}intersectsExtent(t){return oE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=$r(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function j0(a){if(sc(a))throw new Error("Cannot create polygon from empty extent");const t=a[0],n=a[1],s=a[2],r=a[3],o=[t,n,t,r,s,r,s,n,t,n];return new Cs(o,"XY",[o.length])}function tg(a,t,n,s){const r=Xt(t)/n[0],o=Ue(t)/n[1];return s?Math.min(a,Math.max(r,o)):Math.min(a,Math.min(r,o))}function eg(a,t,n){let s=Math.min(a,t);const r=50;return s*=Math.log(1+r*Math.max(0,a/t-1))/r+1,n&&(s=Math.max(s,n),s/=Math.log(1+r*Math.max(0,n/a-1))/r+1),Qt(s,n/2,t*2)}function jx(a,t,n,s){return t=t!==void 0?t:!0,(function(r,o,c,h){if(r!==void 0){const d=a[0],_=a[a.length-1],m=n?tg(d,n,c,s):d;if(h)return t?eg(r,m,_):Qt(r,_,m);const y=Math.min(m,r),E=Math.floor(Ld(a,y,o));return a[E]>m&&E<a.length-1?a[E+1]:a[E]}})}function Hx(a,t,n,s,r,o){return s=s!==void 0?s:!0,n=n!==void 0?n:0,(function(c,h,d,_){if(c!==void 0){const m=r?tg(t,r,d,o):t;if(_)return s?eg(c,m,n):Qt(c,n,m);const y=1e-9,E=Math.ceil(Math.log(t/m)/Math.log(a)-y),S=-h*(.5-y)+.5,x=Math.min(m,c),R=Math.floor(Math.log(t/x)/Math.log(a)+S),C=Math.max(E,R),w=t/Math.pow(a,C);return Qt(w,n,m)}})}function H0(a,t,n,s,r){return n=n!==void 0?n:!0,(function(o,c,h,d){if(o!==void 0){const _=s?tg(a,s,h,r):a;return!n||!d?Qt(o,t,_):eg(o,_,t)}})}function ng(a){if(a!==void 0)return 0}function P0(a){if(a!==void 0)return a}function Px(a){const t=2*Math.PI/a;return(function(n,s){if(s)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n})}function Zx(a){const t=Es(5);return(function(n,s){return s||n===void 0?n:Math.abs(n)<=t?0:n})}const Kx=42,ig=256,Xf=0;class Vn extends Yn{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=jd(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&Wp(),t.center&&(t.center=Ci(t.center,this.projection_)),t.extent&&(t.extent=_s(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const h in Nn)delete n[h];this.setProperties(n,!0);const s=qx(t);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=s.minZoom;const r=kx(t),o=s.constraint,c=Vx(t);this.constraints_={center:r,resolution:o,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const s=this.getCenterInternal();if(s){const r=t||[0,0,0,0];n=n||[0,0,0,0];const o=this.getResolution(),c=o/2*(r[3]-n[3]+n[1]-r[1]),h=o/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([s[0]+c,s[1]-h])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let s=0;s<n.length;++s){let r=arguments[s];r.center&&(r=Object.assign({},r),r.center=Ci(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Ci(r.anchor,this.getProjection())),n[s]=r}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,s;n>1&&typeof arguments[n-1]=="function"&&(s=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const m=arguments[r];m.center&&this.setCenterInternal(m.center),m.zoom!==void 0?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),m.rotation!==void 0&&this.setRotation(m.rotation)}if(r===n){s&&Tu(s,!0);return}let o=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,d=this.targetRotation_;const _=[];for(;r<n;++r){const m=arguments[r],y={start:o,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||HS,callback:s};if(m.center&&(y.sourceCenter=c,y.targetCenter=m.center.slice(),c=y.targetCenter),m.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(m.zoom),h=y.targetResolution):m.resolution&&(y.sourceResolution=h,y.targetResolution=m.resolution,h=y.targetResolution),m.rotation!==void 0){y.sourceRotation=d;const E=ca(m.rotation-d+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=d+E,d=y.targetRotation}Wx(y)?y.complete=!0:o+=y.duration,_.push(y)}this.animations_.push(_),this.setHint(ze.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[ze.ANIMATING]>0}getInteracting(){return this.hints_[ze.INTERACTING]>0}cancelAnimations(){this.setHint(ze.ANIMATING,-this.hints_[ze.ANIMATING]);let t;for(let n=0,s=this.animations_.length;n<s;++n){const r=this.animations_[n];if(r[0].callback&&Tu(r[0].callback,!1),!t)for(let o=0,c=r.length;o<c;++o){const h=r[o];if(!h.complete){t=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let s=this.animations_.length-1;s>=0;--s){const r=this.animations_[s];let o=!0;for(let c=0,h=r.length;c<h;++c){const d=r[c];if(d.complete)continue;const _=t-d.start;let m=d.duration>0?_/d.duration:1;m>=1?(d.complete=!0,m=1):o=!1;const y=d.easing(m);if(d.sourceCenter){const E=d.sourceCenter[0],S=d.sourceCenter[1],x=d.targetCenter[0],R=d.targetCenter[1];this.nextCenter_=d.targetCenter;const C=E+y*(x-E),w=S+y*(R-S);this.targetCenter_=[C,w]}if(d.sourceResolution&&d.targetResolution){const E=y===1?d.targetResolution:d.sourceResolution+y*(d.targetResolution-d.sourceResolution);if(d.anchor){const S=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(E,0,S,!0);this.targetCenter_=this.calculateCenterZoom(x,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=E,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){const E=y===1?ca(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+y*(d.targetRotation-d.sourceRotation);if(d.anchor){const S=this.constraints_.rotation(E,!0);this.targetCenter_=this.calculateCenterRotate(S,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=E}if(this.applyTargetState_(!0),n=!0,!d.complete)break}if(o){this.animations_[s]=null,this.setHint(ze.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=r[0].callback;c&&Tu(c,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let s;const r=this.getCenterInternal();return r!==void 0&&(s=[r[0]-n[0],r[1]-n[1]],Gd(s,t-this.getRotation()),XS(s,n)),s}calculateCenterZoom(t,n){let s;const r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){const c=n[0]-t*(n[0]-r[0])/o,h=n[1]-t*(n[1]-r[1])/o;s=[c,h]}return s}getViewportSize_(t){const n=this.viewportSize_;if(t){const s=n[0],r=n[1];return[Math.abs(s*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(s*Math.sin(t))+Math.abs(r*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&yd(t,this.getProjection())}getCenterInternal(){return this.get(Nn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return Qp(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Gt(n,"The view center is not defined");const s=this.getResolution();Gt(s!==void 0,"The view resolution is not defined");const r=this.getRotation();return Gt(r!==void 0,"The view rotation is not defined"),dd(n,s,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(Nn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(_s(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const s=Xt(t)/n[0],r=Ue(t)/n[1];return Math.max(s,r)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(n/s)/Math.log(t);return(function(o){return n/Math.pow(t,o*r)})}getRotation(){return this.get(Nn.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),s=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(s/r)/n;return(function(c){return Math.log(s/c)/n/o})}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const s=this.padding_;return s&&(n=[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),s=this.getRotation();let r=this.getCenterInternal();const o=this.padding_;if(o){const c=this.getViewportSizeMinusPadding_();r=Bf(r,this.getViewportSize_(),[c[0]/2+o[3],c[1]/2+o[0]],n,s)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:s,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,s,r;if(this.resolutions_){const o=Ld(this.resolutions_,t,1);n=o,s=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=s/this.resolutions_[o+1]}else s=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(s/t)/Math.log(r)}getResolutionForZoom(t){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const n=Qt(Math.floor(t),0,this.resolutions_.length-2),s=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(s,Qt(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let s;if(Gt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){Gt(!sc(t),"Cannot fit empty extent provided as `geometry`");const r=_s(t,this.getProjection());s=j0(r)}else if(t.getType()==="Circle"){const r=_s(t.getExtent(),this.getProjection());s=j0(r),s.rotate(this.getRotation(),xs(r))}else s=t;this.fitInternal(s,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),s=Math.cos(n),r=Math.sin(-n),o=t.getFlatCoordinates(),c=t.getStride();let h=1/0,d=1/0,_=-1/0,m=-1/0;for(let y=0,E=o.length;y<E;y+=c){const S=o[y]*s-o[y+1]*r,x=o[y]*r+o[y+1]*s;h=Math.min(h,S),d=Math.min(d,x),_=Math.max(_,S),m=Math.max(m,x)}return[h,d,_,m]}fitInternal(t,n){n=n||{};let s=n.size;s||(s=this.getViewportSizeMinusPadding_());const r=n.padding!==void 0?n.padding:[0,0,0,0],o=n.nearest!==void 0?n.nearest:!1;let c;n.minResolution!==void 0?c=n.minResolution:n.maxZoom!==void 0?c=this.getResolutionForZoom(n.maxZoom):c=0;const h=this.rotatedExtentForGeometry(t);let d=this.getResolutionForExtentInternal(h,[s[0]-r[1]-r[3],s[1]-r[0]-r[2]]);d=isNaN(d)?c:Math.max(d,c),d=this.getConstrainedResolution(d,o?0:1);const _=this.getRotation(),m=Math.sin(_),y=Math.cos(_),E=xs(h);E[0]+=(r[1]-r[3])/2*d,E[1]+=(r[0]-r[2])/2*d;const S=E[0]*y-E[1]*m,x=E[1]*y+E[0]*m,R=this.getConstrainedCenter([S,x],d),C=n.callback?n.callback:Fr;n.duration!==void 0?this.animateInternal({resolution:d,center:R,duration:n.duration,easing:n.easing},C):(this.targetResolution_=d,this.targetCenter_=R,this.applyTargetState_(!1,!0),Tu(C,!0))}centerOn(t,n,s){this.centerOnInternal(Ci(t,this.getProjection()),n,s)}centerOnInternal(t,n,s){this.setCenterInternal(Bf(t,n,s,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,s,r){let o;const c=this.padding_;if(c&&t){const h=this.getViewportSizeMinusPadding_(-s),d=Bf(t,r,[h[0]/2+c[3],h[1]/2+c[0]],n,s);o=[t[0]-d[0],t[1]-d[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=yd(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&Ci(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const s=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,r,s);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=Ci(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const s=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,s);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&Ci(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const s=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,s),o=this.getViewportSize_(r),c=this.constraints_.resolution(this.targetResolution_,0,o,s),h=this.constraints_.center(this.targetCenter_,c,o,s,this.calculateCenterShift(this.targetCenter_,c,r,o));this.get(Nn.ROTATION)!==r&&this.set(Nn.ROTATION,r),this.get(Nn.RESOLUTION)!==c&&(this.set(Nn.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(Nn.CENTER)||!Gu(this.get(Nn.CENTER),h))&&this.set(Nn.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,s){t=t!==void 0?t:200;const r=n||0,o=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,r,c),d=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,o,c));if(t===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=d,this.applyTargetState_();return}s=s||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==o||!this.getCenterInternal()||!Gu(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:d,resolution:h,duration:t,easing:Ca,anchor:s}))}beginInteraction(){this.resolveConstraints(0),this.setHint(ze.INTERACTING,1)}endInteraction(t,n,s){s=s&&Ci(s,this.getProjection()),this.endInteractionInternal(t,n,s)}endInteractionInternal(t,n,s){this.getInteracting()&&(this.setHint(ze.INTERACTING,-1),this.resolveConstraints(t,n,s))}getConstrainedCenter(t,n){const s=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),s)}getConstrainedZoom(t,n){const s=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(s,n))}getConstrainedResolution(t,n){n=n||0;const s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,s)}}function Tu(a,t){setTimeout(function(){a(t)},0)}function kx(a){if(a.extent!==void 0){const n=a.smoothExtentConstraint!==void 0?a.smoothExtentConstraint:!0;return A0(a.extent,a.constrainOnlyCenter,n)}const t=jd(a.projection,"EPSG:3857");if(a.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,A0(n,!1,!1)}return NS}function qx(a){let t,n,s,c=a.minZoom!==void 0?a.minZoom:Xf,h=a.maxZoom!==void 0?a.maxZoom:28;const d=a.zoomFactor!==void 0?a.zoomFactor:2,_=a.multiWorld!==void 0?a.multiWorld:!1,m=a.smoothResolutionConstraint!==void 0?a.smoothResolutionConstraint:!0,y=a.showFullExtent!==void 0?a.showFullExtent:!1,E=jd(a.projection,"EPSG:3857"),S=E.getExtent();let x=a.constrainOnlyCenter,R=a.extent;if(!_&&!R&&E.isGlobal()&&(x=!1,R=S),a.resolutions!==void 0){const C=a.resolutions;n=C[c],s=C[h]!==void 0?C[h]:C[C.length-1],a.constrainResolution?t=jx(C,m,!x&&R,y):t=H0(n,s,m,!x&&R,y)}else{const w=(S?Math.max(Xt(S),Ue(S)):360*Fd.degrees/E.getMetersPerUnit())/ig/Math.pow(2,Xf),z=w/Math.pow(2,28-Xf);n=a.maxResolution,n!==void 0?c=0:n=w/Math.pow(d,c),s=a.minResolution,s===void 0&&(a.maxZoom!==void 0?a.maxResolution!==void 0?s=n/Math.pow(d,h):s=w/Math.pow(d,h):s=z),h=c+Math.floor(Math.log(n/s)/Math.log(d)),s=n/Math.pow(d,h-c),a.constrainResolution?t=Hx(d,n,s,m,!x&&R,y):t=H0(n,s,m,!x&&R,y)}return{constraint:t,maxResolution:n,minResolution:s,minZoom:c,zoomFactor:d}}function Vx(a){if(a.enableRotation!==void 0?a.enableRotation:!0){const n=a.constrainRotation;return n===void 0||n===!0?Zx():n===!1?P0:typeof n=="number"?Px(n):P0}return ng}function Wx(a){return!(a.sourceCenter&&a.targetCenter&&!Gu(a.sourceCenter,a.targetCenter)||a.sourceResolution!==a.targetResolution||a.sourceRotation!==a.targetRotation)}function Bf(a,t,n,s,r){const o=Math.cos(-r);let c=Math.sin(-r),h=a[0]*o-a[1]*c,d=a[1]*o+a[0]*c;h+=(t[0]/2-n[0])*s,d+=(n[1]-t[1]/2)*s,c=-c;const _=h*o-d*c,m=d*o+h*c;return[_,m]}const Ru="ol-hidden",Qx="ol-selectable",cc="ol-unselectable",sg="ol-control",Z0="ol-collapsed",Jx=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),K0=["style","variant","weight","size","lineHeight","family"],Sd={normal:400,bold:700},xd=function(a){const t=a.match(Jx);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let s=0,r=K0.length;s<r;++s){const o=t[s+1];o!==void 0&&(n[K0[s]]=typeof o=="string"?o.trim():o)}return isNaN(Number(n.weight))&&n.weight in Sd&&(n.weight=Sd[n.weight]),n.families=n.family.split(/,\s?/).map(s=>s.trim().replace(/^['"]|['"]$/g,"")),n};function fe(a,t,n,s){let r;return n&&n.length?r=n.shift():Tn?r=new class extends OffscreenCanvas{style={}}(a??300,t??150):r=document.createElement("canvas"),a&&(r.width=a),t&&(r.height=t),r.getContext("2d",s)}let jf;function Xu(){return jf||(jf=fe(1,1)),jf}function hc(a){const t=a.canvas;t.width=1,t.height=1,a.clearRect(0,0,1,1)}function $x(a){let t=a.offsetWidth;const n=getComputedStyle(a);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function tC(a){let t=a.offsetHeight;const n=getComputedStyle(a);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function k0(a,t){const n=t.parentNode;n&&n.replaceChild(a,t)}function cE(a){for(;a.lastChild;)a.lastChild.remove()}function eC(a,t){const n=a.childNodes;for(let s=0;;++s){const r=n[s],o=t[s];if(!r&&!o)break;if(r!==o){if(!r){a.appendChild(o);continue}if(!o){a.removeChild(r),--s;continue}a.insertBefore(o,r)}}}function hE(){return new Proxy({childNodes:[],appendChild:function(t){return this.childNodes.push(t),t},remove:function(){},removeChild:function(t){const n=this.childNodes.indexOf(t);if(n===-1)throw new Error("Node to remove was not found");return this.childNodes.splice(n,1),t},insertBefore:function(t,n){const s=this.childNodes.indexOf(n);if(s===-1)throw new Error("Reference node not found");return this.childNodes.splice(s,0,t),t},style:{}},{get(t,n,s){return n==="firstElementChild"?t.childNodes.length>0?t.childNodes[0]:null:Reflect.get(t,n,s)}})}function ys(a){return typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&a instanceof OffscreenCanvas}class lg extends Yn{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&this.element?.remove();for(let n=0,s=this.listenerKeys.length;n<s;++n)Kt(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=t,t){const n=this.target_??t.getOverlayContainerStopEvent();this.element&&n.appendChild(this.element),this.render!==Fr&&this.listenerKeys.push(wt(t,Ti.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class nC extends lg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const n=t.className!==void 0?t.className:"ol-attribution",s=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:n+"-expand",o=t.collapseLabel!==void 0?t.collapseLabel:"",c=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=c):this.collapseLabel_=o;const h=t.label!==void 0?t.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=r):this.label_=h;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=s,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(Et.CLICK,this.handleClick_.bind(this),!1);const _=n+" "+cc+" "+sg+(this.collapsed_&&this.collapsible_?" "+Z0:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=_,m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=this.getMap().getAllLayers(),s=new Set(n.flatMap(r=>r.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>s.add(r)):s.add(this.attributions_)),!this.overrideCollapsible_){const r=!n.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(s)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(t).map(r=>CS(()=>r))),s=n.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!Rs(n,this.renderedAttributions_)){cE(this.ulElement_);for(let r=0,o=n.length;r<o;++r){const c=document.createElement("li");c.innerHTML=n[r],this.ulElement_.appendChild(c)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Z0),this.collapsed_?k0(this.collapseLabel_,this.label_):k0(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class iC extends lg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",s=t.label!==void 0?t.label:"",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof s=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=s):(this.label_=s,this.label_.classList.add(r));const o=t.tipLabel?t.tipLabel:"Reset rotation",c=document.createElement("button");c.className=n+"-reset",c.setAttribute("type","button"),c.title=o,c.appendChild(this.label_),c.addEventListener(Et.CLICK,this.handleClick_.bind(this),!1);const h=n+" "+cc+" "+sg,d=this.element;d.className=h,d.appendChild(c),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Ru)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const s=n.getRotation();s!==void 0&&(this.duration_>0&&s%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Ca}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const s=n.viewState.rotation;if(s!=this.rotation_){const r="rotate("+s+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Ru);!o&&s===0?this.element.classList.add(Ru):o&&s!==0&&this.element.classList.remove(Ru)}this.label_.style.transform=r}this.rotation_=s}}class sC extends lg{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",s=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",o=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",c=t.zoomInLabel!==void 0?t.zoomInLabel:"+",h=t.zoomOutLabel!==void 0?t.zoomOutLabel:"",d=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",_=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=r,m.setAttribute("type","button"),m.title=d,m.appendChild(typeof c=="string"?document.createTextNode(c):c),m.addEventListener(Et.CLICK,this.handleClick_.bind(this,s),!1);const y=document.createElement("button");y.className=o,y.setAttribute("type","button"),y.title=_,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(Et.CLICK,this.handleClick_.bind(this,-s),!1);const E=n+" "+cc+" "+sg,S=this.element;S.className=E,S.appendChild(m),S.appendChild(y),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const s=this.getMap().getView();if(!s)return;const r=s.getZoom();if(r!==void 0){const o=s.getConstrainedZoom(r+t);this.duration_>0?(s.getAnimating()&&s.cancelAnimations(),s.animate({zoom:o,duration:this.duration_,easing:Ca})):s.setZoom(o)}}}function lC(a){a=a||{};const t=new Cn;return(a.zoom===void 0||a.zoom)&&t.push(new sC(a.zoomOptions)),(a.rotate===void 0||a.rotate)&&t.push(new iC(a.rotateOptions)),(a.attribution===void 0||a.attribution)&&t.push(new nC(a.attributionOptions)),t}class aC{constructor(t,n,s){this.decay_=t,this.minVelocity_=n,this.delay_=s,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let s=n-3;for(;s>0&&this.points_[s+2]>t;)s-=3;const r=this.points_[n+2]-this.points_[s+2];if(r<1e3/60)return!1;const o=this.points_[n]-this.points_[s],c=this.points_[n+1]-this.points_[s+1];return this.angle_=Math.atan2(c,o),this.initialVelocity_=Math.sqrt(o*o+c*c)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const q0={ACTIVE:"active"};class to extends Yn{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(q0.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(q0.ACTIVE,t)}setMap(t){this.map_=t}}function rC(a,t,n){const s=a.getCenterInternal();if(s){const r=[s[0]+t[0],s[1]+t[1]];a.animateInternal({duration:n!==void 0?n:250,easing:PS,center:a.getConstrainedCenter(r)})}}function ag(a,t,n,s){const r=a.getZoom();if(r===void 0)return;const o=a.getConstrainedZoom(r+t),c=a.getResolutionForZoom(o);a.getAnimating()&&a.cancelAnimations(),a.animate({resolution:c,anchor:n,duration:s!==void 0?s:250,easing:Ca})}class oC extends to{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==te.DBLCLICK){const s=t.originalEvent,r=t.map,o=t.coordinate,c=s.shiftKey?-this.delta_:this.delta_,h=r.getView();ag(h,c,o,this.duration_),s.preventDefault(),n=!0}return!n}}function Cd(a){const t=arguments;return function(n){let s=!0;for(let r=0,o=t.length;r<o&&(s=s&&t[r](n),!!s);++r);return s}}const uC=function(a){const t=a.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},cC=function(a){const t=a.map.getTargetElement(),n=t.getRootNode(),s=a.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(s):t.contains(s)},fE=function(a){const t=a.map.getTargetElement(),n=t.getRootNode();return(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")?cC(a):!0},hC=Gr,dE=function(a){const t=a.originalEvent;return"pointerId"in t&&t.button==0&&!(AS&&Dp&&t.ctrlKey)},gE=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},fC=function(a){const t=a.originalEvent;return Dp?t.metaKey:t.ctrlKey},dC=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},_E=function(a){const t=a.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},Hf=function(a){const t=a.originalEvent;return"pointerId"in t&&t.pointerType=="mouse"},gC=function(a){const t=a.originalEvent;return"pointerId"in t&&t.isPrimary&&t.button===0};class eo extends to{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==te.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==te.POINTERUP){const s=this.handleUpEvent(t);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(t.type==te.POINTERDOWN){const s=this.handleDownEvent(t);this.handlingDownUpSequence=s,n=this.stopDown(s)}else t.type==te.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function rg(a){const t=a.length;let n=0,s=0;for(let r=0;r<t;r++)n+=a[r].clientX,s+=a[r].clientY;return{clientX:n/t,clientY:s/t}}class _C extends eo{constructor(t){super({stopDown:Ju}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:Cd(gE,gC);this.condition_=t.onFocusOnly?Cd(fE,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const s=this.targetPointers,r=n.getEventPixel(rg(s));if(s.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],h=t.map.getView();BS(o,h.getResolution()),Gd(o,h.getRotation()),h.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=s.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,s=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),c=s.getCenterInternal(),h=n.getPixelFromCoordinateInternal(c),d=n.getCoordinateFromPixelInternal([h[0]-r*Math.cos(o),h[1]-r*Math.sin(o)]);s.animateInternal({center:s.getConstrainedCenter(d),duration:500,easing:Ca})}return this.panning_&&(this.panning_=!1,s.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const s=t.map.getView();return this.lastCentroid=null,s.getAnimating()&&s.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class mC extends eo{constructor(t){t=t||{},super({stopDown:Ju}),this.condition_=t.condition?t.condition:uC,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!Hf(t))return;const n=t.map,s=n.getView();if(s.getConstraints().rotation===ng)return;const r=n.getSize(),o=t.pixel,c=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;s.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(t){return Hf(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return Hf(t)&&dE(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class yC extends Qu{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,s="px",r=this.element_.style;r.left=Math.min(t[0],n[0])+s,r.top=Math.min(t[1],n[1])+s,r.width=Math.abs(n[0]-t[0])+s,r.height=Math.abs(n[1]-t[1])+s}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,n=this.endPixel_,r=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Cs([r])}getGeometry(){return this.geometry_}}const Jl={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Sr extends Di{constructor(t,n,s){super(t),this.coordinate=n,this.mapBrowserEvent=s}}class pC extends eo{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new yC(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??dE,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,s){const r=s[0]-n[0],o=s[1]-n[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Sr(Jl.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new Sr(n?Jl.BOXEND:Jl.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Sr(Jl.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Sr(Jl.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Sr(Jl.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class EC extends pC{constructor(t){t=t||{};const n=t.condition?t.condition:dC;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const s=this.getMap().getView();let r=this.getGeometry();if(this.out_){const o=s.rotatedExtentForGeometry(r),c=s.getResolutionForExtentInternal(o),h=s.getResolution()/c;r=r.clone(),r.scale(h*h)}s.fitInternal(r,{duration:this.duration_,easing:Ca})}}const Ws={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class vC extends to{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return gE(n)&&_E(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==Et.KEYDOWN){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==Ws.DOWN||r==Ws.LEFT||r==Ws.RIGHT||r==Ws.UP)){const c=t.map.getView(),h=c.getResolution()*this.pixelDelta_;let d=0,_=0;r==Ws.DOWN?_=-h:r==Ws.LEFT?d=-h:r==Ws.RIGHT?d=h:_=h;const m=[d,_];Gd(m,c.getRotation()),rC(c,m,this.duration_),s.preventDefault(),n=!0}}return!n}}class SC extends to{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!fC(n)&&_E(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==Et.KEYDOWN||t.type==Et.KEYPRESS){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==="+"||r==="-")){const o=t.map,c=r==="+"?this.delta_:-this.delta_,h=o.getView();ag(h,c,void 0,this.duration_),s.preventDefault(),n=!0}}return!n}}const xC=40,CC=300;class TC extends to{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:hC;this.condition_=t.onFocusOnly?Cd(fE,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==Et.WHEEL)return!0;const s=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let o=r.deltaY;switch(r.deltaMode){case WheelEvent.DOM_DELTA_LINE:o*=xC;break;case WheelEvent.DOM_DELTA_PAGE:o*=CC;break}if(o===0)return!1;this.lastDelta_=o;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const h=s.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?s.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=c,!1;this.totalDelta_+=o;const d=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),d),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let s=-Qt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(s=s?s>0?1:-1:0),ag(n,s,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class RC extends eo{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Ju),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const s=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-s.clientY,r.clientX-s.clientX);if(this.lastAngle_!==void 0){const d=o-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=d}this.lastAngle_=o;const c=t.map,h=c.getView();h.getConstraints().rotation!==ng&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(rg(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class bC extends eo{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Ju),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const s=this.targetPointers[0],r=this.targetPointers[1],o=s.clientX-r.clientX,c=s.clientY-r.clientY,h=Math.sqrt(o*o+c*c);this.lastDistance_!==void 0&&(n=this.lastDistance_/h),this.lastDistance_=h;const d=t.map,_=d.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(rg(this.targetPointers))),d.render(),_.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const s=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return s.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function AC(a){a=a||{};const t=new Cn,n=new aC(-.005,.05,100);return(a.altShiftDragRotate===void 0||a.altShiftDragRotate)&&t.push(new mC),(a.doubleClickZoom===void 0||a.doubleClickZoom)&&t.push(new oC({delta:a.zoomDelta,duration:a.zoomDuration})),(a.dragPan===void 0||a.dragPan)&&t.push(new _C({onFocusOnly:a.onFocusOnly,kinetic:n})),(a.pinchRotate===void 0||a.pinchRotate)&&t.push(new RC),(a.pinchZoom===void 0||a.pinchZoom)&&t.push(new bC({duration:a.zoomDuration})),(a.keyboard===void 0||a.keyboard)&&(t.push(new vC),t.push(new SC({delta:a.zoomDelta,duration:a.zoomDuration}))),(a.mouseWheelZoom===void 0||a.mouseWheelZoom)&&t.push(new TC({onFocusOnly:a.onFocusOnly,duration:a.zoomDuration})),(a.shiftDragZoom===void 0||a.shiftDragZoom)&&t.push(new EC({duration:a.zoomDuration})),t}const Yt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class mE extends Yn{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[Yt.OPACITY]=t.opacity!==void 0?t.opacity:1,Gt(typeof n[Yt.OPACITY]=="number","Layer opacity must be a number"),n[Yt.VISIBLE]=t.visible!==void 0?t.visible:!0,n[Yt.Z_INDEX]=t.zIndex,n[Yt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[Yt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[Yt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[Yt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},s=this.getZIndex();return n.opacity=Qt(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=s===void 0&&!n.managed?1/0:s,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return mt()}getLayerStatesArray(t){return mt()}getExtent(){return this.get(Yt.EXTENT)}getMaxResolution(){return this.get(Yt.MAX_RESOLUTION)}getMinResolution(){return this.get(Yt.MIN_RESOLUTION)}getMinZoom(){return this.get(Yt.MIN_ZOOM)}getMaxZoom(){return this.get(Yt.MAX_ZOOM)}getOpacity(){return this.get(Yt.OPACITY)}getSourceState(){return mt()}getVisible(){return this.get(Yt.VISIBLE)}getZIndex(){return this.get(Yt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(Yt.EXTENT,t)}setMaxResolution(t){this.set(Yt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(Yt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(Yt.MAX_ZOOM,t)}setMinZoom(t){this.set(Yt.MIN_ZOOM,t)}setOpacity(t){Gt(typeof t=="number","Layer opacity must be a number"),this.set(Yt.OPACITY,t)}setVisible(t){this.set(Yt.VISIBLE,t)}setZIndex(t){this.set(Yt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const as={ADDLAYER:"addlayer",REMOVELAYER:"removelayer"};class ds extends Di{constructor(t,n){super(t),this.layer=n}}const Pf={LAYERS:"layers"};class Ta extends mE{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let s=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Pf.LAYERS,this.handleLayersChanged_),s?Array.isArray(s)?s=new Cn(s.slice(),{unique:!0}):Gt(typeof s.getArray=="function","Expected `layers` to be an array or a `Collection`"):s=new Cn(void 0,{unique:!0}),this.setLayers(s)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Kt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(wt(t,qe.ADD,this.handleLayersAdd_,this),wt(t,qe.REMOVE,this.handleLayersRemove_,this));for(const s in this.listenerKeys_)this.listenerKeys_[s].forEach(Kt);Vr(this.listenerKeys_);const n=t.getArray();for(let s=0,r=n.length;s<r;s++){const o=n[s];this.registerLayerListeners_(o),this.dispatchEvent(new ds(as.ADDLAYER,o))}this.changed()}registerLayerListeners_(t){const n=[wt(t,ga.PROPERTYCHANGE,this.handleLayerChange_,this),wt(t,Et.CHANGE,this.handleLayerChange_,this)];t instanceof Ta&&n.push(wt(t,as.ADDLAYER,this.handleLayerGroupAdd_,this),wt(t,as.REMOVELAYER,this.handleLayerGroupRemove_,this)),this.listenerKeys_[zt(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new ds(as.ADDLAYER,t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new ds(as.REMOVELAYER,t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new ds(as.ADDLAYER,n)),this.changed()}handleLayersRemove_(t){const n=t.element,s=zt(n);this.listenerKeys_[s].forEach(Kt),delete this.listenerKeys_[s],this.dispatchEvent(new ds(as.REMOVELAYER,n)),this.changed()}getLayers(){return this.get(Pf.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const s=n.getArray();for(let r=0,o=s.length;r<o;++r)this.dispatchEvent(new ds(as.REMOVELAYER,s[r]))}this.set(Pf.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],s=n.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(n)});const r=this.getLayerState();let o=r.zIndex;!t&&r.zIndex===void 0&&(o=0);for(let c=s,h=n.length;c<h;c++){const d=n[c];d.opacity*=r.opacity,d.visible=d.visible&&r.visible,d.maxResolution=Math.min(d.maxResolution,r.maxResolution),d.minResolution=Math.max(d.minResolution,r.minResolution),d.minZoom=Math.max(d.minZoom,r.minZoom),d.maxZoom=Math.min(d.maxZoom,r.maxZoom),r.extent!==void 0&&(d.extent!==void 0?d.extent=sl(d.extent,r.extent):d.extent=r.extent),d.zIndex===void 0&&(d.zIndex=o)}return n}getSourceState(){return"ready"}}const Rn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class fc extends mE{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Yt.SOURCE,this.handleSourcePropertyChange_);const s=t.source?t.source:null;this.setSource(s)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(Yt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Kt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=wt(t,Et.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const s=this.getMapInternal();!t&&s&&(t=s.getView()),t instanceof Vn?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&s&&(n.layerStatesArray=s.getLayerGroup().getLayerStatesArray());let r;if(n.layerStatesArray){if(r=n.layerStatesArray.find(c=>c.layer===this),!r)return!1}else r=this.getLayerState();const o=this.getExtent();return og(r,n.viewState)&&(!o||Qe(o,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];const n=this.getSource()?.getAttributions();if(!n)return[];const s=t instanceof Vn?t.getViewStateAndExtent():t;let r=n(s);return Array.isArray(r)||(r=[r]),r}render(t,n){const s=this.getRenderer();return s.prepareFrame(t)?(this.rendered=!0,s.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){const n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(Yt.MAP,t)}getMapInternal(){return this.get(Yt.MAP)}setMap(t){this.mapPrecomposeKey_&&(Kt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Kt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=wt(t,Rn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=wt(this,Et.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const n=t.frameState.layerStatesArray,s=this.getLayerState(!1);Gt(!n.some(r=>r.layer===s.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(s)}setSource(t){this.set(Yt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function og(a,t){if(!a.visible)return!1;const n=t.resolution;if(n<a.minResolution||n>=a.maxResolution)return!1;const s=t.zoom;return s>a.minZoom&&s<=a.maxZoom}function yE(a,t,n=0,s=a.length-1,r=MC){for(;s>n;){if(s-n>600){const d=s-n+1,_=t-n+1,m=Math.log(d),y=.5*Math.exp(2*m/3),E=.5*Math.sqrt(m*y*(d-y)/d)*(_-d/2<0?-1:1),S=Math.max(n,Math.floor(t-_*y/d+E)),x=Math.min(s,Math.floor(t+(d-_)*y/d+E));yE(a,t,S,x,r)}const o=a[t];let c=n,h=s;for(xr(a,n,t),r(a[s],o)>0&&xr(a,n,s);c<h;){for(xr(a,c,h),c++,h--;r(a[c],o)<0;)c++;for(;r(a[h],o)>0;)h--}r(a[n],o)===0?xr(a,n,h):(h++,xr(a,h,s)),h<=t&&(n=h+1),t<=h&&(s=h-1)}}function xr(a,t,n){const s=a[t];a[t]=a[n],a[n]=s}function MC(a,t){return a<t?-1:a>t?1:0}let pE=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const s=[];if(!Au(t,n))return s;const r=this.toBBox,o=[];for(;n;){for(let c=0;c<n.children.length;c++){const h=n.children[c],d=n.leaf?r(h):h;Au(t,d)&&(n.leaf?s.push(h):Kf(t,d)?this._all(h,s):o.push(h))}n=o.pop()}return s}collides(t){let n=this.data;if(!Au(t,n))return!1;const s=[];for(;n;){for(let r=0;r<n.children.length;r++){const o=n.children[r],c=n.leaf?this.toBBox(o):o;if(Au(t,c)){if(n.leaf||Kf(t,c))return!0;s.push(o)}}n=s.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let s=0;s<t.length;s++)this.insert(t[s]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const s=this.data;this.data=n,n=s}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=la([]),this}remove(t,n){if(!t)return this;let s=this.data;const r=this.toBBox(t),o=[],c=[];let h,d,_;for(;s||o.length;){if(s||(s=o.pop(),d=o[o.length-1],h=c.pop(),_=!0),s.leaf){const m=wC(t,s.children,n);if(m!==-1)return s.children.splice(m,1),o.push(s),this._condense(o),this}!_&&!s.leaf&&Kf(s,r)?(o.push(s),c.push(h),h=0,d=s,s=s.children[0]):d?(h++,s=d.children[h],_=!1):s=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const s=[];for(;t;)t.leaf?n.push(...t.children):s.push(...t.children),t=s.pop();return n}_build(t,n,s,r){const o=s-n+1;let c=this._maxEntries,h;if(o<=c)return h=la(t.slice(n,s+1)),$l(h,this.toBBox),h;r||(r=Math.ceil(Math.log(o)/Math.log(c)),c=Math.ceil(o/Math.pow(c,r-1))),h=la([]),h.leaf=!1,h.height=r;const d=Math.ceil(o/c),_=d*Math.ceil(Math.sqrt(c));V0(t,n,s,_,this.compareMinX);for(let m=n;m<=s;m+=_){const y=Math.min(m+_-1,s);V0(t,m,y,d,this.compareMinY);for(let E=m;E<=y;E+=d){const S=Math.min(E+d-1,y);h.children.push(this._build(t,E,S,r-1))}}return $l(h,this.toBBox),h}_chooseSubtree(t,n,s,r){for(;r.push(n),!(n.leaf||r.length-1===s);){let o=1/0,c=1/0,h;for(let d=0;d<n.children.length;d++){const _=n.children[d],m=Zf(_),y=LC(t,_)-m;y<c?(c=y,o=m<o?m:o,h=_):y===c&&m<o&&(o=m,h=_)}n=h||n.children[0]}return n}_insert(t,n,s){const r=s?t:this.toBBox(t),o=[],c=this._chooseSubtree(r,this.data,n,o);for(c.children.push(t),Mr(c,r);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(r,o,n)}_split(t,n){const s=t[n],r=s.children.length,o=this._minEntries;this._chooseSplitAxis(s,o,r);const c=this._chooseSplitIndex(s,o,r),h=la(s.children.splice(c,s.children.length-c));h.height=s.height,h.leaf=s.leaf,$l(s,this.toBBox),$l(h,this.toBBox),n?t[n-1].children.push(h):this._splitRoot(s,h)}_splitRoot(t,n){this.data=la([t,n]),this.data.height=t.height+1,this.data.leaf=!1,$l(this.data,this.toBBox)}_chooseSplitIndex(t,n,s){let r,o=1/0,c=1/0;for(let h=n;h<=s-n;h++){const d=Ar(t,0,h,this.toBBox),_=Ar(t,h,s,this.toBBox),m=zC(d,_),y=Zf(d)+Zf(_);m<o?(o=m,r=h,c=y<c?y:c):m===o&&y<c&&(c=y,r=h)}return r||s-n}_chooseSplitAxis(t,n,s){const r=t.leaf?this.compareMinX:OC,o=t.leaf?this.compareMinY:DC,c=this._allDistMargin(t,n,s,r),h=this._allDistMargin(t,n,s,o);c<h&&t.children.sort(r)}_allDistMargin(t,n,s,r){t.children.sort(r);const o=this.toBBox,c=Ar(t,0,n,o),h=Ar(t,s-n,s,o);let d=bu(c)+bu(h);for(let _=n;_<s-n;_++){const m=t.children[_];Mr(c,t.leaf?o(m):m),d+=bu(c)}for(let _=s-n-1;_>=n;_--){const m=t.children[_];Mr(h,t.leaf?o(m):m),d+=bu(h)}return d}_adjustParentBBoxes(t,n,s){for(let r=s;r>=0;r--)Mr(n[r],t)}_condense(t){for(let n=t.length-1,s;n>=0;n--)t[n].children.length===0?n>0?(s=t[n-1].children,s.splice(s.indexOf(t[n]),1)):this.clear():$l(t[n],this.toBBox)}};function wC(a,t,n){if(!n)return t.indexOf(a);for(let s=0;s<t.length;s++)if(n(a,t[s]))return s;return-1}function $l(a,t){Ar(a,0,a.children.length,t,a)}function Ar(a,t,n,s,r){r||(r=la(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=t;o<n;o++){const c=a.children[o];Mr(r,a.leaf?s(c):c)}return r}function Mr(a,t){return a.minX=Math.min(a.minX,t.minX),a.minY=Math.min(a.minY,t.minY),a.maxX=Math.max(a.maxX,t.maxX),a.maxY=Math.max(a.maxY,t.maxY),a}function OC(a,t){return a.minX-t.minX}function DC(a,t){return a.minY-t.minY}function Zf(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function bu(a){return a.maxX-a.minX+(a.maxY-a.minY)}function LC(a,t){return(Math.max(t.maxX,a.maxX)-Math.min(t.minX,a.minX))*(Math.max(t.maxY,a.maxY)-Math.min(t.minY,a.minY))}function zC(a,t){const n=Math.max(a.minX,t.minX),s=Math.max(a.minY,t.minY),r=Math.min(a.maxX,t.maxX),o=Math.min(a.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,o-s)}function Kf(a,t){return a.minX<=t.minX&&a.minY<=t.minY&&t.maxX<=a.maxX&&t.maxY<=a.maxY}function Au(a,t){return t.minX<=a.maxX&&t.minY<=a.maxY&&t.maxX>=a.minX&&t.maxY>=a.minY}function la(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function V0(a,t,n,s,r){const o=[t,n];for(;o.length;){if(n=o.pop(),t=o.pop(),n-t<=s)continue;const c=t+Math.ceil((n-t)/s/2)*s;yE(a,c,t,n,r),o.push(t,c,c,n)}}const ug=[NaN,NaN,NaN,0];let kf;function IC(){return kf||(kf=fe(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),kf}const NC=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,GC=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,FC=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,UC=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Mu(a,t){return a.endsWith("%")?Number(a.substring(0,a.length-1))/t:Number(a)}function Nr(a){throw new Error('failed to parse "'+a+'" as color')}function EE(a){if(a.toLowerCase().startsWith("rgb")){const o=a.match(GC)||a.match(NC)||a.match(FC);if(o){const c=o[4],h=100/255;return[Qt(Mu(o[1],h)+.5|0,0,255),Qt(Mu(o[2],h)+.5|0,0,255),Qt(Mu(o[3],h)+.5|0,0,255),c!==void 0?Qt(Mu(c,100),0,1):1]}Nr(a)}if(a.startsWith("#")){if(UC.test(a)){const o=a.substring(1),c=o.length<=4?1:2,h=[0,0,0,255];for(let d=0,_=o.length;d<_;d+=c){let m=parseInt(o.substring(d,d+c),16);c===1&&(m+=m<<4),h[d/c]=m}return h[3]=h[3]/255,h}Nr(a)}const t=IC();t.fillStyle="#abcdef";let n=t.fillStyle;t.fillStyle=a,t.fillStyle===n&&(t.fillStyle="#fedcba",n=t.fillStyle,t.fillStyle=a,t.fillStyle===n&&Nr(a));const s=t.fillStyle;if(s.startsWith("#")||s.startsWith("rgba"))return EE(s);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);const r=Array.from(t.getImageData(0,0,1,1).data);return r[3]=tc(r[3]/255,3),r}function YC(a){return typeof a=="string"?a:hg(a)}const XC=1024,Cr={};let qf=0;function BC(a){if(a.length===4)return a;const t=a.slice();return t[3]=1,t}function Vf(a){return a>.0031308?Math.pow(a,1/2.4)*269.025-14.025:a*3294.6}function Wf(a){return a>.2068965?Math.pow(a,3):(a-4/29)*(108/841)}function Qf(a){return a>10.314724?Math.pow((a+14.025)/269.025,2.4):a/3294.6}function Jf(a){return a>.0088564?Math.pow(a,1/3):a/(108/841)+4/29}function W0(a){const t=Qf(a[0]),n=Qf(a[1]),s=Qf(a[2]),r=Jf(t*.222488403+n*.716873169+s*.06060791),o=500*(Jf(t*.452247074+n*.399439023+s*.148375274)-r),c=200*(r-Jf(t*.016863605+n*.117638439+s*.865350722)),h=Math.atan2(c,o)*(180/Math.PI);return[116*r-16,Math.sqrt(o*o+c*c),h<0?h+360:h,a[3]]}function jC(a){const t=(a[0]+16)/116,n=a[1],s=a[2]*Math.PI/180,r=Wf(t),o=Wf(t+n/500*Math.cos(s)),c=Wf(t-n/200*Math.sin(s)),h=Vf(o*3.021973625-r*1.617392459-c*.404875592),d=Vf(o*-.943766287+r*1.916279586+c*.027607165),_=Vf(o*.069407491-r*.22898585+c*1.159737864);return[Qt(h+.5|0,0,255),Qt(d+.5|0,0,255),Qt(_+.5|0,0,255),a[3]]}function cg(a){if(a==="none")return ug;if(Cr.hasOwnProperty(a))return Cr[a];if(qf>=XC){let n=0;for(const s in Cr)(n++&3)===0&&(delete Cr[s],--qf)}const t=EE(a);t.length!==4&&Nr(a);for(const n of t)isNaN(n)&&Nr(a);return Cr[a]=t,++qf,t}function pa(a){return Array.isArray(a)?a:cg(a)}function hg(a){let t=a[0];t!=(t|0)&&(t=t+.5|0);let n=a[1];n!=(n|0)&&(n=n+.5|0);let s=a[2];s!=(s|0)&&(s=s+.5|0);const r=a[3]===void 0?1:Math.round(a[3]*1e3)/1e3;return"rgba("+t+","+n+","+s+","+r+")"}function Q0(a){return a[0]>0&&a[1]>0}function HC(a,t,n){return n===void 0&&(n=[0,0]),n[0]=a[0]*t+.5|0,n[1]=a[1]*t+.5|0,n}function $e(a,t){return Array.isArray(a)?a:(t===void 0?t=[a,a]:(t[0]=a,t[1]=a),t)}let hl=0;const Fe=1<<hl++,Mt=1<<hl++,Ve=1<<hl++,Gn=1<<hl++,rl=1<<hl++,wr=1<<hl++,wu=Math.pow(2,hl)-1,fg={[Fe]:"boolean",[Mt]:"number",[Ve]:"string",[Gn]:"color",[rl]:"number[]",[wr]:"size"},PC=Object.keys(fg).map(Number).sort(bi);function ZC(a){return a in fg}function Or(a){const t=[];for(const n of PC)Dr(a,n)&&t.push(fg[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Dr(a,t){return(a&t)===t}function rs(a,t){return a===t}class he{constructor(t,n){if(!ZC(t))throw new Error(`literal expressions must have a specific type, got ${Or(t)}`);this.type=t,this.value=n}}class KC{constructor(t,n,...s){this.type=t,this.operator=n,this.args=s}}function vE(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Ae(a,t,n){switch(typeof a){case"boolean":{if(rs(t,Ve))return new he(Ve,a?"true":"false");if(!Dr(t,Fe))throw new Error(`got a boolean, but expected ${Or(t)}`);return new he(Fe,a)}case"number":{if(rs(t,wr))return new he(wr,$e(a));if(rs(t,Fe))return new he(Fe,!!a);if(rs(t,Ve))return new he(Ve,a.toString());if(!Dr(t,Mt))throw new Error(`got a number, but expected ${Or(t)}`);return new he(Mt,a)}case"string":{if(rs(t,Gn))return new he(Gn,cg(a));if(rs(t,Fe))return new he(Fe,!!a);if(!Dr(t,Ve))throw new Error(`got a string, but expected ${Or(t)}`);return new he(Ve,a)}}if(!Array.isArray(a))throw new Error("expression must be an array or a primitive value");if(a.length===0)throw new Error("empty expression");if(typeof a[0]=="string")return iT(a,t,n);for(const s of a)if(typeof s!="number")throw new Error("expected an array of numbers");if(rs(t,wr)){if(a.length!==2)throw new Error(`expected an array of two values for a size, got ${a.length}`);return new he(wr,a)}if(rs(t,Gn)){if(a.length===3)return new he(Gn,[...a,1]);if(a.length===4)return new he(Gn,a);throw new Error(`expected an array of 3 or 4 values for a color, got ${a.length}`)}if(!Dr(t,rl))throw new Error(`got an array of numbers, but expected ${Or(t)}`);return new he(rl,a)}const j={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},kC={[j.Get]:_t(St(1,1/0),J0),[j.Var]:_t(St(1,1),qC),[j.Has]:_t(St(1,1/0),J0),[j.Id]:_t(VC,ta),[j.Concat]:_t(St(2,1/0),Nt(Ve)),[j.GeometryType]:_t(WC,ta),[j.LineMetric]:_t(ta),[j.Resolution]:_t($f,ta),[j.Zoom]:_t($f,ta),[j.Time]:_t($f,ta),[j.Any]:_t(St(2,1/0),Nt(Fe)),[j.All]:_t(St(2,1/0),Nt(Fe)),[j.Not]:_t(St(1,1),Nt(Fe)),[j.Equal]:_t(St(2,2),Nt(wu)),[j.NotEqual]:_t(St(2,2),Nt(wu)),[j.GreaterThan]:_t(St(2,2),Nt(Mt)),[j.GreaterThanOrEqualTo]:_t(St(2,2),Nt(Mt)),[j.LessThan]:_t(St(2,2),Nt(Mt)),[j.LessThanOrEqualTo]:_t(St(2,2),Nt(Mt)),[j.Multiply]:_t(St(2,1/0),$0),[j.Coalesce]:_t(St(2,1/0),$0),[j.Divide]:_t(St(2,2),Nt(Mt)),[j.Add]:_t(St(2,1/0),Nt(Mt)),[j.Subtract]:_t(St(2,2),Nt(Mt)),[j.Clamp]:_t(St(3,3),Nt(Mt)),[j.Mod]:_t(St(2,2),Nt(Mt)),[j.Pow]:_t(St(2,2),Nt(Mt)),[j.Abs]:_t(St(1,1),Nt(Mt)),[j.Floor]:_t(St(1,1),Nt(Mt)),[j.Ceil]:_t(St(1,1),Nt(Mt)),[j.Round]:_t(St(1,1),Nt(Mt)),[j.Sin]:_t(St(1,1),Nt(Mt)),[j.Cos]:_t(St(1,1),Nt(Mt)),[j.Atan]:_t(St(1,2),Nt(Mt)),[j.Sqrt]:_t(St(1,1),Nt(Mt)),[j.Match]:_t(St(4,1/0),tp,JC),[j.Between]:_t(St(3,3),Nt(Mt)),[j.Interpolate]:_t(St(6,1/0),tp,$C),[j.Case]:_t(St(3,1/0),QC,tT),[j.In]:_t(St(2,2),eT),[j.Number]:_t(St(1,1/0),Nt(wu)),[j.String]:_t(St(1,1/0),Nt(wu)),[j.Array]:_t(St(1,1/0),Nt(Mt)),[j.Color]:_t(St(1,4),Nt(Mt)),[j.Band]:_t(St(1,3),Nt(Mt)),[j.Palette]:_t(St(2,2),nT),[j.ToString]:_t(St(1,1),Nt(Fe|Mt|Ve|Gn))};function J0(a,t,n){const s=a.length-1,r=new Array(s);for(let o=0;o<s;++o){const c=a[o+1];switch(typeof c){case"number":{r[o]=new he(Mt,c);break}case"string":{r[o]=new he(Ve,c);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${c}`)}o===0&&n.properties.add(String(c))}return r}function qC(a,t,n){const s=a[1];if(typeof s!="string")throw new Error("expected a string argument for var operation");return n.variables.add(s),[new he(Ve,s)]}function VC(a,t,n){n.featureId=!0}function WC(a,t,n){n.geometryType=!0}function $f(a,t,n){n.mapState=!0}function ta(a,t,n){const s=a[0];if(a.length!==1)throw new Error(`expected no arguments for ${s} operation`);return[]}function St(a,t){return function(n,s,r){const o=n[0],c=n.length-1;if(a===t){if(c!==a){const h=a===1?"":"s";throw new Error(`expected ${a} argument${h} for ${o}, got ${c}`)}}else if(c<a||c>t){const h=t===1/0?`${a} or more`:`${a} to ${t}`;throw new Error(`expected ${h} arguments for ${o}, got ${c}`)}}}function $0(a,t,n){const s=a.length-1,r=new Array(s);for(let o=0;o<s;++o){const c=Ae(a[o+1],t,n);r[o]=c}return r}function Nt(a){return function(t,n,s){const r=t.length-1,o=new Array(r);for(let c=0;c<r;++c){const h=Ae(t[c+1],a,s);o[c]=h}return o}}function QC(a,t,n){const s=a[0],r=a.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${s}, got ${r} instead`)}function tp(a,t,n){const s=a[0],r=a.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${s}, got ${r} instead`)}function JC(a,t,n){const s=a.length-1,r=Ve|Mt|Fe,o=Ae(a[1],r,n),c=Ae(a[a.length-1],t,n),h=new Array(s-2);for(let d=0;d<s-2;d+=2){try{const _=Ae(a[d+2],o.type,n);h[d]=_}catch(_){throw new Error(`failed to parse argument ${d+1} of match expression: ${_.message}`)}try{const _=Ae(a[d+3],c.type,n);h[d+1]=_}catch(_){throw new Error(`failed to parse argument ${d+2} of match expression: ${_.message}`)}}return[o,...h,c]}function $C(a,t,n){const s=a[1];let r;switch(s[0]){case"linear":r=1;break;case"exponential":const d=s[1];if(typeof d!="number"||d<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(d)} instead`);r=d;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(s)}`)}const o=new he(Mt,r);let c;try{c=Ae(a[2],Mt,n)}catch(d){throw new Error(`failed to parse argument 1 in interpolate expression: ${d.message}`)}const h=new Array(a.length-3);for(let d=0;d<h.length;d+=2){try{const _=Ae(a[d+3],Mt,n);h[d]=_}catch(_){throw new Error(`failed to parse argument ${d+2} for interpolate expression: ${_.message}`)}try{const _=Ae(a[d+4],t,n);h[d+1]=_}catch(_){throw new Error(`failed to parse argument ${d+3} for interpolate expression: ${_.message}`)}}return[o,c,...h]}function tT(a,t,n){const s=Ae(a[a.length-1],t,n),r=new Array(a.length-1);for(let o=0;o<r.length-1;o+=2){try{const c=Ae(a[o+1],Fe,n);r[o]=c}catch(c){throw new Error(`failed to parse argument ${o} of case expression: ${c.message}`)}try{const c=Ae(a[o+2],s.type,n);r[o+1]=c}catch(c){throw new Error(`failed to parse argument ${o+1} of case expression: ${c.message}`)}}return r[r.length-1]=s,r}function eT(a,t,n){let s=a[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],r=Ve}else r=Mt;const o=new Array(s.length);for(let h=0;h<o.length;h++)try{const d=Ae(s[h],r,n);o[h]=d}catch(d){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${d.message}`)}return[Ae(a[1],r,n),...o]}function nT(a,t,n){let s;try{s=Ae(a[1],Mt,n)}catch(c){throw new Error(`failed to parse first argument in palette expression: ${c.message}`)}const r=a[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const o=new Array(r.length);for(let c=0;c<o.length;c++){let h;try{h=Ae(r[c],Gn,n)}catch(d){throw new Error(`failed to parse color at index ${c} in palette expression: ${d.message}`)}if(!(h instanceof he))throw new Error(`the palette color at index ${c} must be a literal value`);o[c]=h}return[s,...o]}function _t(...a){return function(t,n,s){const r=t[0];let o;for(let c=0;c<a.length;c++){const h=a[c](t,n,s);if(c==a.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");o=h}}return new KC(n,r,...o)}}function iT(a,t,n){const s=a[0],r=kC[s];if(!r)throw new Error(`unknown operator: ${s}`);return r(a,t,n)}function SE(a){if(!a)return"";const t=a.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return SE(a.getGeometries()[0]);default:return""}}function xE(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Li(a,t,n){const s=Ae(a,t,n);return Un(s)}function Un(a,t){if(a instanceof he){if(a.type===Gn&&typeof a.value=="string"){const s=cg(a.value);return function(){return s}}return function(){return a.value}}const n=a.operator;switch(n){case j.Number:case j.String:case j.Coalesce:return sT(a);case j.Get:case j.Var:case j.Has:return lT(a);case j.Id:return s=>s.featureId;case j.GeometryType:return s=>s.geometryType;case j.Concat:{const s=a.args.map(r=>Un(r));return r=>"".concat(...s.map(o=>o(r).toString()))}case j.Resolution:return s=>s.resolution;case j.Any:case j.All:case j.Between:case j.In:case j.Not:return rT(a);case j.Equal:case j.NotEqual:case j.LessThan:case j.LessThanOrEqualTo:case j.GreaterThan:case j.GreaterThanOrEqualTo:return aT(a);case j.Multiply:case j.Divide:case j.Add:case j.Subtract:case j.Clamp:case j.Mod:case j.Pow:case j.Abs:case j.Floor:case j.Ceil:case j.Round:case j.Sin:case j.Cos:case j.Atan:case j.Sqrt:return oT(a);case j.Case:return uT(a);case j.Match:return cT(a);case j.Interpolate:return hT(a);case j.ToString:return fT(a);default:throw new Error(`Unsupported operator ${n}`)}}function sT(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=Un(a.args[o]);switch(n){case j.Coalesce:return o=>{for(let c=0;c<s;++c){const h=r[c](o);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case j.Number:case j.String:return o=>{for(let c=0;c<s;++c){const h=r[c](o);if(typeof h===n)return h}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function lT(a,t){const s=a.args[0].value;switch(a.operator){case j.Get:return r=>{const o=a.args;let c=r.properties[s];for(let h=1,d=o.length;h<d;++h){const m=o[h].value;c=c[m]}return c};case j.Var:return r=>r.variables[s];case j.Has:return r=>{const o=a.args;if(!(s in r.properties))return!1;let c=r.properties[s];for(let h=1,d=o.length;h<d;++h){const m=o[h].value;if(!c||!Object.hasOwn(c,m))return!1;c=c[m]}return!0};default:throw new Error(`Unsupported accessor operator ${a.operator}`)}}function aT(a,t){const n=a.operator,s=Un(a.args[0]),r=Un(a.args[1]);switch(n){case j.Equal:return o=>s(o)===r(o);case j.NotEqual:return o=>s(o)!==r(o);case j.LessThan:return o=>s(o)<r(o);case j.LessThanOrEqualTo:return o=>s(o)<=r(o);case j.GreaterThan:return o=>s(o)>r(o);case j.GreaterThanOrEqualTo:return o=>s(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${n}`)}}function rT(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=Un(a.args[o]);switch(n){case j.Any:return o=>{for(let c=0;c<s;++c)if(r[c](o))return!0;return!1};case j.All:return o=>{for(let c=0;c<s;++c)if(!r[c](o))return!1;return!0};case j.Between:return o=>{const c=r[0](o),h=r[1](o),d=r[2](o);return c>=h&&c<=d};case j.In:return o=>{const c=r[0](o);for(let h=1;h<s;++h)if(c===r[h](o))return!0;return!1};case j.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${n}`)}}function oT(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=Un(a.args[o]);switch(n){case j.Multiply:return o=>{let c=1;for(let h=0;h<s;++h)c*=r[h](o);return c};case j.Divide:return o=>r[0](o)/r[1](o);case j.Add:return o=>{let c=0;for(let h=0;h<s;++h)c+=r[h](o);return c};case j.Subtract:return o=>r[0](o)-r[1](o);case j.Clamp:return o=>{const c=r[0](o),h=r[1](o);if(c<h)return h;const d=r[2](o);return c>d?d:c};case j.Mod:return o=>r[0](o)%r[1](o);case j.Pow:return o=>Math.pow(r[0](o),r[1](o));case j.Abs:return o=>Math.abs(r[0](o));case j.Floor:return o=>Math.floor(r[0](o));case j.Ceil:return o=>Math.ceil(r[0](o));case j.Round:return o=>Math.round(r[0](o));case j.Sin:return o=>Math.sin(r[0](o));case j.Cos:return o=>Math.cos(r[0](o));case j.Atan:return s===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case j.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${n}`)}}function uT(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Un(a.args[r]);return r=>{for(let o=0;o<n-1;o+=2)if(s[o](r))return s[o+1](r);return s[n-1](r)}}function cT(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Un(a.args[r]);return r=>{const o=s[0](r);for(let c=1;c<n-1;c+=2)if(o===s[c](r))return s[c+1](r);return s[n-1](r)}}function hT(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Un(a.args[r]);return r=>{const o=s[0](r),c=s[1](r);let h,d;for(let _=2;_<n;_+=2){const m=s[_](r);let y=s[_+1](r);const E=Array.isArray(y);if(E&&(y=BC(y)),m>=c)return _===2?y:E?dT(o,c,h,d,m,y):Lr(o,c,h,d,m,y);h=m,d=y}return d}}function fT(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=Un(a.args[o]);if(n===j.ToString)return o=>{const c=r[0](o);return a.args[0].type===Gn?hg(c):c.toString()};throw new Error(`Unsupported convert operator ${n}`)}function Lr(a,t,n,s,r,o){const c=r-n;if(c===0)return s;const h=t-n,d=a===1?h/c:(Math.pow(a,h)-1)/(Math.pow(a,c)-1);return s+d*(o-s)}function dT(a,t,n,s,r,o){if(r-n===0)return s;const h=W0(s),d=W0(o);let _=d[2]-h[2];_>180?_-=360:_<-180&&(_+=360);const m=[Lr(a,t,n,h[0],r,d[0]),Lr(a,t,n,h[1],r,d[1]),h[2]+Lr(a,t,n,0,r,_),Lr(a,t,n,s[3],r,o[3])];return jC(m)}const xt={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function gT(a,t,n){const s=a;let r=!0,o=!1,c=!1;const h=[Iu(s,Et.LOAD,function(){c=!0,o||t()})];return s.src&&Lp?(o=!0,s.decode().then(function(){r&&t()}).catch(function(d){r&&(c?t():n())})):h.push(Iu(s,Et.ERROR,n)),function(){r=!1,h.forEach(Kt)}}function _T(a,t){return new Promise((n,s)=>{function r(){c(),n(a)}function o(){c(),s(new Error("Image load error"))}function c(){a.removeEventListener("load",r),a.removeEventListener("error",o)}a.addEventListener("load",r),a.addEventListener("error",o)})}function mT(a,t){return t&&(a.src=t),a.src&&Lp?new Promise((n,s)=>a.decode().then(()=>n(a)).catch(r=>a.complete&&a.width?n(a):s(r))):_T(a)}class yT{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const s=this.cache_[n];(t++&3)===0&&!s.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,s){const r=td(t,n,s);return r in this.cache_?this.cache_[r]:null}getPattern(t,n,s){const r=td(t,n,s);return r in this.patternCache_?this.patternCache_[r]:null}set(t,n,s,r,o){const c=td(t,n,s),h=c in this.cache_;this.cache_[c]=r,o&&(r.getImageState()===xt.IDLE&&r.load(),r.getImageState()===xt.LOADING?r.ready().then(()=>{this.patternCache_[c]=Xu().createPattern(r.getImage(1),"repeat")}):this.patternCache_[c]=Xu().createPattern(r.getImage(1),"repeat")),h||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function td(a,t,n){const s=n?pa(n):"null";return t+":"+a+":"+s}const bn=new yT;let Tr=null;class CE extends $u{constructor(t,n,s,r,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s,this.canvas_={},this.color_=o,this.imageState_=r===void 0?xt.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===xt.LOADED){Tr||(Tr=fe(1,1,void 0,{willReadFrequently:!0})),Tr.drawImage(this.image_,0,0);try{Tr.getImageData(0,0,1,1),this.tainted_=!1}catch{Tr=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Et.CHANGE)}handleImageError_(){this.imageState_=xt.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=xt.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],s=fe(t,n);s.fillRect(0,0,t,n),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===xt.IDLE){this.image_||this.initializeImage_(),this.imageState_=xt.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&mT(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==xt.LOADED)return;const n=this.image_,s=fe(Math.ceil(n.width*t),Math.ceil(n.height*t)),r=s.canvas;s.scale(t,t),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=YC(this.color_),s.fillRect(0,0,r.width/t,r.height/t),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===xt.LOADED||this.imageState_===xt.ERROR)t();else{const n=()=>{(this.imageState_===xt.LOADED||this.imageState_===xt.ERROR)&&(this.removeEventListener(Et.CHANGE,n),t())};this.addEventListener(Et.CHANGE,n)}})),this.ready_}}function Bu(a,t,n,s,r,o){let c=t===void 0?void 0:bn.get(t,n,r);return c||(c=new CE(a,a&&"src"in a?a.src||void 0:t,n,s,r),bn.set(t,n,r,c,o)),o&&c&&!bn.getPattern(t,n,r)&&bn.set(t,n,r,c,o),c}function Qn(a){return a?Array.isArray(a)?hg(a):typeof a=="object"&&"src"in a?pT(a):a:null}function pT(a){if(!a.offset||!a.size)return bn.getPattern(a.src,"anonymous",a.color);const t=a.src+":"+a.offset,n=bn.getPattern(t,void 0,a.color);if(n)return n;const s=bn.get(a.src,"anonymous",null);if(s.getImageState()!==xt.LOADED)return null;const r=fe(a.size[0],a.size[1]);return r.drawImage(s.getImage(1),a.offset[0],a.offset[1],a.size[0],a.size[1],0,0,a.size[0],a.size[1]),Bu(r.canvas,t,void 0,xt.LOADED,a.color,!0),bn.getPattern(t,void 0,a.color)}const TE="10px sans-serif",We="#000",Ea="round",Ai=[],Mi=0,va="round",Hr=10,Pr="#000",Zr="center",ju="middle",el=[0,0,0,0],Kr=1,aa=new Yn;let Rr=null,ep;const Td={},ET=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function vT(a,t,n){return`${a} ${t} 16px "${n}"`}const ST=(function(){let t,n;async function s(o){await n.ready;const c=await n.load(o);if(c.length===0)return!1;const h=xd(o),d=h.families[0].toLowerCase(),_=h.weight;return c.some(m=>{const y=m.family.replace(/^['"]|['"]$/g,"").toLowerCase(),E=Sd[m.weight]||m.weight;return y===d&&m.style===h.style&&E==_})}async function r(){await n.ready;let o=!0;const c=aa.getProperties(),h=Object.keys(c).filter(d=>c[d]<100);for(let d=h.length-1;d>=0;--d){const _=h[d];let m=c[_];m<100&&(await s(_)?(Vr(Td),aa.set(_,100)):(m+=10,aa.set(_,m,!0),m<100&&(o=!1)))}t=void 0,o||(t=setTimeout(r,100))}return async function(o){n||(n=Tn?self.fonts:document.fonts);const c=xd(o);if(!c)return;const h=c.families;let d=!1;for(const _ of h){if(ET.has(_))continue;const m=vT(c.style,c.weight,_);aa.get(m)===void 0&&(aa.set(m,0,!0),d=!0)}d&&(clearTimeout(t),t=setTimeout(r,100))}})(),xT=(function(){let a;return function(t){let n=Td[t];if(n==null){if(Tn){const s=xd(t),r=RE(t,"g");n=(isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else a||(a=document.createElement("div"),a.innerHTML="M",a.style.minHeight="0",a.style.maxHeight="none",a.style.height="auto",a.style.padding="0",a.style.border="none",a.style.position="absolute",a.style.display="block",a.style.left="-99999px"),a.style.font=t,document.body.appendChild(a),n=a.offsetHeight,document.body.removeChild(a);Td[t]=n}return n}})();function RE(a,t){return Rr||(Rr=fe(1,1)),a!=ep&&(Rr.font=a,ep=Rr.font),Rr.measureText(t)}function bE(a,t){return RE(a,t).width}function np(a,t,n){if(t in n)return n[t];const s=t.split(`
`).reduce((r,o)=>Math.max(r,bE(a,o)),0);return n[t]=s,s}function CT(a,t){const n=[],s=[],r=[];let o=0,c=0,h=0,d=0;for(let _=0,m=t.length;_<=m;_+=2){const y=t[_];if(y===`
`||_===m){o=Math.max(o,c),r.push(c),c=0,h+=d,d=0;continue}const E=t[_+1]||a.font,S=bE(E,y);n.push(S),c+=S;const x=xT(E);s.push(x),d=Math.max(d,x)}return{width:o,height:h,widths:n,heights:s,lineWidths:r}}function TT(a,t,n,s,r,o,c,h,d,_,m){a.save(),n!==1&&(a.globalAlpha===void 0?a.globalAlpha=y=>y.globalAlpha*=n:a.globalAlpha*=n),t&&a.transform.apply(a,t),s.contextInstructions?(a.translate(d,_),a.scale(m[0],m[1]),RT(s,a)):m[0]<0||m[1]<0?(a.translate(d,_),a.scale(m[0],m[1]),a.drawImage(s,r,o,c,h,0,0,c,h)):a.drawImage(s,r,o,c,h,d,_,c*m[0],h*m[1]),a.restore()}function RT(a,t){const n=a.contextInstructions;for(let s=0,r=n.length;s<r;s+=2)Array.isArray(n[s+1])?t[n[s]].apply(t,n[s+1]):t[n[s]]=n[s+1]}class dc{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=$e(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new dc({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return mt()}getImage(t){return mt()}getHitDetectionImage(){return mt()}getPixelRatio(t){return 1}getImageState(){return mt()}getImageSize(){return mt()}getOrigin(){return mt()}getSize(){return mt()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=$e(t)}listenImageChange(t){mt()}load(){mt()}unlistenImageChange(t){mt()}ready(){return Promise.resolve()}}class gc extends dc{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?xt.LOADING:xt.LOADED,this.imageState_===xt.LOADING&&this.ready().then(()=>this.imageState_=xt.LOADED),this.render()}clone(){const t=this.getScale(),n=new gc({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_,n=this.getDisplacement(),s=this.getScaleArray();return[t[0]/2-n[0]/s[0],t[1]/2+n[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){const n=this.fill_?.getKey(),s=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let r=bn.get(s,null,null)?.getImage(1);if(!r){const o=this.renderOptions_,c=Math.ceil(o.size*t),h=fe(c,c);this.draw_(o,h,t),r=h.canvas,bn.set(s,null,null,new CE(r,void 0,null,xt.LOADED,null))}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,s){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){const K=r;r=o,o=K}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,d=o*Math.sin(h),_=Math.sqrt(o*o-d*d),m=r-_,y=Math.sqrt(d*d+m*m),E=y/d;if(t==="miter"&&E<=s)return E*n;const S=n/2/E,x=n/2*(m/y),C=Math.sqrt((r+S)*(r+S)+x*x)-r;if(this.radius2_===void 0||t==="bevel")return C*2;const w=r*Math.sin(h),z=Math.sqrt(r*r-w*w),U=o-z,G=Math.sqrt(w*w+U*U)/w;if(G<=s){const K=G*n/2-o-r;return 2*Math.max(C,K)}return C*2}createRenderOptions(){let t=Ea,n=va,s=0,r=null,o=0,c,h=0;this.stroke_&&(c=Qn(this.stroke_.getColor()??Pr),h=this.stroke_.getWidth()??Kr,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??va,t=this.stroke_.getLineCap()??Ea,s=this.stroke_.getMiterLimit()??Hr);const d=this.calculateLineJoinSize_(n,h,s),_=Math.max(this.radius,this.radius2_||0),m=Math.ceil(2*_+d);return{strokeStyle:c,strokeWidth:h,size:m,lineCap:t,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,s){if(n.scale(s,s),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=We),n.fillStyle=Qn(r),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let s=this.fill_.getColor(),r=0;typeof s=="string"&&(s=pa(s)),s===null?r=1:Array.isArray(s)&&(r=s.length===4?s[3]:1),r===0&&(n=fe(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_;const s=this.radius;if(n===1/0)t.arc(0,0,s,0,2*Math.PI);else{const r=this.radius2_===void 0?s:this.radius2_;this.radius2_!==void 0&&(n*=2);const o=this.angle_-Math.PI/2,c=2*Math.PI/n;for(let h=0;h<n;h++){const d=o+h*c,_=h%2===0?s:r;t.lineTo(_*Math.cos(d),_*Math.sin(d))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=We,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class no extends gc{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new no({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius=t,this.render()}}class Ts{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new Ts({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const n=Bu(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===xt.IDLE&&n.load(),n.getImageState()===xt.LOADING&&(this.patternImage_=n)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?zt(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:pa(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function ip(a,t,n,s){return n!==void 0&&s!==void 0?[n/a,s/t]:n!==void 0?n/a:s!==void 0?s/t:1}class _c extends dc{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,s=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,o=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:s,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const c=t.img!==void 0?t.img:null;let h=t.src;Gt(!(h!==void 0&&c),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&c&&(h=c.src||zt(c)),Gt(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),Gt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let d;if(t.src!==void 0?d=xt.IDLE:c!==void 0&&("complete"in c?c.complete?d=c.src?xt.LOADED:xt.IDLE:d=xt.LOADING:d=xt.LOADED),this.color_=t.color!==void 0?pa(t.color):null,this.iconImage_=Bu(c,h,this.crossOrigin_,d,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let _,m;if(t.size)[_,m]=t.size;else{const y=this.getImage(1);if(y.width&&y.height)_=y.width,m=y.height;else if(y instanceof HTMLImageElement){this.initialOptions_=t;const E=()=>{if(this.unlistenImageChange(E),!this.initialOptions_)return;const S=this.iconImage_.getSize();this.setScale(ip(S[0],S[1],t.width,t.height))};this.listenImageChange(E);return}}_!==void 0&&this.setScale(ip(_,m,t.width,t.height))}}clone(){let t,n,s;return this.initialOptions_?(n=this.initialOptions_.width,s=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new _c({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:s,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),s=this.getScaleArray();return[t[0]-n[0]/s[0],t[1]+n[1]/s[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),s=this.iconImage_.getSize();if(!n||!s)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=s[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=s[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}setSrc(t){this.iconImage_=Bu(null,t,this.crossOrigin_,xt.IDLE,this.color_)}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==xt.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==xt.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(Et.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(Et.CHANGE,t)}ready(){return this.iconImage_.ready()}}class Sa{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new Sa({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}class wi{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=sp,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new wi({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=sp,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function bT(a){let t;if(typeof a=="function")t=a;else{let n;Array.isArray(a)?n=a:(Gt(typeof a.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[a]),t=function(){return n}}return t}let ed=null;function AE(a,t){if(!ed){const n=new Ts({color:"rgba(255,255,255,0.4)"}),s=new Sa({color:"#3399CC",width:1.25});ed=[new wi({image:new no({fill:n,stroke:s,radius:5}),fill:n,stroke:s})]}return ed}function sp(a){return a.getGeometry()}const AT="#333";class dg{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=$e(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Ts({color:AT}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new dg({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()instanceof Ts?this.getFill().clone():this.getFill(),stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=$e(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}function MT(a){return!0}function wT(a){const t=vE(),n=OT(a,t),s=xE();return function(r,o){if(s.properties=r.getPropertiesInternal(),s.resolution=o,t.featureId){const c=r.getId();c!==void 0?s.featureId=c:s.featureId=null}return t.geometryType&&(s.geometryType=SE(r.getGeometry())),n(s)}}function lp(a){const t=vE(),n=a.length,s=new Array(n);for(let c=0;c<n;++c)s[c]=Rd(a[c],t);const r=xE(),o=new Array(n);return function(c,h){if(r.properties=c.getPropertiesInternal(),r.resolution=h,t.featureId){const _=c.getId();_!==void 0?r.featureId=_:r.featureId=null}let d=0;for(let _=0;_<n;++_){const m=s[_](r);m&&(o[d]=m,d+=1)}return o.length=d,o}}function OT(a,t){const n=a.length,s=new Array(n);for(let r=0;r<n;++r){const o=a[r],c="filter"in o?Li(o.filter,Fe,t):MT;let h;if(Array.isArray(o.style)){const d=o.style.length;h=new Array(d);for(let _=0;_<d;++_)h[_]=Rd(o.style[_],t)}else h=[Rd(o.style,t)];s[r]={filter:c,styles:h}}return function(r){const o=[];let c=!1;for(let h=0;h<n;++h){const d=s[h].filter;if(d(r)&&!(a[h].else&&c)){c=!0;for(const _ of s[h].styles){const m=_(r);m&&o.push(m)}}}return o}}function Rd(a,t){const n=kr(a,"",t),s=qr(a,"",t),r=DT(a,t),o=LT(a,t),c=Je(a,"z-index",t);if(!n&&!s&&!r&&!o&&!ll(a))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(a));const h=new wi;return function(d){let _=!0;if(n){const m=n(d);m&&(_=!1),h.setFill(m)}if(s){const m=s(d);m&&(_=!1),h.setStroke(m)}if(r){const m=r(d);m&&(_=!1),h.setText(m)}if(o){const m=o(d);m&&(_=!1),h.setImage(m)}return c&&h.setZIndex(c(d)),_?null:h}}function kr(a,t,n){let s;if(t+"fill-pattern-src"in a)s=GT(a,t+"fill-",n);else{if(a[t+"fill-color"]==="none")return o=>null;s=gg(a,t+"fill-color",n)}if(!s)return null;const r=new Ts;return function(o){const c=s(o);return c===ug?null:(r.setColor(c),r)}}function qr(a,t,n){const s=Je(a,t+"stroke-width",n),r=gg(a,t+"stroke-color",n);if(!s&&!r)return null;const o=Ri(a,t+"stroke-line-cap",n),c=Ri(a,t+"stroke-line-join",n),h=ME(a,t+"stroke-line-dash",n),d=Je(a,t+"stroke-line-dash-offset",n),_=Je(a,t+"stroke-miter-limit",n),m=new Sa;return function(y){if(r){const E=r(y);if(E===ug)return null;m.setColor(E)}if(s&&m.setWidth(s(y)),o){const E=o(y);if(E!=="butt"&&E!=="round"&&E!=="square")throw new Error("Expected butt, round, or square line cap");m.setLineCap(E)}if(c){const E=c(y);if(E!=="bevel"&&E!=="round"&&E!=="miter")throw new Error("Expected bevel, round, or miter line join");m.setLineJoin(E)}return h&&m.setLineDash(h(y)),d&&m.setLineDashOffset(d(y)),_&&m.setMiterLimit(_(y)),m}}function DT(a,t){const n="text-",s=Ri(a,n+"value",t);if(!s)return null;const r=kr(a,n,t),o=kr(a,n+"background-",t),c=qr(a,n,t),h=qr(a,n+"background-",t),d=Ri(a,n+"font",t),_=Je(a,n+"max-angle",t),m=Je(a,n+"offset-x",t),y=Je(a,n+"offset-y",t),E=fa(a,n+"overflow",t),S=Ri(a,n+"placement",t),x=Je(a,n+"repeat",t),R=mc(a,n+"scale",t),C=fa(a,n+"rotate-with-view",t),w=Je(a,n+"rotation",t),z=Ri(a,n+"align",t),U=Ri(a,n+"justify",t),D=Ri(a,n+"baseline",t),G=fa(a,n+"keep-upright",t),K=ME(a,n+"padding",t),B=yc(a,n+"declutter-mode"),k=new dg({declutterMode:B});return function(V){if(k.setText(s(V)),r&&k.setFill(r(V)),o&&k.setBackgroundFill(o(V)),c&&k.setStroke(c(V)),h&&k.setBackgroundStroke(h(V)),d&&k.setFont(d(V)),_&&k.setMaxAngle(_(V)),m&&k.setOffsetX(m(V)),y&&k.setOffsetY(y(V)),E&&k.setOverflow(E(V)),S){const J=S(V);if(J!=="point"&&J!=="line")throw new Error("Expected point or line for text-placement");k.setPlacement(J)}if(x&&k.setRepeat(x(V)),R&&k.setScale(R(V)),C&&k.setRotateWithView(C(V)),w&&k.setRotation(w(V)),z){const J=z(V);if(J!=="left"&&J!=="center"&&J!=="right"&&J!=="end"&&J!=="start")throw new Error("Expected left, right, center, start, or end for text-align");k.setTextAlign(J)}if(U){const J=U(V);if(J!=="left"&&J!=="right"&&J!=="center")throw new Error("Expected left, right, or center for text-justify");k.setJustify(J)}if(D){const J=D(V);if(J!=="bottom"&&J!=="top"&&J!=="middle"&&J!=="alphabetic"&&J!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");k.setTextBaseline(J)}return K&&k.setPadding(K(V)),G&&k.setKeepUpright(G(V)),k}}function LT(a,t){return"icon-src"in a?zT(a,t):"shape-points"in a?IT(a,t):"circle-radius"in a?NT(a,t):null}function zT(a,t){const n="icon-",s=n+"src",r=wE(a[s],s),o=Hu(a,n+"anchor",t),c=mc(a,n+"scale",t),h=Je(a,n+"opacity",t),d=Hu(a,n+"displacement",t),_=Je(a,n+"rotation",t),m=fa(a,n+"rotate-with-view",t),y=rp(a,n+"anchor-origin"),E=op(a,n+"anchor-x-units"),S=op(a,n+"anchor-y-units"),x=XT(a,n+"color"),R=UT(a,n+"cross-origin"),C=YT(a,n+"offset"),w=rp(a,n+"offset-origin"),z=Pu(a,n+"width"),U=Pu(a,n+"height"),D=FT(a,n+"size"),G=yc(a,n+"declutter-mode"),K=new _c({src:r,anchorOrigin:y,anchorXUnits:E,anchorYUnits:S,color:x,crossOrigin:R,offset:C,offsetOrigin:w,height:U,width:z,size:D,declutterMode:G});return function(B){return h&&K.setOpacity(h(B)),d&&K.setDisplacement(d(B)),_&&K.setRotation(_(B)),m&&K.setRotateWithView(m(B)),c&&K.setScale(c(B)),o&&K.setAnchor(o(B)),K}}function IT(a,t){const n="shape-",s=n+"points",r=n+"radius",o=bd(a[s],s),c=bd(a[r],r),h=kr(a,n,t),d=qr(a,n,t),_=mc(a,n+"scale",t),m=Hu(a,n+"displacement",t),y=Je(a,n+"rotation",t),E=fa(a,n+"rotate-with-view",t),S=Pu(a,n+"radius2"),x=Pu(a,n+"angle"),R=yc(a,n+"declutter-mode"),C=new gc({points:o,radius:c,radius2:S,angle:x,declutterMode:R});return function(w){return h&&C.setFill(h(w)),d&&C.setStroke(d(w)),m&&C.setDisplacement(m(w)),y&&C.setRotation(y(w)),E&&C.setRotateWithView(E(w)),_&&C.setScale(_(w)),C}}function NT(a,t){const n="circle-",s=kr(a,n,t),r=qr(a,n,t),o=Je(a,n+"radius",t),c=mc(a,n+"scale",t),h=Hu(a,n+"displacement",t),d=Je(a,n+"rotation",t),_=fa(a,n+"rotate-with-view",t),m=yc(a,n+"declutter-mode"),y=new no({radius:5,declutterMode:m});return function(E){return o&&y.setRadius(o(E)),s&&y.setFill(s(E)),r&&y.setStroke(r(E)),h&&y.setDisplacement(h(E)),d&&y.setRotation(d(E)),_&&y.setRotateWithView(_(E)),c&&y.setScale(c(E)),y}}function Je(a,t,n){if(!(t in a))return;const s=Li(a[t],Mt,n);return function(r){return bd(s(r),t)}}function Ri(a,t,n){if(!(t in a))return null;const s=Li(a[t],Ve,n);return function(r){return wE(s(r),t)}}function GT(a,t,n){const s=Ri(a,t+"pattern-src",n),r=ap(a,t+"pattern-offset",n),o=ap(a,t+"pattern-size",n),c=gg(a,t+"color",n);return function(h){return{src:s(h),offset:r&&r(h),size:o&&o(h),color:c&&c(h)}}}function fa(a,t,n){if(!(t in a))return null;const s=Li(a[t],Fe,n);return function(r){const o=s(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${t}`);return o}}function gg(a,t,n){if(!(t in a))return null;const s=Li(a[t],Gn,n);return function(r){return OE(s(r),t)}}function ME(a,t,n){if(!(t in a))return null;const s=Li(a[t],rl,n);return function(r){return io(s(r),t)}}function Hu(a,t,n){if(!(t in a))return null;const s=Li(a[t],rl,n);return function(r){const o=io(s(r),t);if(o.length!==2)throw new Error(`Expected two numbers for ${t}`);return o}}function ap(a,t,n){if(!(t in a))return null;const s=Li(a[t],rl,n);return function(r){return DE(s(r),t)}}function mc(a,t,n){if(!(t in a))return null;const s=Li(a[t],rl|Mt,n);return function(r){return BT(s(r),t)}}function Pu(a,t){const n=a[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function FT(a,t){const n=a[t];if(n!==void 0){if(typeof n=="number")return $e(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function UT(a,t){const n=a[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function rp(a,t){const n=a[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function op(a,t){const n=a[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function YT(a,t){const n=a[t];if(n!==void 0)return io(n,t)}function yc(a,t){const n=a[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function XT(a,t){const n=a[t];if(n!==void 0)return OE(n,t)}function io(a,t){if(!Array.isArray(a))throw new Error(`Expected an array for ${t}`);const n=a.length;for(let s=0;s<n;++s)if(typeof a[s]!="number")throw new Error(`Expected an array of numbers for ${t}`);return a}function wE(a,t){if(typeof a!="string")throw new Error(`Expected a string for ${t}`);return a}function bd(a,t){if(typeof a!="number")throw new Error(`Expected a number for ${t}`);return a}function OE(a,t){if(typeof a=="string")return a;const n=io(a,t),s=n.length;if(s<3||s>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function DE(a,t){const n=io(a,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function BT(a,t){return typeof a=="number"?a:DE(a,t)}const up={RENDER_ORDER:"renderOrder"};class LE extends fc{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(up.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){const s=this.getDeclutter();s in t.declutter||(t.declutter[s]=new pE(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(up.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?AE:t;const n=jT(t);this.styleFunction_=t===null?void 0:bT(n),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function jT(a){if(a===void 0)return AE;if(!a)return null;if(typeof a=="function"||a instanceof wi)return a;if(!Array.isArray(a))return lp([a]);if(a.length===0)return[];const t=a.length,n=a[0];if(n instanceof wi){const r=new Array(t);for(let o=0;o<t;++o){const c=a[o];if(!(c instanceof wi))throw new Error("Expected a list of style instances");r[o]=c}return r}if("style"in n){const r=new Array(t);for(let o=0;o<t;++o){const c=a[o];if(!("style"in c))throw new Error("Expected a list of rules with a style property");r[o]=c}return wT(r)}return lp(a)}class zE extends Di{constructor(t,n,s,r){super(t),this.inversePixelTransform=n,this.frameState=s,this.context=r}}class HT extends Qu{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){mt()}calculateMatrices2D(t){const n=t.viewState,s=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Oi(s,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Jp(r,s)}forEachFeatureAtCoordinate(t,n,s,r,o,c,h,d){let _;const m=n.viewState;function y(D,G,K,B){return o.call(c,G,D?K:null,B)}const E=m.projection,S=jp(t.slice(),E),x=[[0,0]];if(E.canWrapX()&&r){const D=E.getExtent(),G=Xt(D);x.push([-G,0],[G,0])}const R=n.layerStatesArray,C=R.length,w=[],z=[];for(let D=0;D<x.length;D++)for(let G=C-1;G>=0;--G){const K=R[G],B=K.layer;if(B.hasRenderer()&&og(K,m)&&h.call(d,B)){const k=B.getRenderer(),V=B.getSource();if(k&&V){const J=V.getWrapX()?S:t,rt=y.bind(null,K.managed);z[0]=J[0]+x[D][0],z[1]=J[1]+x[D][1],_=k.forEachFeatureAtCoordinate(z,n,s,rt,w)}if(_)return _}}if(w.length===0)return;const U=1/w.length;return w.forEach((D,G)=>D.distanceSq+=G*U),w.sort((D,G)=>D.distanceSq-G.distanceSq),w.some(D=>_=D.callback(D.feature,D.layer,D.geometry)),_}hasFeatureAtCoordinate(t,n,s,r,o,c){return this.forEachFeatureAtCoordinate(t,n,s,r,Gr,this,o,c)!==void 0}getMap(){return this.map_}renderFrame(t){mt()}scheduleExpireIconCache(t){bn.canExpireCache()&&t.postRenderFunctions.push(PT)}}function PT(a,t){bn.expire()}class ZT extends HT{constructor(t){super(t),this.fontChangeListenerKey_=wt(aa,ga.PROPERTYCHANGE,t.redrawText,t),this.element_=Tn?hE():document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=cc+" ol-layers";const s=t.getViewport();s&&s.insertBefore(this.element_,s.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){const s=this.getMap();if(s.hasListener(t)){const r=new zE(t,void 0,n);s.dispatchEvent(r)}}disposeInternal(){Kt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Rn.PRECOMPOSE,t);const n=t.layerStatesArray.sort((_,m)=>_.zIndex-m.zIndex);n.some(_=>_.layer instanceof LE&&_.layer.getDeclutter())&&(t.declutter={});const r=t.viewState;this.children_.length=0;const o=[];let c=null;for(let _=0,m=n.length;_<m;++_){const y=n[_];t.layerIndex=_;const E=y.layer,S=E.getSourceState();if(!og(y,r)||S!="ready"&&S!="undefined"){E.unrender();continue}const x=E.render(t,c);x&&(x!==c&&(this.children_.push(x),c=x),o.push(y))}this.declutter(t,o),eC(this.element_,this.children_);const d=this.getMap().getTargetElement();if(ys(d)){const _=d.getContext("2d");for(const m of this.children_){const y=m.firstElementChild||m,E=m.style.backgroundColor;if(E&&(!ys(y)||y.width>0)&&(_.fillStyle=E,_.fillRect(0,0,d.width,d.height)),ys(y)&&y.width>0){const S=m.style.opacity||y.style.opacity;_.globalAlpha=S===""?1:Number(S);const x=y.style.transform;if(x)_.setTransform(...pd(x));else{const R=parseFloat(y.style.width)/y.width,C=parseFloat(y.style.height)/y.height;_.setTransform(R,0,0,C,0,0)}_.drawImage(y,0,0)}}_.globalAlpha=1,_.setTransform(1,0,0,1,0,0)}this.dispatchRenderEvent(Rn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let s=n.length-1;s>=0;--s){const r=n[s],o=r.layer;o.getDeclutter()&&o.renderDeclutter(t,r)}n.forEach(s=>s.layer.renderDeferred(t))}}}function IE(a){if(a instanceof fc){a.setMapInternal(null);return}a instanceof Ta&&a.getLayers().forEach(IE)}function NE(a,t){if(a instanceof fc){a.setMapInternal(t);return}if(a instanceof Ta){const n=a.getLayers().getArray();for(let s=0,r=n.length;s<r;++s)NE(n[s],t)}}let KT=class extends Yn{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=kT(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:MS,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Fn(),this.pixelToCoordinateTransform_=Fn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,Tn||(this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_)),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,Tn||(this.resizeObserver_=new ResizeObserver(()=>this.updateSize())),this.controls=n.controls||(Tn?new Cn:lC()),this.interactions=n.interactions||(Tn?new Cn:AC({onFocusOnly:!0})),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new DS(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Le.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Le.VIEW,this.handleViewChanged_),this.addChangeListener(Le.SIZE,this.handleSizeChanged_),this.addChangeListener(Le.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const s=this;t.view&&!(t.view instanceof Vn)&&t.view.then(function(r){s.setView(new Vn(r))}),this.controls.addEventListener(qe.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(qe.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(qe.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(qe.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(qe.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(qe.REMOVE,r=>{const o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){NE(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_?.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,s){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(t);s=s!==void 0?s:{};const o=s.hitTolerance!==void 0?s.hitTolerance:0,c=s.layerFilter!==void 0?s.layerFilter:Gr,h=s.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,h,n,null,c,null)}getFeaturesAtPixel(t,n){const s=[];return this.forEachFeatureAtPixel(t,function(r){s.push(r)},n),s}getAllLayers(){const t=[];function n(s){s.forEach(function(r){r instanceof Ta?n(r.getLayers()):t.push(r)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const s=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const r=n.layerFilter!==void 0?n.layerFilter:Gr,o=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(s,this.frameState_,o,c,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const s=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=s.width/r[0],c=s.height/r[1],h="changedTouches"in t?t.changedTouches[0]:t;return[(h.clientX-s.left)/o,(h.clientY-s.top)/c]}getTarget(){return this.get(Le.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return yd(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?Ee(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Le.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof Cn){n.setLayers(t);return}const s=n.getLayers();s.clear(),s.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const r=t[n];if(!r.visible)continue;const o=r.layer.getRenderer();if(o&&!o.ready)return!0;const c=r.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(t){const n=Ci(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?Ee(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Le.SIZE)}getView(){return this.get(Le.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,s,r){return LS(this.frameState_,t,n,s,r)}handleBrowserEvent(t,n){n=n||t.type;const s=new fs(n,this,t);this.handleMapBrowserEvent(s)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,s=n.type;if(s===ud.POINTERDOWN||s===Et.WHEEL||s===Et.KEYDOWN){const r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,c=n.target,h=o instanceof ShadowRoot?o.host===c?o.host.ownerDocument:o:o===r?r.documentElement:o;if(this.overlayContainerStopEvent_.contains(c)||!h.contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){const c=r[o];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,o=r;if(t){const c=t.viewHints;if(c[ze.ANIMATING]||c[ze.INTERACTING]){const h=Date.now()-t.time>8;r=h?0:8,o=h?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(Rn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Rn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new sa(Ti.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new sa(Ti.LOADSTART,this,t))));const s=this.postRenderFunctions_;if(t)for(let r=0,o=s.length;r<o;++r)s[r](this,t);s.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let s=0,r=this.targetChangeHandlerKeys_.length;s<r;++s)Kt(this.targetChangeHandlerKeys_[s]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Et.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Et.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_&&!ys(this.targetElement_)){this.resizeObserver_?.unobserve(this.targetElement_);const s=this.targetElement_.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.unobserve(s.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{if(ys(n)||n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new ZT(this)),!ys(n)){this.mapBrowserEventHandler_=new wS(this,this.moveTolerance_);for(const r in te)this.mapBrowserEventHandler_.addEventListener(te[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Et.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Et.WHEEL,this.boundHandleBrowserEvent_,zp?{passive:!1}:!1);let s;if(this.keyboardEventTarget_)s=this.keyboardEventTarget_;else{const r=n.getRootNode();s=r instanceof ShadowRoot?r.host:n}if(this.targetChangeHandlerKeys_=[wt(s,Et.KEYDOWN,this.handleBrowserEvent,this),wt(s,Et.KEYPRESS,this.handleBrowserEvent,this)],n instanceof HTMLElement){const r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_?.observe(n)}}this.updateSize()}}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Kt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Kt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=wt(t,ga.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=wt(t,Et.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Kt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new ds("addlayer",t)),this.layerGroupPropertyListenerKeys_=[wt(t,ga.PROPERTYCHANGE,this.render,this),wt(t,Et.CHANGE,this.render,this),wt(t,"addlayer",this.handleLayerAdd_,this),wt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const t=this.frameState_.layerStatesArray;for(let n=0,s=t.length;n<s;++n){const r=t[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){IE(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),s=this.getView(),r=this.frameState_;let o=null;if(n!==void 0&&Q0(n)&&s&&s.isDef()){const c=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=s.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:dd(h.center,h.resolution,h.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:zt(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const d=isNaN(h.nextRotation)?h.rotation:h.nextRotation;o.nextExtent=dd(h.nextCenter,h.nextResolution,d,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!sc(this.previousExtent_)&&!Ur(o.extent,this.previousExtent_))&&(this.dispatchEvent(new sa(Ti.MOVESTART,this,r)),this.previousExtent_=Qr(this.previousExtent_)),this.previousExtent_&&!o.viewHints[ze.ANIMATING]&&!o.viewHints[ze.INTERACTING]&&!Ur(o.extent,this.previousExtent_)&&(this.dispatchEvent(new sa(Ti.MOVEEND,this,o)),Ip(o.extent,this.previousExtent_))),this.dispatchEvent(new sa(Ti.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(Ti.LOADSTART)||this.hasListener(Ti.LOADEND)||this.hasListener(Rn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new ds("removelayer",n)),this.set(Le.LAYERGROUP,t)}setSize(t){this.set(Le.SIZE,t)}setTarget(t){this.set(Le.TARGET,t)}setView(t){if(!t||t instanceof Vn){this.set(Le.VIEW,t);return}this.set(Le.VIEW,new Vn);const n=this;t.then(function(s){n.setView(new Vn(s))})}updateSize(){const t=this.getTargetElement();let n;if(t){let r,o;if(ys(t))r=t.width,o=t.height;else{const c=getComputedStyle(t);r=t.offsetWidth-parseFloat(c.borderLeftWidth)-parseFloat(c.paddingLeft)-parseFloat(c.paddingRight)-parseFloat(c.borderRightWidth),o=t.offsetHeight-parseFloat(c.borderTopWidth)-parseFloat(c.paddingTop)-parseFloat(c.paddingBottom)-parseFloat(c.borderBottomWidth)}!isNaN(r)&&!isNaN(o)&&(n=[Math.max(0,r),Math.max(0,o)],!Q0(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&Pp("No map visible because the map container's width or height are 0."))}const s=this.getSize();n&&(!s||!Rs(n,s))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){const n=this.getView();n&&n.setViewportSize(t)}};function kT(a){let t=null;a.keyboardEventTarget!==void 0&&(t=typeof a.keyboardEventTarget=="string"?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);const n={},s=a.layers&&typeof a.layers.getLayers=="function"?a.layers:new Ta({layers:a.layers});n[Le.LAYERGROUP]=s,n[Le.TARGET]=a.target,n[Le.VIEW]=a.view instanceof Vn?a.view:new Vn;let r;a.controls!==void 0&&(Array.isArray(a.controls)?r=new Cn(a.controls.slice()):(Gt(typeof a.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=a.controls));let o;a.interactions!==void 0&&(Array.isArray(a.interactions)?o=new Cn(a.interactions.slice()):(Gt(typeof a.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=a.interactions));let c;return a.overlays!==void 0?Array.isArray(a.overlays)?c=new Cn(a.overlays.slice()):(Gt(typeof a.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=a.overlays):c=new Cn,{controls:r,interactions:o,keyboardEventTarget:t,overlays:c,values:n}}class _g extends $u{constructor(t,n,s){super(),s=s||{},this.tileCoord=t,this.state=n,this.key="",this.transition_=s.transition===void 0?250:s.transition,this.transitionStarts_={},this.interpolate=!!s.interpolate}changed(){this.dispatchEvent(Et.CHANGE)}release(){this.setState(ut.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==ut.EMPTY){if(this.state!==ut.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){mt()}getAlpha(t,n){if(!this.transition_)return 1;let s=this.transitionStarts_[t];if(!s)s=n,this.transitionStarts_[t]=s;else if(s===-1)return 1;const r=n-s+1e3/60;return r>=this.transition_?1:Hp(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function Ad(a){return a instanceof Image||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageBitmap?a:null}const qT=new Error("disposed"),VT=[256,256];class cp extends _g{constructor(t){const n=ut.IDLE;super(t.tileCoord,n,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=Ad(this.data_);return t?[t.width,t.height]:VT}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ut.IDLE&&this.state!==ut.ERROR)return;this.state=ut.LOADING,this.changed();const t=this;this.loader_().then(function(n){t.data_=n,t.state=ut.LOADED,t.changed()}).catch(function(n){t.error_=n,t.state=ut.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(qT),this.controller_=null),super.disposeInternal()}}class GE extends _g{constructor(t,n,s,r,o,c){super(t,n,c),this.crossOrigin_=r,this.src_=s,this.key=s,this.image_,Tn?this.image_=new OffscreenCanvas(1,1):(this.image_=new Image,r!==null&&(this.image_.crossOrigin=r)),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(t){this.image_=t,this.state=ut.LOADED,this.unlistenImage_(),this.changed()}getCrossOrigin(){return this.crossOrigin_}handleImageError_(){this.state=ut.ERROR,this.unlistenImage_(),this.image_=WT(),this.changed()}handleImageLoad_(){if(Tn)this.state=ut.LOADED;else{const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=ut.LOADED:this.state=ut.EMPTY}this.unlistenImage_(),this.changed()}load(){this.state==ut.ERROR&&(this.state=ut.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ut.IDLE&&(this.state=ut.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=gT(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function WT(){const a=fe(1,1);return a.fillStyle="rgba(0,0,0,0)",a.fillRect(0,0,1,1),a.canvas}class mg{constructor(t,n,s,r){this.minX=t,this.maxX=n,this.minY=s,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function ea(a,t,n,s,r){return r!==void 0?(r.minX=a,r.maxX=t,r.minY=n,r.maxY=s,r):new mg(a,t,n,s)}let nd;const da=[];function hp(a,t,n,s,r){a.beginPath(),a.moveTo(0,0),a.lineTo(t,n),a.lineTo(s,r),a.closePath(),a.save(),a.clip(),a.fillRect(0,0,Math.max(t,s)+1,Math.max(n,r)),a.restore()}function id(a,t){return Math.abs(a[t*4]-210)>2||Math.abs(a[t*4+3]-.75*255)>2}function QT(){if(nd===void 0){const a=fe(6,6,da);a.globalCompositeOperation="lighter",a.fillStyle="rgba(210, 0, 0, 0.75)",hp(a,4,5,4,0),hp(a,4,5,0,5);const t=a.getImageData(0,0,3,3).data;nd=id(t,0)||id(t,4)||id(t,8),hc(a),da.push(a.canvas)}return nd}function fp(a,t,n,s){const r=Pd(n,t,a);let o=F0(t,s,n);const c=t.getMetersPerUnit();c!==void 0&&(o*=c);const h=a.getMetersPerUnit();h!==void 0&&(o/=h);const d=a.getExtent();if(!d||_a(d,r)){const _=F0(a,o,r)/o;isFinite(_)&&_>0&&(o/=_)}return o}function JT(a,t,n,s){const r=xs(n);let o=fp(a,t,r,s);return(!isFinite(o)||o<=0)&&Up(n,function(c){return o=fp(a,t,c,s),isFinite(o)&&o>0}),o}function $T(a,t,n,s,r,o,c,h,d,_,m,y,E,S){const x=fe(Math.round(n*a),Math.round(n*t),da);if(y||(x.imageSmoothingEnabled=!1),d.length===0)return x.canvas;x.scale(n,n);function R(G){return Math.round(G*n)/n}x.globalCompositeOperation="lighter";const C=Mn();d.forEach(function(G,K,B){Gp(C,G.extent)});let w;const z=n/s,U=(y?1:1+Math.pow(2,-24))/z;w=fe(Math.round(Xt(C)*z),Math.round(Ue(C)*z),da),y||(w.imageSmoothingEnabled=!1),d.forEach(function(G,K,B){if(G.image.width>0&&G.image.height>0){if(G.clipExtent){w.save();const $=(G.clipExtent[0]-C[0])*z,tt=-(G.clipExtent[3]-C[3])*z,nt=Xt(G.clipExtent)*z,ht=Ue(G.clipExtent)*z;w.rect(y?$:Math.round($),y?tt:Math.round(tt),y?nt:Math.round($+nt)-Math.round($),y?ht:Math.round(tt+ht)-Math.round(tt)),w.clip()}const k=(G.extent[0]-C[0])*z,V=-(G.extent[3]-C[3])*z,J=Xt(G.extent)*z,rt=Ue(G.extent)*z;w.drawImage(G.image,_,_,G.image.width-2*_,G.image.height-2*_,y?k:Math.round(k),y?V:Math.round(V),y?J:Math.round(k+J)-Math.round(k),y?rt:Math.round(V+rt)-Math.round(V)),G.clipExtent&&w.restore()}});const D=bs(c);return h.getTriangles().forEach(function(G,K,B){const k=G.source,V=G.target;let J=k[0][0],rt=k[0][1],$=k[1][0],tt=k[1][1],nt=k[2][0],ht=k[2][1];const L=R((V[0][0]-D[0])/o),P=R(-(V[0][1]-D[1])/o),q=R((V[1][0]-D[0])/o),et=R(-(V[1][1]-D[1])/o),lt=R((V[2][0]-D[0])/o),b=R(-(V[2][1]-D[1])/o),M=J,W=rt;J=0,rt=0,$-=M,tt-=W,nt-=M,ht-=W;const Q=[[$,tt,0,0,q-L],[nt,ht,0,0,lt-L],[0,0,$,tt,et-P],[0,0,nt,ht,b-P]],st=IS(Q);if(!st)return;if(x.save(),x.beginPath(),QT()||!y){x.moveTo(q,et);const gt=4,Zt=L-q,Ot=P-et;for(let ue=0;ue<gt;ue++)x.lineTo(q+R((ue+1)*Zt/gt),et+R(ue*Ot/(gt-1))),ue!=gt-1&&x.lineTo(q+R((ue+1)*Zt/gt),et+R((ue+1)*Ot/(gt-1)));x.lineTo(lt,b)}else x.moveTo(q,et),x.lineTo(L,P),x.lineTo(lt,b);x.clip(),x.transform(st[0],st[2],st[1],st[3],L,P),x.translate(C[0]-M,C[3]-W);let ft;if(w)ft=w.canvas,x.scale(U,-U);else{const gt=d[0],Zt=gt.extent;ft=gt.image,x.scale(Xt(Zt)/ft.width,-Ue(Zt)/ft.height)}x.drawImage(ft,0,0),x.restore()}),w&&(hc(w),da.push(w.canvas)),m&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,h.getTriangles().forEach(function(G,K,B){const k=G.target,V=(k[0][0]-D[0])/o,J=-(k[0][1]-D[1])/o,rt=(k[1][0]-D[0])/o,$=-(k[1][1]-D[1])/o,tt=(k[2][0]-D[0])/o,nt=-(k[2][1]-D[1])/o;x.beginPath(),x.moveTo(rt,$),x.lineTo(V,J),x.lineTo(tt,nt),x.closePath(),x.stroke()}),x.restore()),x.canvas}const tR=10,dp=.25;class eR{constructor(t,n,s,r,o,c,h){this.sourceProj_=t,this.targetProj_=n;let d={};const _=h?px(U=>Ee(h,Pd(U,this.targetProj_,this.sourceProj_))):Xr(this.targetProj_,this.sourceProj_);this.transformInv_=function(U){const D=U[0]+"/"+U[1];return d[D]||(d[D]=_(U)),d[D]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Xt(r)>=Xt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Xt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Xt(this.targetProj_.getExtent()):null;const m=bs(s),y=ic(s),E=nc(s),S=ec(s),x=this.transformInv_(m),R=this.transformInv_(y),C=this.transformInv_(E),w=this.transformInv_(S),z=tR+(c?Math.max(0,Math.ceil(Math.log2(fd(s)/(c*c*256*256)))):0);if(this.addQuad_(m,y,E,S,x,R,C,w,z),this.wrapsXInSource_){let U=1/0;this.triangles_.forEach(function(D,G,K){U=Math.min(U,D.source[0][0],D.source[1][0],D.source[2][0])}),this.triangles_.forEach(D=>{if(Math.max(D.source[0][0],D.source[1][0],D.source[2][0])-U>this.sourceWorldWidth_/2){const G=[[D.source[0][0],D.source[0][1]],[D.source[1][0],D.source[1][1]],[D.source[2][0],D.source[2][1]]];G[0][0]-U>this.sourceWorldWidth_/2&&(G[0][0]-=this.sourceWorldWidth_),G[1][0]-U>this.sourceWorldWidth_/2&&(G[1][0]-=this.sourceWorldWidth_),G[2][0]-U>this.sourceWorldWidth_/2&&(G[2][0]-=this.sourceWorldWidth_);const K=Math.min(G[0][0],G[1][0],G[2][0]);Math.max(G[0][0],G[1][0],G[2][0])-K<this.sourceWorldWidth_/2&&(D.source=G)}})}d={}}addTriangle_(t,n,s,r,o,c){this.triangles_.push({source:[r,o,c],target:[t,n,s]})}addQuad_(t,n,s,r,o,c,h,d,_){const m=M0([o,c,h,d]),y=this.sourceWorldWidth_?Xt(m)/this.sourceWorldWidth_:null,E=this.sourceWorldWidth_,S=this.sourceProj_.canWrapX()&&y>.5&&y<1;let x=!1;if(_>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const C=M0([t,n,s,r]);x=Xt(C)/this.targetWorldWidth_>dp||x}!S&&this.sourceProj_.isGlobal()&&y&&(x=y>dp||x)}if(!x&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!Qe(m,this.maxSourceExtent_))return;let R=0;if(!x&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(d[0])||!isFinite(d[1]))){if(_>0)x=!0;else if(R=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),R!=1&&R!=2&&R!=4&&R!=8)return}if(_>0){if(!x){const C=[(t[0]+s[0])/2,(t[1]+s[1])/2],w=this.transformInv_(C);let z;S?z=(ca(o[0],E)+ca(h[0],E))/2-ca(w[0],E):z=(o[0]+h[0])/2-w[0];const U=(o[1]+h[1])/2-w[1];x=z*z+U*U>this.errorThresholdSquared_}if(x){if(Math.abs(t[0]-s[0])<=Math.abs(t[1]-s[1])){const C=[(n[0]+s[0])/2,(n[1]+s[1])/2],w=this.transformInv_(C),z=[(r[0]+t[0])/2,(r[1]+t[1])/2],U=this.transformInv_(z);this.addQuad_(t,n,C,z,o,c,w,U,_-1),this.addQuad_(z,C,s,r,U,w,h,d,_-1)}else{const C=[(t[0]+n[0])/2,(t[1]+n[1])/2],w=this.transformInv_(C),z=[(s[0]+r[0])/2,(s[1]+r[1])/2],U=this.transformInv_(z);this.addQuad_(t,C,z,r,o,w,U,d,_-1),this.addQuad_(C,n,s,z,w,c,h,U,_-1)}return}}if(S){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(R&11)==0&&this.addTriangle_(t,s,r,o,h,d),(R&14)==0&&this.addTriangle_(t,s,n,o,h,c),R&&((R&13)==0&&this.addTriangle_(n,r,t,c,d,o),(R&7)==0&&this.addTriangle_(n,r,s,c,d,h))}calculateSourceExtent(){const t=Mn();return this.triangles_.forEach(function(n,s,r){const o=n.source;zr(t,o[0]),zr(t,o[1]),zr(t,o[2])}),t}getTriangles(){return this.triangles_}}const nR=.5;class FE extends _g{constructor(t,n,s,r,o,c,h,d,_,m,y,E){super(o,ut.IDLE,E),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=h,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=c||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const S=r.getTileCoordExtent(this.wrappedTileCoord_),x=this.targetTileGrid_.getExtent();let R=this.sourceTileGrid_.getExtent();const C=x?sl(S,x):S;if(fd(C)===0){this.state=ut.EMPTY;return}const w=t.getExtent();w&&(R?R=sl(R,w):R=w);const z=r.getResolution(this.wrappedTileCoord_[0]),U=JT(t,s,C,z);if(!isFinite(U)||U<=0){this.state=ut.EMPTY;return}const D=m!==void 0?m:nR;if(this.triangulation_=new eR(t,s,C,R,U*D,z),this.triangulation_.getTriangles().length===0){this.state=ut.EMPTY;return}this.sourceZ_=n.getZForResolution(U);let G=this.triangulation_.calculateSourceExtent();if(R&&(t.canWrapX()?(G[1]=Qt(G[1],R[1],R[3]),G[3]=Qt(G[3],R[1],R[3])):G=sl(G,R)),!fd(G))this.state=ut.EMPTY;else{let K=0,B=0;t.canWrapX()&&(K=Xt(w),B=Math.floor((G[0]-w[0])/K)),Bp(G.slice(),t,!0).forEach(V=>{const J=n.getTileRangeForExtentAndZ(V,this.sourceZ_);for(let rt=J.minX;rt<=J.maxX;rt++)for(let $=J.minY;$<=J.maxY;$++){const tt=_(this.sourceZ_,rt,$,h);if(tt){const nt=B*K;this.sourceTiles_.push({tile:tt,offset:nt})}}++B}),this.sourceTiles_.length===0&&(this.state=ut.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{const s=n.tile;if(s&&s.getState()==ut.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(s.tileCoord);r[0]+=n.offset,r[2]+=n.offset;const o=this.clipExtent_?.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),t.push({extent:r,clipExtent:o,image:s.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=ut.ERROR;else{const n=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(n),r=typeof s=="number"?s:s[0],o=typeof s=="number"?s:s[1],c=this.targetTileGrid_.getResolution(n),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=$T(r,o,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=ut.LOADED}this.changed()}load(){if(this.state==ut.IDLE){this.state=ut.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const s=n.getState();if(s==ut.IDLE||s==ut.LOADING){t++;const r=wt(n,Et.CHANGE,o=>{const c=n.getState();(c==ut.LOADED||c==ut.ERROR||c==ut.EMPTY)&&(Kt(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},s,r){n.getState()==ut.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Kt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(hc(this.canvas_.getContext("2d")),da.push(this.canvas_),this.canvas_=null),super.release()}}class gp{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof Qu&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const s=this.entries_[t];return Gt(s!==void 0,"Tried to get a value for a key that does not exist in the cache"),s===this.newest_||(s===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(s.newer.older=s.older,s.older.newer=s.newer),s.newer=null,s.older=this.newest_,this.newest_.newer=s,this.newest_=s),s.value_}remove(t){const n=this.entries_[t];return Gt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.key_;return t}getValues(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){Gt(!(t in this.entries_),"Tried to set a value for a key that is used already");const s={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_}setSize(t){this.highWaterMark=t}}function Zu(a,t,n,s){return s!==void 0?(s[0]=a,s[1]=t,s[2]=n,s):[a,t,n]}function iR(a,t,n){return a+"/"+t+"/"+n}function zu(a,t,n,s,r){return`${zt(a)},${t},${iR(n,s,r)}`}function sR(a){return lR(a[0],a[1],a[2])}function lR(a,t,n){return(t<<a)+n}function aR(a,t){const n=a[0],s=a[1],r=a[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const o=t.getFullTileRange(n);return o?o.containsXY(s,r):!0}class UE{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Xu(),{get:(t,n)=>{if(typeof Xu()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(t,n,s)=>(this.push_(n,s),!0)})}push_(...t){const n=this.instructions_,s=this.zIndex+this.offset_;n[s]||(n[s]=[]),n[s].push(...t)}pushMethodArgs_=(...t)=>(this.push_(t),this);pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let s=0,r=n.length;s<r;++s){const o=n[s];if(typeof o=="function"){o(t);continue}const c=n[++s];if(typeof t[o]=="function")t[o](...c);else{if(typeof c=="function"){t[o]=c(t);continue}t[o]=c}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const rR=5;class oR extends Wr{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=rR}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return mt()}getData(t){return null}prepareFrame(t){return mt()}renderFrame(t,n){return mt()}forEachFeatureAtCoordinate(t,n,s,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===xt.LOADED||n.getState()===xt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=xt.LOADED&&n!=xt.ERROR&&t.addEventListener(Et.CHANGE,this.boundHandleImageChange_),n==xt.IDLE&&(t.load(),n=t.getState()),n==xt.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const _p=[];let ra=null;function uR(){ra=fe(1,1,void 0,{willReadFrequently:!0})}class YE extends oR{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Fn(),this.pixelTransform=Fn(),this.inversePixelTransform=Fn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,n,s){ra||uR(),ra.clearRect(0,0,1,1);let r;try{ra.drawImage(t,n,s,1,1,0,0,1,1),r=ra.getImageData(0,0,1,1).data}catch{return ra=null,null}return r}getBackground(t){let s=this.getLayer().getBackground();return typeof s=="function"&&(s=s(t.viewState.resolution)),s||void 0}useContainer(t,n,s){const r=this.getLayer().getClassName();let o,c;if(t&&t.className===r&&(!s||t&&t.style.backgroundColor&&Rs(pa(t.style.backgroundColor),pa(s)))){const h=t.firstElementChild;ys(h)&&(c=h.getContext("2d"))}if(c&&Rx(c.canvas.style.transform,n)?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=Tn?hE():document.createElement("div"),o.className=r;let h=o.style;h.position="absolute",h.width="100%",h.height="100%",c=fe();const d=c.canvas;o.appendChild(d),h=d.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=o,this.context=c}!this.containerReused&&s&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=s)}clipUnrotated(t,n,s){const r=bs(s),o=ic(s),c=nc(s),h=ec(s);Ee(n.coordinateToPixelTransform,r),Ee(n.coordinateToPixelTransform,o),Ee(n.coordinateToPixelTransform,c),Ee(n.coordinateToPixelTransform,h);const d=this.inversePixelTransform;Ee(d,r),Ee(d,o),Ee(d,c),Ee(d,h),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()}prepareContainer(t,n){const s=t.extent,r=t.viewState.resolution,o=t.viewState.rotation,c=t.pixelRatio,h=Math.round(Xt(s)/r*c),d=Math.round(Ue(s)/r*c);Oi(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,o,-h/2,-d/2),Jp(this.inversePixelTransform,this.pixelTransform);const _=Tx(this.pixelTransform);if(this.useContainer(n,_,this.getBackground(t)),!this.containerReused){const m=this.context.canvas;m.width!=h||m.height!=d?(m.width=h,m.height=d):this.context.clearRect(0,0,h,d),_!==m.style.transform&&(m.style.transform=_)}}dispatchRenderEvent_(t,n,s){const r=this.getLayer();if(r.hasListener(t)){const o=new zE(t,this.inversePixelTransform,s,n);r.dispatchEvent(o)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Rn.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(Rn.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new UE),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(Rn.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(Rn.POSTRENDER,this.context,t))}getRenderTransform(t,n,s,r,o,c,h){const d=o/2,_=c/2,m=r/n,y=-m,E=-t[0]+h,S=-t[1];return Oi(this.tempTransform,d,_,m,y,-s,E,S)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function sd(a,t,n){if(!(n in a))return a[n]=new Set([t]),!0;const s=a[n],r=s.has(t);return r||s.add(t),!r}function cR(a,t,n){const s=a[n];return s?s.delete(t):!1}function mp(a,t){const n=a.layerStatesArray[a.layerIndex];n.extent&&(t=sl(t,_s(n.extent,a.viewState.projection)));const s=n.layer.getRenderSource();if(!s.getWrapX()){const r=s.getTileGridForProjection(a.viewState.projection).getExtent();r&&(t=sl(t,r))}return t}class hR extends YE{constructor(t,n){super(t),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Mn(),this.tempTileRange_=new mg(0,0,0,0),this.tempTileCoord_=Zu(0,0,0);const s=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new gp(s),this.sourceTileCache_=null,this.maxStaleKeys=s*.5}getTileCache(){return this.tileCache_}getSourceTileCache(){return this.sourceTileCache_||(this.sourceTileCache_=new gp(512)),this.sourceTileCache_}getOrCreateTile(t,n,s,r){const o=this.tileCache_,h=this.getLayer().getSource(),d=zu(h,h.getKey(),t,n,s);let _;if(o.containsKey(d))_=o.get(d);else{const m=r.viewState.projection,y=h.getProjection();if(_=h.getTile(t,n,s,r.pixelRatio,m,!y||Ir(y,m)?void 0:this.getSourceTileCache()),!_)return null;o.set(d,_)}return _}getTile(t,n,s,r){const o=this.getOrCreateTile(t,n,s,r);return o||null}getData(t){const n=this.frameState;if(!n)return null;const s=this.getLayer(),r=Ee(n.pixelToCoordinateTransform,t.slice()),o=s.getExtent();if(o&&!_a(o,r))return null;const c=n.viewState,h=s.getRenderSource(),d=h.getTileGridForProjection(c.projection),_=h.getTilePixelRatio(n.pixelRatio);for(let m=d.getZForResolution(c.resolution);m>=d.getMinZoom();--m){const y=d.getTileCoordForCoordAndZ(r,m),E=this.getTile(m,y[1],y[2],n);if(!E||E.getState()!==ut.LOADED)continue;const S=d.getOrigin(m),x=$e(d.getTileSize(m)),R=d.getResolution(m);let C;if(E instanceof GE||E instanceof FE)C=E.getImage();else if(E instanceof cp){if(C=Ad(E.getData()),!C)continue}else continue;const w=Math.floor(_*((r[0]-S[0])/R-y[1]*x[0])),z=Math.floor(_*((S[1]-r[1])/R-y[2]*x[1])),U=Math.round(_*h.getGutterForProjection(c.projection));return this.getImageData(C,w+U,z+U)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const s=n.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==s&&(this.renderedSourceRevision_=s,this.renderedSourceKey_===n.getKey()&&(this.tileCache_.clear(),this.sourceTileCache_?.clear())):this.renderedSourceRevision_=s,!0}enqueueTilesForNextExtent(){return!0}enqueueTiles(t,n,s,r,o){const c=t.viewState,h=this.getLayer(),d=h.getRenderSource(),_=d.getTileGridForProjection(c.projection),m=zt(d);m in t.wantedTiles||(t.wantedTiles[m]={});const y=t.wantedTiles[m],E=h.getMapInternal(),S=Math.max(s-o,_.getMinZoom(),_.getZForResolution(Math.min(h.getMaxResolution(),E?E.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):_.getResolution(0)),d.zDirection)),x=c.rotation,R=x?Yp(c.center,c.resolution,x,t.size):void 0;for(let C=s;C>=S;--C){const w=_.getTileRangeForExtentAndZ(n,C,this.tempTileRange_),z=_.getResolution(C);for(let U=w.minX;U<=w.maxX;++U)for(let D=w.minY;D<=w.maxY;++D){if(x&&!_.tileCoordIntersectsViewport([C,U,D],R))continue;const G=this.getTile(C,U,D,t);if(!G||!sd(r,G,C))continue;const B=G.getKey();if(y[B]=!0,G.getState()===ut.IDLE&&!t.tileQueue.isKeyQueued(B)){const k=Zu(C,U,D,this.tempTileCoord_);t.tileQueue.enqueue([G,m,_.getTileCoordCenter(k),z])}}}}findStaleTile_(t,n){const s=this.tileCache_,r=t[0],o=t[1],c=t[2],h=this.getStaleKeys();for(let d=0;d<h.length;++d){const _=zu(this.getLayer().getSource(),h[d],r,o,c);if(s.containsKey(_)){const m=s.peek(_);if(m.getState()===ut.LOADED)return m.endTransition(zt(this)),sd(n,m,r),!0}}return!1}findAltTiles_(t,n,s,r){const o=t.getTileRangeForTileCoordAndZ(n,s,this.tempTileRange_);if(!o)return!1;let c=!0;const h=this.tileCache_,d=this.getLayer().getRenderSource(),_=d.getKey();for(let m=o.minX;m<=o.maxX;++m)for(let y=o.minY;y<=o.maxY;++y){const E=zu(d,_,s,m,y);let S=!1;if(h.containsKey(E)){const x=h.peek(E);x.getState()===ut.LOADED&&(sd(r,x,s),S=!0)}S||(c=!1)}return c}renderFrame(t,n){this.renderComplete=!0;const s=t.layerStatesArray[t.layerIndex],r=t.viewState,o=r.projection,c=r.resolution,h=r.center,d=t.pixelRatio,_=this.getLayer(),m=_.getSource(),y=m.getTileGridForProjection(o),E=y.getZForResolution(c,m.zDirection),S=y.getResolution(E),x=m.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==x&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=x):this.renderedSourceKey_=x;let R=t.extent;const C=m.getTilePixelRatio(d);this.prepareContainer(t,n);const w=this.context.canvas.width,z=this.context.canvas.height,U=s.extent&&_s(s.extent);U&&(R=sl(R,_s(s.extent)));const D=S*w/2/C,G=S*z/2/C,K=[h[0]-D,h[1]-G,h[0]+D,h[1]+G],B={};this.renderedTiles.length=0;const k=_.getPreload();if(t.nextExtent&&this.enqueueTilesForNextExtent()){const q=y.getZForResolution(r.nextResolution,m.zDirection),et=mp(t,t.nextExtent);this.enqueueTiles(t,et,q,B,k)}const V=mp(t,R);if(this.enqueueTiles(t,V,E,B,0),k>0&&setTimeout(()=>{this.enqueueTiles(t,V,E-1,B,k-1)},0),!(E in B))return this.container;const J=zt(this),rt=t.time;for(const q of B[E]){const et=q.getState();if(et===ut.EMPTY)continue;const lt=q.tileCoord;if(et===ut.LOADED&&q.getAlpha(J,rt)===1){q.endTransition(J);continue}if(et!==ut.ERROR&&(this.renderComplete=!1),this.findStaleTile_(lt,B)){cR(B,q,E),t.animate=!0;continue}if(this.findAltTiles_(y,lt,E+1,B))continue;const W=y.getMinZoom();for(let Q=E-1;Q>=W&&!this.findAltTiles_(y,lt,Q,B);--Q);}const $=S/c*d/C,tt=this.getRenderContext(t);Oi(this.tempTransform,w/2,z/2,$,$,0,-w/2,-z/2),s.extent&&this.clipUnrotated(tt,t,U),m.getInterpolate()||(tt.imageSmoothingEnabled=!1),this.preRender(tt,t);const nt=Object.keys(B).map(Number);nt.sort(bi);let ht;const L=[],P=[];for(let q=nt.length-1;q>=0;--q){const et=nt[q],lt=m.getTilePixelSize(et,d,o),M=y.getResolution(et)/S,W=lt[0]*M*$,Q=lt[1]*M*$,st=y.getTileCoordForCoordAndZ(bs(K),et),ft=y.getTileCoordExtent(st),gt=Ee(this.tempTransform,[C*(ft[0]-K[0])/S,C*(K[3]-ft[3])/S]),Zt=C*m.getGutterForProjection(o);for(const Ot of B[et]){if(Ot.getState()!==ut.LOADED)continue;const ue=Ot.tileCoord,$n=st[1]-ue[1],As=Math.round(gt[0]-($n-1)*W),zi=st[2]-ue[2],Ie=Math.round(gt[1]-(zi-1)*Q),Me=Math.round(gt[0]-$n*W),Ye=Math.round(gt[1]-zi*Q),Ii=As-Me,ti=Ie-Ye,ei=nt.length===1;let wn=!1;ht=[Me,Ye,Me+Ii,Ye,Me+Ii,Ye+ti,Me,Ye+ti];for(let Xn=0,Ni=L.length;Xn<Ni;++Xn)if(!ei&&et<P[Xn]){const se=L[Xn];Qe([Me,Ye,Me+Ii,Ye+ti],[se[0],se[3],se[4],se[7]])&&(wn||(tt.save(),wn=!0),tt.beginPath(),tt.moveTo(ht[0],ht[1]),tt.lineTo(ht[2],ht[3]),tt.lineTo(ht[4],ht[5]),tt.lineTo(ht[6],ht[7]),tt.moveTo(se[6],se[7]),tt.lineTo(se[4],se[5]),tt.lineTo(se[2],se[3]),tt.lineTo(se[0],se[1]),tt.clip())}L.push(ht),P.push(et),this.drawTile(Ot,t,Me,Ye,Ii,ti,Zt,ei),wn&&tt.restore(),this.renderedTiles.unshift(Ot),this.updateUsedTiles(t.usedTiles,m,Ot)}}if(this.renderedResolution=S,this.extentChanged=!this.renderedExtent_||!Ur(this.renderedExtent_,K),this.renderedExtent_=K,this.renderedPixelRatio=d,this.postRender(this.context,t),s.extent&&tt.restore(),tt.imageSmoothingEnabled=!0,this.renderComplete){const q=(et,lt)=>{const b=zt(m),M=lt.wantedTiles[b],W=M?Object.keys(M).length:0;this.updateCacheSize(W),this.tileCache_.expireCache(),this.sourceTileCache_?.expireCache()};t.postRenderFunctions.push(q)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,n,s,r,o,c,h,d){let _;if(t instanceof cp){if(_=Ad(t.getData()),!_)throw new Error("Rendering array data is not yet supported")}else _=this.getTileImage(t);if(!_)return;const m=this.getRenderContext(n),y=zt(this),E=n.layerStatesArray[n.layerIndex],S=E.opacity*(d?t.getAlpha(y,n.time):1),x=S!==m.globalAlpha;x&&(m.save(),m.globalAlpha=S),m.drawImage(_,h,h,_.width-2*h,_.height-2*h,s,r,o,c),x&&m.restore(),S!==E.opacity?n.animate=!0:d&&t.endTransition(y)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,n,s){const r=zt(n);r in t||(t[r]={}),t[r][s.getKey()]=!0}}const Ou={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class fR extends fc{constructor(t){t=t||{};const n=Object.assign({},t),s=t.cacheSize;delete t.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Ou.PRELOAD)}setPreload(t){this.set(Ou.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Ou.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Ou.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class dR extends fR{constructor(t){super(t)}createRenderer(){return new hR(this,{cacheSize:this.getCacheSize()})}}class XE{drawCustom(t,n,s,r,o){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,s){}drawFeature(t,n,s){}drawGeometryCollection(t,n,s){}drawLineString(t,n,s){}drawMultiLineString(t,n,s){}drawMultiPoint(t,n,s){}drawMultiPolygon(t,n,s){}drawPoint(t,n,s){}drawPolygon(t,n,s){}drawText(t,n,s){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}const ct={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Du=[ct.FILL],ps=[ct.STROKE],nl=[ct.BEGIN_PATH],yp=[ct.CLOSE_PATH];class so extends XE{constructor(t,n,s,r){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=s,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(s){return s*n})}appendFlatPointCoordinates(t,n){const s=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates;let c=o.length;for(let h=0,d=t.length;h<d;h+=n)r[0]=t[h],r[1]=t[h+1],_a(s,r)&&(o[c++]=r[0],o[c++]=r[1]);return c}appendFlatLineCoordinates(t,n,s,r,o,c){const h=this.coordinates;let d=h.length;const _=this.getBufferedMaxExtent();c&&(n+=r);let m=t[n],y=t[n+1];const E=this.tmpCoordinate_;let S=!0,x,R,C;for(x=n+r;x<s;x+=r)E[0]=t[x],E[1]=t[x+1],C=hd(_,E),C!==R?(S&&(h[d++]=m,h[d++]=y,S=!1),h[d++]=E[0],h[d++]=E[1]):C===pe.INTERSECTING?(h[d++]=E[0],h[d++]=E[1],S=!1):S=!0,m=E[0],y=E[1],R=C;return(o&&S||x===n+r)&&(h[d++]=m,h[d++]=y),d}drawCustomCoordinates_(t,n,s,r,o){for(let c=0,h=s.length;c<h;++c){const d=s[c],_=this.appendFlatLineCoordinates(t,n,d,r,!1,!1);o.push(_),n=d}return n}drawCustom(t,n,s,r,o){this.beginGeometry(t,n,o);const c=t.getType(),h=t.getStride(),d=this.coordinates.length;let _,m,y,E,S;switch(c){case"MultiPolygon":_=t.getOrientedFlatCoordinates(),E=[];const x=t.getEndss();S=0;for(let R=0,C=x.length;R<C;++R){const w=[];S=this.drawCustomCoordinates_(_,S,x[R],h,w),E.push(w)}this.instructions.push([ct.CUSTOM,d,E,t,s,Ed,o]),this.hitDetectionInstructions.push([ct.CUSTOM,d,E,t,r||s,Ed,o]);break;case"Polygon":case"MultiLineString":y=[],_=c=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),S=this.drawCustomCoordinates_(_,0,t.getEnds(),h,y),this.instructions.push([ct.CUSTOM,d,y,t,s,Br,o]),this.hitDetectionInstructions.push([ct.CUSTOM,d,y,t,r||s,Br,o]);break;case"LineString":case"Circle":_=t.getFlatCoordinates(),m=this.appendFlatLineCoordinates(_,0,_.length,h,!1,!1),this.instructions.push([ct.CUSTOM,d,m,t,s,ms,o]),this.hitDetectionInstructions.push([ct.CUSTOM,d,m,t,r||s,ms,o]);break;case"MultiPoint":_=t.getFlatCoordinates(),m=this.appendFlatPointCoordinates(_,h),m>d&&(this.instructions.push([ct.CUSTOM,d,m,t,s,ms,o]),this.hitDetectionInstructions.push([ct.CUSTOM,d,m,t,r||s,ms,o]));break;case"Point":_=t.getFlatCoordinates(),this.coordinates.push(_[0],_[1]),m=this.coordinates.length,this.instructions.push([ct.CUSTOM,d,m,t,s,void 0,o]),this.hitDetectionInstructions.push([ct.CUSTOM,d,m,t,r||s,void 0,o]);break}this.endGeometry(n)}beginGeometry(t,n,s){this.beginGeometryInstruction1_=[ct.BEGIN_GEOMETRY,n,0,t,s],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ct.BEGIN_GEOMETRY,n,0,t,s],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const s=t.length;let r,o,c=-1;for(n=0;n<s;++n)r=t[n],o=r[0],o==ct.END_GEOMETRY?c=n:o==ct.BEGIN_GEOMETRY&&(r[2]=n,SS(this.hitDetectionInstructions,c,n),c=-1)}fillStyleToState(t,n={}){if(t){const s=t.getColor();n.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,n.fillStyle=Qn(s||We)}else n.fillStyle=void 0;return n}strokeStyleToState(t,n={}){if(t){const s=t.getColor();n.strokeStyle=Qn(s||Pr);const r=t.getLineCap();n.lineCap=r!==void 0?r:Ea;const o=t.getLineDash();n.lineDash=o?o.slice():Ai;const c=t.getLineDashOffset();n.lineDashOffset=c||Mi;const h=t.getLineJoin();n.lineJoin=h!==void 0?h:va;const d=t.getWidth();n.lineWidth=d!==void 0?d:Kr;const _=t.getMiterLimit();n.miterLimit=_!==void 0?_:Hr,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(t,n){const s=this.state;this.fillStyleToState(t,s),this.strokeStyleToState(n,s)}createFill(t){const n=t.fillStyle,s=[ct.SET_FILL_STYLE,n];return typeof n!="string"&&s.push(t.fillPatternScale),s}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[ct.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const s=t.fillStyle;(typeof s!="string"||t.currentFillStyle!=s)&&(this.instructions.push(n.call(this,t)),t.currentFillStyle=s)}updateStrokeStyle(t,n){const s=t.strokeStyle,r=t.lineCap,o=t.lineDash,c=t.lineDashOffset,h=t.lineJoin,d=t.lineWidth,_=t.miterLimit;(t.currentStrokeStyle!=s||t.currentLineCap!=r||o!=t.currentLineDash&&!Rs(t.currentLineDash,o)||t.currentLineDashOffset!=c||t.currentLineJoin!=h||t.currentLineWidth!=d||t.currentMiterLimit!=_)&&(n.call(this,t),t.currentStrokeStyle=s,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=c,t.currentLineJoin=h,t.currentLineWidth=d,t.currentMiterLimit=_)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[ct.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Ip(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;zd(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class gR extends so{constructor(t,n,s,r){super(t,n,s,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,s){if(!this.image_||this.maxExtent&&!_a(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,s);const r=t.getFlatCoordinates(),o=t.getStride(),c=this.coordinates.length,h=this.appendFlatPointCoordinates(r,o);this.instructions.push([ct.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ct.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,s){if(!this.image_)return;this.beginGeometry(t,n,s);const r=t.getFlatCoordinates(),o=[];for(let d=0,_=r.length;d<_;d+=t.getStride())(!this.maxExtent||_a(this.maxExtent,r.slice(d,d+2)))&&o.push(r[d],r[d+1]);const c=this.coordinates.length,h=this.appendFlatPointCoordinates(o,2);this.instructions.push([ct.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ct.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const s=t.getAnchor(),r=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=s[0],this.anchorY_=s[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}class _R extends so{constructor(t,n,s,r){super(t,n,s,r)}drawFlatCoordinates_(t,n,s,r){const o=this.coordinates.length,c=this.appendFlatLineCoordinates(t,n,s,r,!1,!1),h=[ct.MOVE_TO_LINE_TO,o,c];return this.instructions.push(h),this.hitDetectionInstructions.push(h),s}drawLineString(t,n,s){const r=this.state,o=r.strokeStyle,c=r.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ai,Mi],nl);const h=t.getFlatCoordinates(),d=t.getStride();this.drawFlatCoordinates_(h,0,h.length,d),this.hitDetectionInstructions.push(ps),this.endGeometry(n)}drawMultiLineString(t,n,s){const r=this.state,o=r.strokeStyle,c=r.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ai,Mi],nl);const h=t.getEnds(),d=t.getFlatCoordinates(),_=t.getStride();let m=0;for(let y=0,E=h.length;y<E;++y)m=this.drawFlatCoordinates_(d,m,h[y],_);this.hitDetectionInstructions.push(ps),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(ps),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(ps),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(nl)}}class pp extends so{constructor(t,n,s,r){super(t,n,s,r)}drawFlatCoordinatess_(t,n,s,r){const o=this.state,c=o.fillStyle!==void 0,h=o.strokeStyle!==void 0,d=s.length;this.instructions.push(nl),this.hitDetectionInstructions.push(nl);for(let _=0;_<d;++_){const m=s[_],y=this.coordinates.length,E=this.appendFlatLineCoordinates(t,n,m,r,!0,!h),S=[ct.MOVE_TO_LINE_TO,y,E];this.instructions.push(S),this.hitDetectionInstructions.push(S),h&&(this.instructions.push(yp),this.hitDetectionInstructions.push(yp)),n=m}return c&&(this.instructions.push(Du),this.hitDetectionInstructions.push(Du)),h&&(this.instructions.push(ps),this.hitDetectionInstructions.push(ps)),n}drawCircle(t,n,s){const r=this.state,o=r.fillStyle,c=r.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_FILL_STYLE,We]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ai,Mi]);const h=t.getFlatCoordinates(),d=t.getStride(),_=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,d,!1,!1);const m=[ct.CIRCLE,_];this.instructions.push(nl,m),this.hitDetectionInstructions.push(nl,m),r.fillStyle!==void 0&&(this.instructions.push(Du),this.hitDetectionInstructions.push(Du)),r.strokeStyle!==void 0&&(this.instructions.push(ps),this.hitDetectionInstructions.push(ps)),this.endGeometry(n)}drawPolygon(t,n,s){const r=this.state,o=r.fillStyle,c=r.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_FILL_STYLE,We]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ai,Mi]);const h=t.getEnds(),d=t.getOrientedFlatCoordinates(),_=t.getStride();this.drawFlatCoordinatess_(d,0,h,_),this.endGeometry(n)}drawMultiPolygon(t,n,s){const r=this.state,o=r.fillStyle,c=r.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_FILL_STYLE,We]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ai,Mi]);const h=t.getEndss(),d=t.getOrientedFlatCoordinates(),_=t.getStride();let m=0;for(let y=0,E=h.length;y<E;++y)m=this.drawFlatCoordinatess_(d,m,h[y],_);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let s=0,r=n.length;s<r;++s)n[s]=Qs(n[s],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;this.updateFillStyle(t,this.createFill),this.updateStrokeStyle(t,this.applyStroke)}}function mR(a,t,n,s,r){const o=[];let c=n,h=0,d=t.slice(n,2);for(;h<a&&c+r<s;){const[_,m]=d.slice(-2),y=t[c+r],E=t[c+r+1],S=Math.sqrt((y-_)*(y-_)+(E-m)*(E-m));if(h+=S,h>=a){const x=(a-h+S)/S,R=un(_,y,x),C=un(m,E,x);d.push(R,C),o.push(d),d=[R,C],h==a&&(c+=r),h=0}else if(h<a)d.push(t[c+r],t[c+r+1]),c+=r;else{const x=S-h,R=un(_,y,x/S),C=un(m,E,x/S);d.push(R,C),o.push(d),d=[R,C],h=0,c+=r}}return h>0&&o.push(d),o}function yR(a,t,n,s,r){let o=n,c=n,h=0,d=0,_=n,m,y,E,S,x,R,C,w,z,U;for(y=n;y<s;y+=r){const D=t[y],G=t[y+1];x!==void 0&&(z=D-x,U=G-R,S=Math.sqrt(z*z+U*U),C!==void 0&&(d+=E,m=Math.acos((C*z+w*U)/(E*S)),m>a&&(d>h&&(h=d,o=_,c=y),d=0,_=y-r)),E=S,C=z,w=U),x=D,R=G}return d+=S,d>h?[_,y]:[o,c]}const Ku={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class pR extends so{constructor(t,n,s,r){super(t,n,s,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[We]={fillStyle:We},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,s){const r=this.textFillState_,o=this.textStrokeState_,c=this.textState_;if(this.text_===""||!c||!r&&!o)return;const h=this.coordinates;let d=h.length;const _=t.getType();let m=null,y=t.getStride();if(c.placement==="line"&&(_=="LineString"||_=="MultiLineString"||_=="Polygon"||_=="MultiPolygon")){if(!Qe(this.maxExtent,t.getExtent()))return;let E;if(m=t.getFlatCoordinates(),_=="LineString")E=[m.length];else if(_=="MultiLineString")E=t.getEnds();else if(_=="Polygon")E=t.getEnds().slice(0,1);else if(_=="MultiPolygon"){const C=t.getEndss();E=[];for(let w=0,z=C.length;w<z;++w)E.push(C[w][0])}this.beginGeometry(t,n,s);const S=c.repeat,x=S?void 0:c.textAlign;let R=0;for(let C=0,w=E.length;C<w;++C){let z;S?z=mR(S*this.resolution,m,R,E[C],y):z=[m.slice(R,E[C])];for(let U=0,D=z.length;U<D;++U){const G=z[U];let K=0,B=G.length;if(x==null){const V=yR(c.maxAngle,G,0,G.length,2);K=V[0],B=V[1]}for(let V=K;V<B;V+=y)h.push(G[V],G[V+1]);const k=h.length;R=E[C],this.drawChars_(d,k),d=k}}this.endGeometry(n)}else{let E=c.overflow?null:[];switch(_){case"Point":case"MultiPoint":m=t.getFlatCoordinates();break;case"LineString":m=t.getFlatMidpoint();break;case"Circle":m=t.getCenter();break;case"MultiLineString":m=t.getFlatMidpoints(),y=2;break;case"Polygon":m=t.getFlatInteriorPoint(),c.overflow||E.push(m[2]/this.resolution),y=3;break;case"MultiPolygon":const D=t.getFlatInteriorPoints();m=[];for(let G=0,K=D.length;G<K;G+=3)c.overflow||E.push(D[G+2]/this.resolution),m.push(D[G],D[G+1]);if(m.length===0)return;y=2;break}const S=this.appendFlatPointCoordinates(m,y);if(S===d)return;if(E&&(S-d)/2!==m.length/y){let D=d/2;E=E.filter((G,K)=>{const B=h[(D+K)*2]===m[K*y]&&h[(D+K)*2+1]===m[K*y+1];return B||--D,B})}this.saveTextStates_();const x=c.backgroundFill?this.createFill(this.fillStyleToState(c.backgroundFill)):null,R=c.backgroundStroke?this.createStroke(this.strokeStyleToState(c.backgroundStroke)):null;this.beginGeometry(t,n,s);let C=c.padding;if(C!=el&&(c.scale[0]<0||c.scale[1]<0)){let D=c.padding[0],G=c.padding[1],K=c.padding[2],B=c.padding[3];c.scale[0]<0&&(G=-G,B=-B),c.scale[1]<0&&(D=-D,K=-K),C=[D,G,K,B]}const w=this.pixelRatio;this.instructions.push([ct.DRAW_IMAGE,d,S,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,C==el?el:C.map(function(D){return D*w}),x,R,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,E]);const z=1/w,U=x?x.slice(0):null;U&&(U[1]=We),this.hitDetectionInstructions.push([ct.DRAW_IMAGE,d,S,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[z,z],NaN,this.declutterMode_,this.declutterImageWithText_,C,U,R,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?We:this.fillKey_,this.textOffsetX_,this.textOffsetY_,E]),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,s=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||Zr,justify:n.justify,textBaseline:n.textBaseline||ju,scale:n.scale});const c=this.fillKey_;s&&(c in this.fillStates||(this.fillStates[c]={fillStyle:s.fillStyle}))}drawChars_(t,n){const s=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,c=this.textKey_,h=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,_=Ku[r.textBaseline],m=this.textOffsetY_*d,y=this.text_,E=s?s.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([ct.DRAW_CHARS,t,n,_,r.overflow,h,r.maxAngle,d,m,o,E*d,y,c,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([ct.DRAW_CHARS,t,n,_,r.overflow,h&&We,r.maxAngle,d,m,o,E*d,y,c,1/d,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,n){let s,r,o;if(!t)this.text_="";else{const c=t.getFill();c?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Qn(c.getColor()||We)):(r=null,this.textFillState_=r);const h=t.getStroke();if(!h)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const R=h.getLineDash(),C=h.getLineDashOffset(),w=h.getWidth(),z=h.getMiterLimit();o.lineCap=h.getLineCap()||Ea,o.lineDash=R?R.slice():Ai,o.lineDashOffset=C===void 0?Mi:C,o.lineJoin=h.getLineJoin()||va,o.lineWidth=w===void 0?Kr:w,o.miterLimit=z===void 0?Hr:z,o.strokeStyle=Qn(h.getColor()||Pr)}s=this.textState_;const d=t.getFont()||TE;ST(d);const _=t.getScaleArray();s.overflow=t.getOverflow(),s.font=d,s.maxAngle=t.getMaxAngle(),s.placement=t.getPlacement(),s.textAlign=t.getTextAlign(),s.repeat=t.getRepeat(),s.justify=t.getJustify(),s.textBaseline=t.getTextBaseline()||ju,s.backgroundFill=t.getBackgroundFill(),s.backgroundStroke=t.getBackgroundStroke(),s.padding=t.getPadding()||el,s.scale=_===void 0?[1,1]:_;const m=t.getOffsetX(),y=t.getOffsetY(),E=t.getRotateWithView(),S=t.getKeepUpright(),x=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=m===void 0?0:m,this.textOffsetY_=y===void 0?0:y,this.textRotateWithView_=E===void 0?!1:E,this.textKeepUpright_=S===void 0?!0:S,this.textRotation_=x===void 0?0:x,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:zt(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=s.font+s.scale+(s.textAlign||"?")+(s.repeat||"?")+(s.justify||"?")+(s.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+zt(r.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const ER={Circle:pp,Default:so,Image:gR,LineString:_R,Polygon:pp,Text:pR};class vR{constructor(t,n,s,r){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=s,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const s=this.buildersByZIndex_[n];for(const r in s){const o=s[r].finish();t[n][r]=o}}return t}getBuilder(t,n){const s=t!==void 0?t.toString():"0";let r=this.buildersByZIndex_[s];r===void 0&&(r={},this.buildersByZIndex_[s]=r);let o=r[n];if(o===void 0){const c=ER[n];o=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=o}return o}}function yg(a,t,n,s){let r=a[t],o=a[t+1],c=0;for(let h=t+s;h<n;h+=s){const d=a[h],_=a[h+1];c+=Math.sqrt((d-r)*(d-r)+(_-o)*(_-o)),r=d,o=_}return c}function SR(a,t,n,s,r,o,c,h,d,_,m,y,E=!0){let S=a[t],x=a[t+1],R=0,C=0,w=0,z=0;function U(){R=S,C=x,t+=s,S=a[t],x=a[t+1],z+=w,w=Math.sqrt((S-R)*(S-R)+(x-C)*(x-C))}do U();while(t<n-s&&z+w<o);let D=w===0?0:(o-z)/w;const G=un(R,S,D),K=un(C,x,D),B=t-s,k=z,V=o+h*d(_,r,m);for(;t<n-s&&z+w<V;)U();D=w===0?0:(V-z)/w;const J=un(R,S,D),rt=un(C,x,D);let $=!1;if(E)if(y){const P=[G,K,J,rt];$p(P,0,4,2,y,P,P),$=P[0]>P[2]}else $=G>J;const tt=Math.PI,nt=[],ht=B+s===t;t=B,w=0,z=k,S=a[t],x=a[t+1];let L;if(ht){U(),L=Math.atan2(x-C,S-R),$&&(L+=L>0?-tt:tt);const P=(J+G)/2,q=(rt+K)/2;return nt[0]=[P,q,(V-o)/2,L,r],nt}r=r.replace(/\n/g," ");for(let P=0,q=r.length;P<q;){U();let et=Math.atan2(x-C,S-R);if($&&(et+=et>0?-tt:tt),L!==void 0){let st=et-L;if(st+=st>tt?-2*tt:st<-tt?2*tt:0,Math.abs(st)>c)return null}L=et;const lt=P;let b=0;for(;P<q;++P){const st=$?q-P-1:P,ft=h*d(_,r[st],m);if(t+s<n&&z+w<o+b+ft/2)break;b+=ft}if(P===lt)continue;const M=$?r.substring(q-lt,q-P):r.substring(lt,P);D=w===0?0:(o+b/2-z)/w;const W=un(R,S,D),Q=un(C,x,D);nt.push([W,Q,b/2,et,M]),o+=b}return nt}const na=Mn(),os=[],Si=[],xi=[],us=[];function Ep(a){return a[3].declutterBox}const vp=new RegExp("[-----]");function ld(a,t){return t==="start"?t=vp.test(a)?"right":"left":t==="end"&&(t=vp.test(a)?"left":"right"),Ku[t]}function xR(a,t,n){return n>0&&a.push(`
`,""),a.push(t,""),a}function CR(a,t,n){return n%2===0&&(a+=t),a}class TR{constructor(t,n,s,r,o){this.overlaps=s,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Fn(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new UE:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,s,r){const o=t+n+s+r;if(this.labels_[o])return this.labels_[o];const c=r?this.strokeStates[r]:null,h=s?this.fillStates[s]:null,d=this.textStates[n],_=this.pixelRatio,m=[d.scale[0]*_,d.scale[1]*_],y=d.justify?Ku[d.justify]:ld(Array.isArray(t)?t[0]:t,d.textAlign||Zr),E=r&&c.lineWidth?c.lineWidth:0,S=Array.isArray(t)?t:String(t).split(`
`).reduce(xR,[]),{width:x,height:R,widths:C,heights:w,lineWidths:z}=CT(d,S),U=x+E,D=[],G=(U+2)*m[0],K=(R+E)*m[1],B={width:G<0?Math.floor(G):Math.ceil(G),height:K<0?Math.floor(K):Math.ceil(K),contextInstructions:D};(m[0]!=1||m[1]!=1)&&D.push("scale",m),r&&(D.push("strokeStyle",c.strokeStyle),D.push("lineWidth",E),D.push("lineCap",c.lineCap),D.push("lineJoin",c.lineJoin),D.push("miterLimit",c.miterLimit),D.push("setLineDash",[c.lineDash]),D.push("lineDashOffset",c.lineDashOffset)),s&&D.push("fillStyle",h.fillStyle),D.push("textBaseline","middle"),D.push("textAlign","center");const k=.5-y;let V=y*U+k*E;const J=[],rt=[];let $=0,tt=0,nt=0,ht=0,L;for(let P=0,q=S.length;P<q;P+=2){const et=S[P];if(et===`
`){tt+=$,$=0,V=y*U+k*E,++ht;continue}const lt=S[P+1]||d.font;lt!==L&&(r&&J.push("font",lt),s&&rt.push("font",lt),L=lt),$=Math.max($,w[nt]);const b=[et,V+k*C[nt]+y*(C[nt]-z[ht]),.5*(E+$)+tt];V+=C[nt],r&&J.push("strokeText",b),s&&rt.push("fillText",b),++nt}return Array.prototype.push.apply(D,J),Array.prototype.push.apply(D,rt),this.labels_[o]=B,B}replayTextBackground_(t,n,s,r,o,c,h){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,n),c&&(this.alignAndScaleFill_=c[2],t.fillStyle=c[1],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())}calculateImageOrLabelDimensions_(t,n,s,r,o,c,h,d,_,m,y,E,S,x,R,C){h*=E[0],d*=E[1];let w=s-h,z=r-d;const U=o+_>t?t-_:o,D=c+m>n?n-m:c,G=x[3]+U*E[0]+x[1],K=x[0]+D*E[1]+x[2],B=w-x[3],k=z-x[0];(R||y!==0)&&(os[0]=B,us[0]=B,os[1]=k,Si[1]=k,Si[0]=B+G,xi[0]=Si[0],xi[1]=k+K,us[1]=xi[1]);let V;return y!==0?(V=Oi(Fn(),s,r,1,1,y,-s,-r),Ee(V,os),Ee(V,Si),Ee(V,xi),Ee(V,us),Ss(Math.min(os[0],Si[0],xi[0],us[0]),Math.min(os[1],Si[1],xi[1],us[1]),Math.max(os[0],Si[0],xi[0],us[0]),Math.max(os[1],Si[1],xi[1],us[1]),na)):Ss(Math.min(B,B+G),Math.min(k,k+K),Math.max(B,B+G),Math.max(k,k+K),na),S&&(w=Math.round(w),z=Math.round(z)),{drawImageX:w,drawImageY:z,drawImageW:U,drawImageH:D,originX:_,originY:m,declutterBox:{minX:na[0],minY:na[1],maxX:na[2],maxY:na[3],value:C},canvasTransform:V,scale:E}}replayImageOrLabel_(t,n,s,r,o,c,h){const d=!!(c||h),_=r.declutterBox,m=h?h[2]*r.scale[0]/2:0;return _.minX-m<=n[0]&&_.maxX+m>=0&&_.minY-m<=n[1]&&_.maxY+m>=0&&(d&&this.replayTextBackground_(t,os,Si,xi,us,c,h),TT(t,r.canvasTransform,o,s,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){const n=this.alignAndScaleFill_;if(n){const s=Ee(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(s[0]%r,s[1]%r),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],n[1]&&(t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6]))}drawLabelWithPointPlacement_(t,n,s,r){const o=this.textStates[n],c=this.createLabel(t,n,r,s),h=this.strokeStates[s],d=this.pixelRatio,_=ld(Array.isArray(t)?t[0]:t,o.textAlign||Zr),m=Ku[o.textBaseline||ju],y=h&&h.lineWidth?h.lineWidth:0,E=c.width/d-2*o.scale[0],S=_*E+2*(.5-_)*y,x=m*c.height/d+2*(.5-m)*y;return{label:c,anchorX:S,anchorY:x}}execute_(t,n,s,r,o,c,h,d){const _=this.zIndexContext_;let m;this.pixelCoordinates_&&Rs(s,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=vs(this.coordinates,0,this.coordinates.length,2,s,this.pixelCoordinates_),Sx(this.renderedTransform_,s));let y=0;const E=r.length;let S=0,x,R,C,w,z,U,D,G,K,B,k,V,J,rt=0,$=0;const tt=this.coordinateCache_,nt=this.viewRotation_,ht=Math.round(Math.atan2(-s[1],s[0])*1e12)/1e12,L={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:nt},P=this.instructions!=r||this.overlaps?0:200;let q,et,lt,b;for(;y<E;){const M=r[y];switch(M[0]){case ct.BEGIN_GEOMETRY:q=M[1],b=M[3],q.getGeometry()?h!==void 0&&!Qe(h,b.getExtent())?y=M[2]+1:++y:y=M[2],_&&(_.zIndex=M[4]);break;case ct.BEGIN_PATH:rt>P&&(this.fill_(t),rt=0),$>P&&(t.stroke(),$=0),!rt&&!$&&(t.beginPath(),z=NaN,U=NaN),++y;break;case ct.CIRCLE:S=M[1];const Q=m[S],st=m[S+1],ft=m[S+2],gt=m[S+3],Zt=ft-Q,Ot=gt-st,ue=Math.sqrt(Zt*Zt+Ot*Ot);t.moveTo(Q+ue,st),t.arc(Q,st,ue,0,2*Math.PI,!0),++y;break;case ct.CLOSE_PATH:t.closePath(),++y;break;case ct.CUSTOM:S=M[1],x=M[2];const $n=M[3],As=M[4],zi=M[5];L.geometry=$n,L.feature=q,y in tt||(tt[y]=[]);const Ie=tt[y];zi?zi(m,S,x,2,Ie):(Ie[0]=m[S],Ie[1]=m[S+1],Ie.length=2),_&&(_.zIndex=M[6]),As(Ie,L),++y;break;case ct.DRAW_IMAGE:S=M[1],x=M[2],K=M[3],R=M[4],C=M[5];let Me=M[6];const Ye=M[7],Ii=M[8],ti=M[9],ei=M[10];let wn=M[11];const Xn=M[12];let Ni=M[13];w=M[14]||"declutter";const se=M[15];if(!K&&M.length>=20){B=M[19],k=M[20],V=M[21],J=M[22];const de=this.drawLabelWithPointPlacement_(B,k,V,J);K=de.label,M[3]=K;const ni=M[23];R=(de.anchorX-ni)*this.pixelRatio,M[4]=R;const Ne=M[24];C=(de.anchorY-Ne)*this.pixelRatio,M[5]=C,Me=K.height,M[6]=Me,Ni=K.width,M[13]=Ni}let ve;M.length>25&&(ve=M[25]);let Ra,Ms,ws;M.length>17?(Ra=M[16],Ms=M[17],ws=M[18]):(Ra=el,Ms=null,ws=null),ei&&ht?wn+=nt:!ei&&!ht&&(wn-=nt);let fl=0;for(;S<x;S+=2){if(ve&&ve[fl++]<Ni/this.pixelRatio)continue;const de=this.calculateImageOrLabelDimensions_(K.width,K.height,m[S],m[S+1],Ni,Me,R,C,Ii,ti,wn,Xn,o,Ra,!!Ms||!!ws,q),ni=[t,n,K,de,Ye,Ms,ws];if(d){let Ne,Xe,ge;if(se){const kt=x-S;if(!se[kt]){se[kt]={args:ni,declutterMode:w};continue}const _e=se[kt];Ne=_e.args,Xe=_e.declutterMode,delete se[kt],ge=Ep(Ne)}let Dn,hn;if(Ne&&(Xe!=="declutter"||!d.collides(ge))&&(Dn=!0),(w!=="declutter"||!d.collides(de.declutterBox))&&(hn=!0),Xe==="declutter"&&w==="declutter"){const kt=Dn&&hn;Dn=kt,hn=kt}Dn&&(Xe!=="none"&&d.insert(ge),this.replayImageOrLabel_.apply(this,Ne)),hn&&(w!=="none"&&d.insert(de.declutterBox),this.replayImageOrLabel_.apply(this,ni))}else this.replayImageOrLabel_.apply(this,ni)}++y;break;case ct.DRAW_CHARS:const lo=M[1],ba=M[2],Aa=M[3],vc=M[4];J=M[5];const Os=M[6],we=M[7],On=M[8];V=M[9];const Se=M[10];B=M[11],Array.isArray(B)&&(B=B.reduce(CR,"")),k=M[12];const ao=[M[13],M[13]];w=M[14]||"declutter";const Sc=M[15],Ma=this.textStates[k],Bn=Ma.font,jn=[Ma.scale[0]*we,Ma.scale[1]*we];let Hn;Bn in this.widths_?Hn=this.widths_[Bn]:(Hn={},this.widths_[Bn]=Hn);const Pn=yg(m,lo,ba,2),Ds=Math.abs(jn[0])*np(Bn,B,Hn);if(vc||Ds<=Pn){const de=this.textStates[k].textAlign,ni=(Pn-Ds)*ld(B,de),Ne=SR(m,lo,ba,2,B,ni,Os,Math.abs(jn[0]),np,Bn,Hn,ht?0:this.viewRotation_,Sc);t:if(Ne){const Xe=[];let ge,Dn,hn,kt,_e;if(V)for(ge=0,Dn=Ne.length;ge<Dn;++ge){_e=Ne[ge],hn=_e[4],kt=this.createLabel(hn,k,"",V),R=_e[2]+(jn[0]<0?-Se:Se),C=Aa*kt.height+(.5-Aa)*2*Se*jn[1]/jn[0]-On;const tn=this.calculateImageOrLabelDimensions_(kt.width,kt.height,_e[0],_e[1],kt.width,kt.height,R,C,0,0,_e[3],ao,!1,el,!1,q);if(d&&w==="declutter"&&d.collides(tn.declutterBox))break t;Xe.push([t,n,kt,tn,1,null,null])}if(J)for(ge=0,Dn=Ne.length;ge<Dn;++ge){_e=Ne[ge],hn=_e[4],kt=this.createLabel(hn,k,J,""),R=_e[2],C=Aa*kt.height-On;const tn=this.calculateImageOrLabelDimensions_(kt.width,kt.height,_e[0],_e[1],kt.width,kt.height,R,C,0,0,_e[3],ao,!1,el,!1,q);if(d&&w==="declutter"&&d.collides(tn.declutterBox))break t;Xe.push([t,n,kt,tn,1,null,null])}d&&w!=="none"&&d.load(Xe.map(Ep));for(let tn=0,wa=Xe.length;tn<wa;++tn)this.replayImageOrLabel_.apply(this,Xe[tn])}}++y;break;case ct.END_GEOMETRY:if(c!==void 0){q=M[1];const de=c(q,b,w);if(de)return de}++y;break;case ct.FILL:P?rt++:this.fill_(t),++y;break;case ct.MOVE_TO_LINE_TO:for(S=M[1],x=M[2],et=m[S],lt=m[S+1],t.moveTo(et,lt),z=et+.5|0,U=lt+.5|0,S+=2;S<x;S+=2)et=m[S],lt=m[S+1],D=et+.5|0,G=lt+.5|0,(S==x-2||D!==z||G!==U)&&(t.lineTo(et,lt),z=D,U=G);++y;break;case ct.SET_FILL_STYLE:this.alignAndScaleFill_=M[2],rt&&(this.fill_(t),rt=0,$&&(t.stroke(),$=0)),t.fillStyle=M[1],++y;break;case ct.SET_STROKE_STYLE:$&&(t.stroke(),$=0),this.setStrokeStyle_(t,M),++y;break;case ct.STROKE:P?$++:t.stroke(),++y;break;default:++y;break}}rt&&this.fill_(t),$&&t.stroke()}execute(t,n,s,r,o,c){this.viewRotation_=r,this.execute_(t,n,s,this.instructions,o,void 0,void 0,c)}executeHitDetection(t,n,s,r,o){return this.viewRotation_=s,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,r,o)}}const Js=["Polygon","Circle","LineString","Image","Text","Default"],BE=["Image","Text"],RR=Js.filter(a=>!BE.includes(a));class bR{constructor(t,n,s,r,o,c,h){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=s,this.resolution_=n,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Fn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,h)}clip(t,n){const s=this.getClipCoords(n);t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(s[2],s[3]),t.lineTo(s[4],s[5]),t.lineTo(s[6],s[7]),t.clip()}createExecutors_(t,n){for(const s in t){let r=this.executorsByZIndex_[s];r===void 0&&(r={},this.executorsByZIndex_[s]=r);const o=t[s];for(const c in o){const h=o[c];r[c]=new TR(this.resolution_,this.pixelRatio_,this.overlaps_,h,n)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const s=this.executorsByZIndex_[n];for(let r=0,o=t.length;r<o;++r)if(t[r]in s)return!0}return!1}forEachFeatureAtCoordinate(t,n,s,r,o,c){r=Math.round(r);const h=r*2+1,d=Oi(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-s,-t[0],-t[1]),_=!this.hitDetectionContext_;_&&(this.hitDetectionContext_=fe(h,h));const m=this.hitDetectionContext_;m.canvas.width!==h||m.canvas.height!==h?(m.canvas.width=h,m.canvas.height=h):_||m.clearRect(0,0,h,h);let y;this.renderBuffer_!==void 0&&(y=Mn(),zr(y,t),zd(y,n*(this.renderBuffer_+r),y));const E=AR(r);let S;function x(G,K,B){const k=m.getImageData(0,0,h,h).data;for(let V=0,J=E.length;V<J;V++)if(k[E[V]]>0){if(!c||B==="none"||S!=="Image"&&S!=="Text"||c.includes(G)){const rt=(E[V]-3)/4,$=r-rt%h,tt=r-(rt/h|0),nt=o(G,K,$*$+tt*tt);if(nt)return nt}m.clearRect(0,0,h,h);break}}const R=Object.keys(this.executorsByZIndex_).map(Number);R.sort(bi);let C,w,z,U,D;for(C=R.length-1;C>=0;--C){const G=R[C].toString();for(z=this.executorsByZIndex_[G],w=Js.length-1;w>=0;--w)if(S=Js[w],U=z[S],U!==void 0&&(D=U.executeHitDetection(m,d,s,x,y),D))return D}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const s=n[0],r=n[1],o=n[2],c=n[3],h=[s,r,s,c,o,c,o,r];return vs(h,0,8,2,t,h),h}isEmpty(){return ll(this.executorsByZIndex_)}execute(t,n,s,r,o,c,h){const d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(h?vS:bi),c=c||Js;const _=Js.length;for(let m=0,y=d.length;m<y;++m){const E=d[m].toString(),S=this.executorsByZIndex_[E];for(let x=0,R=c.length;x<R;++x){const C=c[x],w=S[C];if(w!==void 0){const z=h===null?void 0:w.getZIndexContext(),U=z?z.getContext():t,D=this.maxExtent_&&C!=="Image"&&C!=="Text";if(D&&(U.save(),this.clip(U,s)),!z||C==="Text"||C==="Image"?w.execute(U,n,s,r,o,h):z.pushFunction(G=>w.execute(G,n,s,r,o,h)),D&&U.restore(),z){z.offset();const G=d[m]*_+Js.indexOf(C);this.deferredZIndexContexts_[G]||(this.deferredZIndexContexts_[G]=[]),this.deferredZIndexContexts_[G].push(z)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(bi);for(let s=0,r=n.length;s<r;++s)t[n[s]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),t[n[s]].length=0}}const ad={};function AR(a){if(ad[a]!==void 0)return ad[a];const t=a*2+1,n=a*a,s=new Array(n+1);for(let o=0;o<=a;++o)for(let c=0;c<=a;++c){const h=o*o+c*c;if(h>n)break;let d=s[h];d||(d=[],s[h]=d),d.push(((a+o)*t+(a+c))*4+3),o>0&&d.push(((a-o)*t+(a+c))*4+3),c>0&&(d.push(((a+o)*t+(a-c))*4+3),o>0&&d.push(((a-o)*t+(a-c))*4+3))}const r=[];for(let o=0,c=s.length;o<c;++o)s[o]&&r.push(...s[o]);return ad[a]=r,r}class MR extends XE{constructor(t,n,s,r,o,c,h){super(),this.context_=t,this.pixelRatio_=n,this.extent_=s,this.transform_=r,this.transformRotation_=r?tc(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=c,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Fn()}drawImages_(t,n,s,r){if(!this.image_)return;const o=vs(t,n,s,r,this.transform_,this.pixelCoordinates_),c=this.context_,h=this.tmpLocalTransform_,d=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=d*this.imageOpacity_);let _=this.imageRotation_;this.transformRotation_===0&&(_-=this.viewRotation_),this.imageRotateWithView_&&(_+=this.viewRotation_);for(let m=0,y=o.length;m<y;m+=2){const E=o[m]-this.imageAnchorX_,S=o[m+1]-this.imageAnchorY_;if(_!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const x=E+this.imageAnchorX_,R=S+this.imageAnchorY_;Oi(h,x,R,1,1,_,-x,-R),c.save(),c.transform.apply(c,h),c.translate(x,R),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.restore()}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,E,S,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=d)}drawText_(t,n,s,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=vs(t,n,s,r,this.transform_,this.pixelCoordinates_),c=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);n<s;n+=r){const d=o[n]+this.textOffsetX_,_=o[n+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.save(),c.translate(d-this.textOffsetX_,_-this.textOffsetY_),c.rotate(h),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.restore()):(this.textStrokeState_&&c.strokeText(this.text_,d,_),this.textFillState_&&c.fillText(this.text_,d,_))}}moveToLineTo_(t,n,s,r,o){const c=this.context_,h=vs(t,n,s,r,this.transform_,this.pixelCoordinates_);c.moveTo(h[0],h[1]);let d=h.length;o&&(d-=2);for(let _=2;_<d;_+=2)c.lineTo(h[_],h[_+1]);return o&&c.closePath(),s}drawRings_(t,n,s,r){for(let o=0,c=s.length;o<c;++o)n=this.moveToLineTo_(t,n,s[o],r,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=wx(t,this.transform_,this.pixelCoordinates_),s=n[2]-n[0],r=n[3]-n[1],o=Math.sqrt(s*s+r*r),c=this.context_;c.beginPath(),c.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const s=n.getGeometryFunction()(t);s&&(this.setStyle(n),this.drawGeometry(s))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let s=0,r=n.length;s<r;++s)this.drawGeometry(n[s])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(Qe(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const s=this.context_,r=t.getFlatCoordinates();let o=0;const c=t.getEnds(),h=t.getStride();s.beginPath();for(let d=0,_=c.length;d<_;++d)o=this.moveToLineTo_(r,o,c[d],h,!1);s.stroke()}if(this.text_!==""){const s=t.getFlatMidpoints();this.drawText_(s,0,s.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getOrientedFlatCoordinates();let r=0;const o=t.getEndss(),c=t.getStride();n.beginPath();for(let h=0,d=o.length;h<d;++h){const _=o[h];r=this.drawRings_(s,r,_,c)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,s=this.contextFillState_;s?s.fillStyle!=t.fillStyle&&(s.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=t.lineCap&&(s.lineCap=t.lineCap,n.lineCap=t.lineCap),Rs(s.lineDash,t.lineDash)||n.setLineDash(s.lineDash=t.lineDash),s.lineDashOffset!=t.lineDashOffset&&(s.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),s.lineJoin!=t.lineJoin&&(s.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),s.lineWidth!=t.lineWidth&&(s.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),s.miterLimit!=t.miterLimit&&(s.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),s.strokeStyle!=t.strokeStyle&&(s.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,s=this.contextTextState_,r=t.textAlign?t.textAlign:Zr;s?(s.font!=t.font&&(s.font=t.font,n.font=t.font),s.textAlign!=r&&(s.textAlign=r,n.textAlign=r),s.textBaseline!=t.textBaseline&&(s.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=r,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const s=t.getColor();this.fillState_={fillStyle:Qn(s||We)}}if(!n)this.strokeState_=null;else{const s=n.getColor(),r=n.getLineCap(),o=n.getLineDash(),c=n.getLineDashOffset(),h=n.getLineJoin(),d=n.getWidth(),_=n.getMiterLimit(),m=o||Ai;this.strokeState_={lineCap:r!==void 0?r:Ea,lineDash:this.pixelRatio_===1?m:m.map(y=>y*this.pixelRatio_),lineDashOffset:(c||Mi)*this.pixelRatio_,lineJoin:h!==void 0?h:va,lineWidth:(d!==void 0?d:Kr)*this.pixelRatio_,miterLimit:_!==void 0?_:Hr,strokeStyle:Qn(s||Pr)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const s=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*s,this.imageAnchorY_=r[1]*s,this.imageHeight_=n[1]*s,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const c=t.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/s,c[1]*this.pixelRatio_/s],this.imageWidth_=n[0]*s}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const S=n.getColor();this.textFillState_={fillStyle:Qn(S||We)}}const s=t.getStroke();if(!s)this.textStrokeState_=null;else{const S=s.getColor(),x=s.getLineCap(),R=s.getLineDash(),C=s.getLineDashOffset(),w=s.getLineJoin(),z=s.getWidth(),U=s.getMiterLimit();this.textStrokeState_={lineCap:x!==void 0?x:Ea,lineDash:R||Ai,lineDashOffset:C||Mi,lineJoin:w!==void 0?w:va,lineWidth:z!==void 0?z:Kr,miterLimit:U!==void 0?U:Hr,strokeStyle:Qn(S||Pr)}}const r=t.getFont(),o=t.getOffsetX(),c=t.getOffsetY(),h=t.getRotateWithView(),d=t.getRotation(),_=t.getScaleArray(),m=t.getText(),y=t.getTextAlign(),E=t.getTextBaseline();this.textState_={font:r!==void 0?r:TE,textAlign:y!==void 0?y:Zr,textBaseline:E!==void 0?E:ju},this.text_=m!==void 0?Array.isArray(m)?m.reduce((S,x,R)=>S+=R%2?" ":x,""):m:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=d!==void 0?d:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}}}const Wn=.5;function wR(a,t,n,s,r,o,c,h,d){const _=r,m=a[0]*Wn,y=a[1]*Wn,E=fe(m,y);E.imageSmoothingEnabled=!1;const S=E.canvas,x=new MR(E,Wn,r,null,c,h,null),R=n.length,C=Math.floor((256*256*256-1)/R),w={};for(let U=1;U<=R;++U){const D=n[U-1],G=D.getStyleFunction()||s;if(!G)continue;let K=G(D,o);if(!K)continue;Array.isArray(K)||(K=[K]);const k=(U*C).toString(16).padStart(7,"#00000");for(let V=0,J=K.length;V<J;++V){const rt=K[V],$=rt.getGeometryFunction()(D);if(!$||!Qe(_,$.getExtent()))continue;const tt=rt.clone(),nt=tt.getFill();nt&&nt.setColor(k);const ht=tt.getStroke();ht&&(ht.setColor(k),ht.setLineDash(null)),tt.setText(void 0);const L=rt.getImage();if(L){const lt=L.getImageSize();if(!lt)continue;const b=fe(lt[0],lt[1],void 0,{alpha:!1}),M=b.canvas;b.fillStyle=k,b.fillRect(0,0,M.width,M.height),tt.setImage(new _c({img:M,anchor:L.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:L.getOrigin(),opacity:1,size:L.getSize(),scale:L.getScale(),rotation:L.getRotation(),rotateWithView:L.getRotateWithView()}))}const P=tt.getZIndex()||0;let q=w[P];q||(q={},w[P]=q,q.Polygon=[],q.Circle=[],q.LineString=[],q.Point=[]);const et=$.getType();if(et==="GeometryCollection"){const lt=$.getGeometriesArrayRecursive();for(let b=0,M=lt.length;b<M;++b){const W=lt[b];q[W.getType().replace("Multi","")].push(W,tt)}}else q[et.replace("Multi","")].push($,tt)}}const z=Object.keys(w).map(Number).sort(bi);for(let U=0,D=z.length;U<D;++U){const G=w[z[U]];for(const K in G){const B=G[K];for(let k=0,V=B.length;k<V;k+=2){x.setStyle(B[k+1]);for(let J=0,rt=t.length;J<rt;++J)x.setTransform(t[J]),x.drawGeometry(B[k])}}}return E.getImageData(0,0,S.width,S.height)}function OR(a,t,n){const s=[];if(n){const r=Math.floor(Math.round(a[0])*Wn),o=Math.floor(Math.round(a[1])*Wn),c=(Qt(r,0,n.width-1)+Qt(o,0,n.height-1)*n.width)*4,h=n.data[c],d=n.data[c+1],m=n.data[c+2]+256*(d+256*h),y=Math.floor((256*256*256-1)/t.length);m&&m%y===0&&s.push(t[m/y-1])}return s}const DR=.5,jE={Point:YR,LineString:GR,Polygon:BR,MultiPoint:XR,MultiLineString:FR,MultiPolygon:UR,GeometryCollection:NR,Circle:zR};function LR(a,t){return parseInt(zt(a),10)-parseInt(zt(t),10)}function Sp(a,t){const n=HE(a,t);return n*n}function HE(a,t){return DR*a/t}function zR(a,t,n,s,r){const o=n.getFill(),c=n.getStroke();if(o||c){const d=a.getBuilder(n.getZIndex(),"Circle");d.setFillStrokeStyle(o,c),d.drawCircle(t,s,r)}const h=n.getText();if(h&&h.getText()){const d=a.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s)}}function xp(a,t,n,s,r,o,c,h){const d=[],_=n.getImage();if(_){let E=!0;const S=_.getImageState();S==xt.LOADED||S==xt.ERROR?E=!1:S==xt.IDLE&&_.load(),E&&d.push(_.ready())}const m=n.getFill();m&&m.loading()&&d.push(m.ready());const y=d.length>0;return y&&Promise.all(d).then(()=>r(null)),IR(a,t,n,s,o,c,h),y}function IR(a,t,n,s,r,o,c){const h=n.getGeometryFunction()(t);if(!h)return;const d=h.simplifyTransformed(s,r);if(n.getRenderer())PE(a,d,n,t,c);else{const m=jE[d.getType()];m(a,d,n,t,c,o)}}function PE(a,t,n,s,r){if(t.getType()=="GeometryCollection"){const c=t.getGeometries();for(let h=0,d=c.length;h<d;++h)PE(a,c[h],n,s,r);return}a.getBuilder(n.getZIndex(),"Default").drawCustom(t,s,n.getRenderer(),n.getHitDetectionRenderer(),r)}function NR(a,t,n,s,r,o){const c=t.getGeometriesArray();let h,d;for(h=0,d=c.length;h<d;++h){const _=jE[c[h].getType()];_(a,c[h],n,s,r,o)}}function GR(a,t,n,s,r){const o=n.getStroke();if(o){const h=a.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawLineString(t,s,r)}const c=n.getText();if(c&&c.getText()){const h=a.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,r)}}function FR(a,t,n,s,r){const o=n.getStroke();if(o){const h=a.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawMultiLineString(t,s,r)}const c=n.getText();if(c&&c.getText()){const h=a.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,r)}}function UR(a,t,n,s,r){const o=n.getFill(),c=n.getStroke();if(c||o){const d=a.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(o,c),d.drawMultiPolygon(t,s,r)}const h=n.getText();if(h&&h.getText()){const d=a.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,r)}}function YR(a,t,n,s,r,o){const c=n.getImage(),h=n.getText(),d=h&&h.getText(),_=o&&c&&d?{}:void 0;if(c){if(c.getImageState()!=xt.LOADED)return;const m=a.getBuilder(n.getZIndex(),"Image");m.setImageStyle(c,_),m.drawPoint(t,s,r)}if(d){const m=a.getBuilder(n.getZIndex(),"Text");m.setTextStyle(h,_),m.drawText(t,s,r)}}function XR(a,t,n,s,r,o){const c=n.getImage(),h=c&&c.getOpacity()!==0,d=n.getText(),_=d&&d.getText(),m=o&&h&&_?{}:void 0;if(h){if(c.getImageState()!=xt.LOADED)return;const y=a.getBuilder(n.getZIndex(),"Image");y.setImageStyle(c,m),y.drawMultiPoint(t,s,r)}if(_){const y=a.getBuilder(n.getZIndex(),"Text");y.setTextStyle(d,m),y.drawText(t,s,r)}}function BR(a,t,n,s,r){const o=n.getFill(),c=n.getStroke();if(o||c){const d=a.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(o,c),d.drawPolygon(t,s,r)}const h=n.getText();if(h&&h.getText()){const d=a.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,r)}}class jR extends YE{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Mn(),this.wrappedRenderedExtent_=Mn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,s){const r=n.extent,o=n.viewState,c=o.center,h=o.resolution,d=o.projection,_=o.rotation,m=d.getExtent(),y=this.getLayer().getSource(),E=this.getLayer().getDeclutter(),S=n.pixelRatio,x=n.viewHints,R=!(x[ze.ANIMATING]||x[ze.INTERACTING]),C=this.context,w=Math.round(Xt(r)/h*S),z=Math.round(Ue(r)/h*S),U=y.getWrapX()&&d.canWrapX(),D=U?Xt(m):null,G=U?Math.ceil((r[2]-m[2])/D)+1:1;let K=U?Math.floor((r[0]-m[0])/D):0;do{let B=this.getRenderTransform(c,h,0,S,w,z,K*D);n.declutter&&(B=B.slice(0)),t.execute(C,[C.canvas.width,C.canvas.height],B,_,R,s===void 0?Js:s?BE:RR,s?E&&n.declutter[E]:void 0)}while(++K<G)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=fe(this.context.canvas.width,this.context.canvas.height,_p))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,hc(this.context),_p.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){const s=t.layerStatesArray[t.layerIndex];this.opacity_=s.opacity;const r=t.viewState;this.prepareContainer(t,n);const o=this.context,c=this.replayGroup_;let h=c&&!c.isEmpty();if(!h&&!(this.getLayer().hasListener(Rn.PRERENDER)||this.getLayer().hasListener(Rn.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(o,t),r.projection,this.clipped_=!1,h&&s.extent&&this.clipping){const d=_s(s.extent);h=Qe(d,t.extent),this.clipped_=h&&!oa(d,t.extent),this.clipped_&&this.clipUnrotated(o,t,d)}return h&&this.renderWorlds(c,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&o.restore(),this.postRender(o,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const s=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,c=this.renderedRotation_,h=this.renderedProjection_,d=this.wrappedRenderedExtent_,_=this.getLayer(),m=[],y=s[0]*Wn,E=s[1]*Wn;m.push(this.getRenderTransform(r,o,c,Wn,y,E,0).slice());const S=_.getSource(),x=h.getExtent();if(S.getWrapX()&&h.canWrapX()&&!oa(x,d)){let R=d[0];const C=Xt(x);let w=0,z;for(;R<x[0];)--w,z=C*w,m.push(this.getRenderTransform(r,o,c,Wn,y,E,z).slice()),R+=C;for(w=0,R=d[2];R>x[2];)++w,z=C*w,m.push(this.getRenderTransform(r,o,c,Wn,y,E,z).slice()),R-=C}this.hitDetectionImageData_=wR(s,m,this.renderedFeatures_,_.getStyleFunction(),d,o,c,Sp(o,this.renderedPixelRatio_))}n(OR(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,s,r,o){if(!this.replayGroup_)return;const c=n.viewState.resolution,h=n.viewState.rotation,d=this.getLayer(),_={},m=function(E,S,x){const R=zt(E),C=_[R];if(C){if(C!==!0&&x<C.distanceSq){if(x===0)return _[R]=!0,o.splice(o.lastIndexOf(C),1),r(E,d,S);C.geometry=S,C.distanceSq=x}}else{if(x===0)return _[R]=!0,r(E,d,S);o.push(_[R]={feature:E,layer:d,geometry:S,distanceSq:x,callback:r})}},y=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,c,h,s,m,y?n.declutter?.[y]?.all().map(E=>E.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),s=n.getSource();if(!s)return!1;const r=t.viewHints[ze.ANIMATING],o=t.viewHints[ze.INTERACTING],c=n.getUpdateWhileAnimating(),h=n.getUpdateWhileInteracting();if(this.ready&&!c&&r||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=t.extent,_=t.viewState,m=_.projection,y=_.resolution,E=t.pixelRatio,S=n.getRevision(),x=n.getRenderBuffer();let R=n.getRenderOrder();R===void 0&&(R=LR);const C=_.center.slice(),w=zd(d,x*y),z=w.slice(),U=[w.slice()],D=m.getExtent();if(s.getWrapX()&&m.canWrapX()&&!oa(D,t.extent)){const nt=Xt(D),ht=Math.max(Xt(w)/2,nt);w[0]=D[0]-ht,w[2]=D[2]+ht,jp(C,m);const L=Xp(U[0],m);L[0]<D[0]&&L[2]<D[2]?U.push([L[0]+nt,L[1],L[2]+nt,L[3]]):L[0]>D[0]&&L[2]>D[2]&&U.push([L[0]-nt,L[1],L[2]-nt,L[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==S&&this.renderedRenderOrder_==R&&this.renderedFrameDeclutter_===!!t.declutter&&oa(this.wrappedRenderedExtent_,w))return Rs(this.renderedExtent_,z)||(this.hitDetectionImageData_=null,this.renderedExtent_=z),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const G=new vR(HE(y,E),w,y,E);let K;for(let nt=0,ht=U.length;nt<ht;++nt)s.loadFeatures(U[nt],y,m);const B=Sp(y,E);let k=!0;const V=(nt,ht)=>{let L;const P=nt.getStyleFunction()||n.getStyleFunction();if(P&&(L=P(nt,y)),L){const q=this.renderFeature(nt,B,L,G,K,this.getLayer().getDeclutter(),ht);k=k&&!q}},J=Qp(w),rt=s.getFeaturesInExtent(J);R&&rt.sort(R);for(let nt=0,ht=rt.length;nt<ht;++nt)V(rt[nt],nt);this.renderedFeatures_=rt,this.ready=k;const $=G.finish(),tt=new bR(w,y,E,s.getOverlaps(),$,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=y,this.renderedRevision_=S,this.renderedRenderOrder_=R,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=z,this.wrappedRenderedExtent_=w,this.renderedCenter_=C,this.renderedProjection_=m,this.renderedPixelRatio_=E,this.replayGroup_=tt,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,s,r,o,c,h){if(!s)return!1;let d=!1;if(Array.isArray(s))for(let _=0,m=s.length;_<m;++_)d=xp(r,t,s[_],n,this.boundHandleStyleImageChange_,o,c,h)||d;else d=xp(r,t,s,n,this.boundHandleStyleImageChange_,o,c,h);return d}}class Cp extends LE{constructor(t){super(t)}createRenderer(){return new jR(this)}}let HR=!1;function PR(a,t,n,s,r,o,c){const h=new XMLHttpRequest;h.open("GET",typeof a=="function"?a(n,s,r):a,!0),t.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=HR,h.onload=function(d){if(!h.status||h.status>=200&&h.status<300){const _=t.getType();try{let m;_=="text"||_=="json"?m=h.responseText:_=="xml"?m=h.responseXML||h.responseText:_=="arraybuffer"&&(m=h.response),m?o(t.readFeatures(m,{extent:n,featureProjection:r}),t.readProjection(m)):c()}catch{c()}}else c()},h.onerror=c,h.send()}function Tp(a,t){return function(n,s,r,o,c){PR(a,t,n,s,r,(h,d)=>{this.addFeatures(h),o!==void 0&&o(h)},()=>{this.changed(),c!==void 0&&c()})}}function ZR(a,t){return[[-1/0,-1/0,1/0,1/0]]}class pc extends Yn{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new pc(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const s=this.getStyle();return s&&t.setStyle(s),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Kt(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=wt(t,Et.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?KR(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function KR(a){if(typeof a=="function")return a;let t;return Array.isArray(a)?t=a:(Gt(typeof a.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[a]),function(){return t}}function ZE(a,t,n,s){const r=[];let o=Mn();for(let c=0,h=n.length;c<h;++c){const d=n[c];o=Nd(a,t,d[0],s),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=d[d.length-1]}return r}function ku(a,t,n,s,r,o,c){let h,d;const _=(n-t)/s;if(_===1)h=t;else if(_===2)h=t,d=r;else if(_!==0){let m=a[t],y=a[t+1],E=0;const S=[0];for(let C=t+s;C<n;C+=s){const w=a[C],z=a[C+1];E+=Math.sqrt((w-m)*(w-m)+(z-y)*(z-y)),S.push(E),m=w,y=z}const x=r*E,R=ES(S,x);R<0?(d=(x-S[-R-2])/(S[-R-1]-S[-R-2]),h=t+(-R-2)*s):h=t+R*s}c=c>1?c:2,o=o||new Array(c);for(let m=0;m<c;++m)o[m]=h===void 0?NaN:d===void 0?a[h+m]:un(a[h+m],a[h+s+m],d);return o}function Md(a,t,n,s,r,o){if(n==t)return null;let c;if(r<a[t+s-1])return o?(c=a.slice(t,t+s),c[s-1]=r,c):null;if(a[n-1]<r)return o?(c=a.slice(n-s,n),c[s-1]=r,c):null;if(r==a[t+s-1])return a.slice(t,t+s);let h=t/s,d=n/s;for(;h<d;){const E=h+d>>1;r<a[(E+1)*s-1]?d=E:h=E+1}const _=a[h*s-1];if(r==_)return a.slice((h-1)*s,(h-1)*s+s);const m=a[(h+1)*s-1],y=(r-_)/(m-_);c=[];for(let E=0;E<s-1;++E)c.push(un(a[(h-1)*s+E],a[h*s+E],y));return c.push(r),c}function kR(a,t,n,s,r,o,c){if(c)return Md(a,t,n[n.length-1],s,r,o);let h;if(r<a[s-1])return o?(h=a.slice(0,s),h[s-1]=r,h):null;if(a[a.length-1]<r)return o?(h=a.slice(a.length-s),h[s-1]=r,h):null;for(let d=0,_=n.length;d<_;++d){const m=n[d];if(t!=m){if(r<a[t+s-1])return null;if(r<=a[m-1])return Md(a,t,m,s,r,!1);t=m}}return null}class qu extends tE{constructor(t){super(),this.geometries_=t,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Kt),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const t=this.geometries_;for(let n=0,s=t.length;n<s;++n)this.changeEventsKeys_.push(wt(t[n],Et.CHANGE,this.changed,this))}clone(){const t=new qu(rd(this.geometries_));return t.applyProperties(this),t}closestPointXY(t,n,s,r){if(r<ol(this.getExtent(),t,n))return r;const o=this.geometries_;for(let c=0,h=o.length;c<h;++c)r=o[c].closestPointXY(t,n,s,r);return r}containsXY(t,n){const s=this.geometries_;for(let r=0,o=s.length;r<o;++r)if(s[r].containsXY(t,n))return!0;return!1}computeExtent(t){Qr(t);const n=this.geometries_;for(let s=0,r=n.length;s<r;++s)Gp(t,n[s].getExtent());return t}getGeometries(){return rd(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const n=this.geometries_;for(let s=0,r=n.length;s<r;++s)n[s].getType()===this.getType()?t=t.concat(n[s].getGeometriesArrayRecursive()):t.push(n[s]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],s=this.geometries_;let r=!1;for(let o=0,c=s.length;o<c;++o){const h=s[o],d=h.getSimplifiedGeometry(t);n.push(d),d!==h&&(r=!0)}return r?new qu(n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getType(){return"GeometryCollection"}intersectsExtent(t){const n=this.geometries_;for(let s=0,r=n.length;s<r;++s)if(n[s].intersectsExtent(t))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(t,n){const s=this.geometries_;for(let r=0,o=s.length;r<o;++r)s[r].rotate(t,n);this.changed()}scale(t,n,s){s||(s=xs(this.getExtent()));const r=this.geometries_;for(let o=0,c=r.length;o<c;++o)r[o].scale(t,n,s);this.changed()}setGeometries(t){this.setGeometriesArray(rd(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const n=this.geometries_;for(let s=0,r=n.length;s<r;++s)n[s].applyTransform(t);this.changed()}translate(t,n){const s=this.geometries_;for(let r=0,o=s.length;r<o;++r)s[r].translate(t,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function rd(a){return a.map(t=>t.clone())}class xa extends ul{constructor(t,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendCoordinate(t){Jn(this.flatCoordinates,t),this.changed()}clone(){const t=new xa(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,r){return r<ol(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),kd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,n,s,r))}forEachSegment(t){return aE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,Md(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n))}getCoordinates(){return ms(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,n){return ku(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,this.stride)}getLength(){return yg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const n=[];return n.length=oc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new xa(n,"XY")}getType(){return"LineString"}intersectsExtent(t){return uc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,this.getExtent())}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=rc(this.flatCoordinates,0,t,this.stride),this.changed()}}class Vu extends ul{constructor(t,n,s){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,n);else if(n!==void 0&&s)this.setFlatCoordinates(n,t),this.ends_=s;else{const r=t,o=[],c=[];for(let d=0,_=r.length;d<_;++d){const m=r[d];Jn(o,m.getFlatCoordinates()),c.push(o.length)}const h=r.length===0?this.getLayout():r[0].getLayout();this.setFlatCoordinates(h,o),this.ends_=c}}appendLineString(t){Jn(this.flatCoordinates,t.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Vu(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,s,r){return r<ol(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Kd(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),qd(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,n,s,r))}getCoordinateAtM(t,n,s){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,s=s!==void 0?s:!1,kR(this.flatCoordinates,0,this.ends_,this.stride,t,n,s))}getCoordinates(){return Br(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new xa(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,n=this.ends_,s=this.layout,r=[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=n[c],_=new xa(t.slice(o,d),s);r.push(_),o=d}return r}getLength(){const t=this.ends_;let n=0,s=0;for(let r=0,o=t.length;r<o;++r)s+=yg(this.flatCoordinates,n,t[r],this.stride),n=t[r];return s}getFlatMidpoints(){const t=[],n=this.flatCoordinates;let s=0;const r=this.ends_,o=this.stride;for(let c=0,h=r.length;c<h;++c){const d=r[c],_=ku(n,s,d,o,.5);Jn(t,_),s=d}return t}getSimplifiedGeometryInternal(t){const n=[],s=[];return n.length=sE(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,s),new Vu(n,"XY",s)}getType(){return"MultiLineString"}intersectsExtent(t){return Ux(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=$r(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}class Ec extends ul{constructor(t,n){super(),n&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendPoint(t){Jn(this.flatCoordinates,t.getFlatCoordinates()),this.changed()}clone(){const t=new Ec(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,r){if(r<ol(this.getExtent(),t,n))return r;const o=this.flatCoordinates,c=this.stride;for(let h=0,d=o.length;h<d;h+=c){const _=il(t,n,o[h],o[h+1]);if(_<r){r=_;for(let m=0;m<c;++m)s[m]=o[h+m];s.length=c}}return r}getCoordinates(){return ms(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const n=this.flatCoordinates.length/this.stride;return t<0||n<=t?null:new ya(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,n=this.layout,s=this.stride,r=[];for(let o=0,c=t.length;o<c;o+=s){const h=new ya(t.slice(o,o+s),n);r.push(h)}return r}getType(){return"MultiPoint"}intersectsExtent(t){const n=this.flatCoordinates,s=this.stride;for(let r=0,o=n.length;r<o;r+=s){const c=n[r],h=n[r+1];if(Id(t,c,h))return!0}return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=rc(this.flatCoordinates,0,t,this.stride),this.changed()}}class Wu extends ul{constructor(t,n,s){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!s&&!Array.isArray(t[0])){const r=t,o=[],c=[];for(let h=0,d=r.length;h<d;++h){const _=r[h],m=o.length,y=_.getEnds();for(let E=0,S=y.length;E<S;++E)y[E]+=m;Jn(o,_.getFlatCoordinates()),c.push(y)}n=r.length===0?this.getLayout():r[0].getLayout(),t=o,s=c}n!==void 0&&s?(this.setFlatCoordinates(n,t),this.endss_=s):this.setCoordinates(t,n)}appendPolygon(t){let n;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),n=t.getEnds().slice(),this.endss_.push();else{const s=this.flatCoordinates.length;Jn(this.flatCoordinates,t.getFlatCoordinates()),n=t.getEnds().slice();for(let r=0,o=n.length;r<o;++r)n[r]+=s}this.endss_.push(n),this.changed()}clone(){const t=this.endss_.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=this.endss_[r].slice();const s=new Wu(this.flatCoordinates.slice(),this.layout,n);return s.applyProperties(this),s}closestPointXY(t,n,s,r){return r<ol(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Dx(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Lx(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,n,s,r))}containsXY(t,n){return Fx(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,n)}getArea(){return Ox(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),vd(n,0,this.endss_,this.stride,t)):n=this.flatCoordinates,Ed(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=ZE(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=lE(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Ec(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;uE(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=vd(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],s=[];return n.length=Nx(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,s),new Wu(n,"XY",s)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let n;if(t===0)n=0;else{const o=this.endss_[t-1];n=o[o.length-1]}const s=this.endss_[t].slice(),r=s[s.length-1];if(n!==0)for(let o=0,c=s.length;o<c;++o)s[o]-=n;return new Cs(this.flatCoordinates.slice(n,r),this.layout,s)}getPolygons(){const t=this.layout,n=this.flatCoordinates,s=this.endss_,r=[];let o=0;for(let c=0,h=s.length;c<h;++c){const d=s[c].slice(),_=d[d.length-1];if(o!==0)for(let y=0,E=d.length;y<E;++y)d[y]-=o;const m=new Cs(n.slice(o,_),t,d);r.push(m),o=_}return r}getType(){return"MultiPolygon"}intersectsExtent(t){return Yx(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const s=iE(this.flatCoordinates,0,t,this.stride,this.endss_);if(s.length===0)this.flatCoordinates.length=0;else{const r=s[s.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}}const Rp=Fn();class cn{constructor(t,n,s,r,o,c){this.styleFunction,this.extent_,this.id_=c,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=s||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Np(this.flatCoordinates_):Nd(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=xs(this.getExtent());this.flatInteriorPoints_=Qd(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=Bx(this.flatCoordinates_,this.ends_),n=ZE(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=lE(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=ku(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const s=this.ends_;for(let r=0,o=s.length;r<o;++r){const c=s[r],h=ku(t,n,c,2,.5);Jn(this.flatMidpoints_,h),n=c}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=ee(t);const n=t.getExtent(),s=t.getWorldExtent();if(n&&s){const r=Ue(s)/Ue(n);Oi(Rp,s[0],s[3],r,-r,0,0,0),vs(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Rp,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new cn(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Op((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const s=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":s.length=oc(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,s,0),r=[s.length];break;case"MultiLineString":r=[],s.length=sE(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,s,0,r);break;case"Polygon":r=[],s.length=Vd(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),s,0,r);break}return r&&(this.simplifiedGeometry_=new cn(this.type_,s,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}cn.prototype.getFlatCoordinates=cn.prototype.getOrientedFlatCoordinates;class bp{constructor(t){this.rbush_=new pE(t),this.items_={}}insert(t,n){const s={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(s),this.items_[zt(n)]=s}load(t,n){const s=new Array(n.length);for(let r=0,o=n.length;r<o;r++){const c=t[r],h=n[r],d={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:h};s[r]=d,this.items_[zt(h)]=d}this.rbush_.load(s)}remove(t){const n=zt(t),s=this.items_[n];return delete this.items_[n],this.rbush_.remove(s)!==null}update(t,n){const s=this.items_[zt(n)],r=[s.minX,s.minY,s.maxX,s.maxY];Ur(r,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let s;for(let r=0,o=t.length;r<o;r++)if(s=n(t[r]),s)return s;return s}isEmpty(){return ll(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return Ss(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}class KE extends Yn{constructor(t){super(),this.projection=ee(t.projection),this.attributions_=Ap(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(s,r){n.viewResolver=s,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=Ap(t),this.changed()}setState(t){this.state_=t,this.changed()}}function Ap(a){return a?typeof a=="function"?a:(Array.isArray(a)||(a=[a]),t=>a):null}const xn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class cs extends Di{constructor(t,n,s){super(t),this.feature=n,this.features=s}}class Mp extends KE{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Fr,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(Gt(this.format_,"`format` must be set when `url` is set"),this.loader_=Tp(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:ZR;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new bp:null,this.loadedExtentsRtree_=new bp,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let s,r;Array.isArray(t.features)?r=t.features:t.features&&(s=t.features,r=s.getArray()),!n&&s===void 0&&(s=new Cn(r)),r!==void 0&&this.addFeaturesInternal(r),s!==void 0&&this.bindFeaturesCollection_(s)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=zt(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const s=t.getGeometry();if(s){const r=s.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new cs(xn.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof cn||(this.featureChangeKeys_[t]=[wt(n,Et.CHANGE,this.handleFeatureChange_,this),wt(n,ga.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let s=!0;if(n.getId()!==void 0){const r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof cn){const o=this.idIndex_[r];o instanceof cn?Array.isArray(o)?o.push(n):this.idIndex_[r]=[o,n]:s=!1}else s=!1}return s&&(Gt(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),s}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],s=[],r=[];for(let o=0,c=t.length;o<c;o++){const h=t[o],d=zt(h);this.addToIndex_(d,h)&&s.push(h)}for(let o=0,c=s.length;o<c;o++){const h=s[o],d=zt(h);this.setupChangeEvents_(d,h);const _=h.getGeometry();if(_){const m=_.getExtent();n.push(m),r.push(h)}else this.nullGeometryFeatures_[d]=h}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(xn.ADDFEATURE))for(let o=0,c=s.length;o<c;o++)this.dispatchEvent(new cs(xn.ADDFEATURE,s[o]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(xn.ADDFEATURE,function(s){n||(n=!0,t.push(s.feature),n=!1)}),this.addEventListener(xn.REMOVEFEATURE,function(s){n||(n=!0,t.remove(s.feature),n=!1)}),t.addEventListener(qe.ADD,s=>{n||(n=!0,this.addFeature(s.element),n=!1)}),t.addEventListener(qe.REMOVE,s=>{n||(n=!0,this.removeFeature(s.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const s in this.featureChangeKeys_)this.featureChangeKeys_[s].forEach(Kt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(s=>{this.removeFeatureInternal(s)});for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new cs(xn.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const s=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(s,function(r){const o=r.getGeometry();if(o instanceof cn||o.intersectsCoordinate(t))return n(r)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(s){const r=s.getGeometry();if(r instanceof cn||r.intersectsExtent(t)){const o=n(s);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),ll(this.nullGeometryFeatures_)||Jn(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(s){n.push(s)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const r=Bp(t,n);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const s=t[0],r=t[1];let o=null;const c=[NaN,NaN];let h=1/0;const d=[-1/0,-1/0,1/0,1/0];return n=n||Gr,this.featuresRtree_.forEachInExtent(d,function(_){if(n(_)){const m=_.getGeometry(),y=h;if(h=m instanceof cn?0:m.closestPointXY(s,r,c,h),h<y){o=_;const E=Math.sqrt(h);d[0]=s-E,d[1]=r-E,d[2]=s+E,d[3]=r+E}}}),o}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,s=zt(n),r=n.getGeometry();if(!r)s in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[s]=n);else{const c=r.getExtent();s in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[s],this.featuresRtree_&&this.featuresRtree_.insert(c,n)):this.featuresRtree_&&this.featuresRtree_.update(c,n)}const o=n.getId();if(o!==void 0){const c=o.toString();this.idIndex_[c]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[c]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[s]=n;this.changed(),this.dispatchEvent(new cs(xn.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:zt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ll(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,s){const r=this.loadedExtentsRtree_,o=this.strategy_(t,n,s);for(let c=0,h=o.length;c<h;++c){const d=o[c];r.forEachInExtent(d,function(m){return oa(m.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new cs(xn.FEATURESLOADSTART)),this.loader_.call(this,d,n,s,m=>{--this.loadingExtentsCount_,this.dispatchEvent(new cs(xn.FEATURESLOADEND,void 0,m))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new cs(xn.FEATURESLOADERROR))}),r.insert(d,{extent:d.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_,s=n.forEachInExtent(t,function(r){if(Ur(r.extent,t))return r});s&&n.remove(s)}removeFeatures(t){let n=!1;for(let s=0,r=t.length;s<r;++s)n=this.removeFeatureInternal(t[s])||n;n&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=zt(t);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.featureChangeKeys_[n]?.forEach(Kt),delete this.featureChangeKeys_[n];const r=t.getId();if(r!==void 0){const o=r.toString(),c=this.idIndex_[o];c===t?delete this.idIndex_[o]:Array.isArray(c)&&(c.splice(c.indexOf(t),1),c.length===1&&(this.idIndex_[o]=c[0]))}return delete this.uidIndex_[n],this.hasListener(xn.REMOVEFEATURE)&&this.dispatchEvent(new cs(xn.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n];break}}setLoader(t){this.loader_=t}setUrl(t){Gt(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(Tp(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}const ia=[0,0,0],hs=5;class kE{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,Gt(xS(this.resolutions_,(r,o)=>o-r),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,Gt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const s=t.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=bs(s)),Gt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,Gt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:ig,Gt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,o)=>{const c=new mg(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(s){const h=this.getTileRangeForExtentAndZ(s,o);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c}):s&&this.calculateTileRanges_(s)}forEachTileCoord(t,n,s){const r=this.getTileRangeForExtentAndZ(t,n);for(let o=r.minX,c=r.maxX;o<=c;++o)for(let h=r.minY,d=r.maxY;h<=d;++h)s([n,o,h])}forEachTileCoordParentTileRange(t,n,s,r){let o,c,h,d=null,_=t[0]-1;for(this.zoomFactor_===2?(c=t[1],h=t[2]):d=this.getTileCoordExtent(t,r);_>=this.minZoom;){if(c!==void 0&&h!==void 0?(c=Math.floor(c/2),h=Math.floor(h/2),o=ea(c,c,h,h,s)):o=this.getTileRangeForExtentAndZ(d,_,s),n(_,o))return!0;--_}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,s){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const o=t[1]*2,c=t[2]*2;return ea(o,o+1,c,c+1,n)}const r=this.getTileCoordExtent(t,s||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,s){if(n>this.maxZoom||n<this.minZoom)return null;const r=t[0],o=t[1],c=t[2];if(n===r)return ea(o,c,o,c,s);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,n-r),_=Math.floor(o*d),m=Math.floor(c*d);if(n<r)return ea(_,_,m,m,s);const y=Math.floor(d*(o+1))-1,E=Math.floor(d*(c+1))-1;return ea(_,y,m,E,s)}const h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,n,s)}getTileRangeForExtentAndZ(t,n,s){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,ia);const r=ia[1],o=ia[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,ia);const c=ia[1],h=ia[2];return ea(r,c,o,h,s)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),s=this.getResolution(t[0]),r=$e(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*r[0]*s,n[1]-(t[2]+.5)*r[1]*s]}getTileCoordExtent(t,n){const s=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=$e(this.getTileSize(t[0]),this.tmpSize_),c=s[0]+t[1]*o[0]*r,h=s[1]-(t[2]+1)*o[1]*r,d=c+o[0]*r,_=h+o[1]*r;return Ss(c,h,d,_,n)}getTileCoordForCoordAndResolution(t,n,s){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,s)}getTileCoordForXYAndResolution_(t,n,s,r,o){const c=this.getZForResolution(s),h=s/this.getResolution(c),d=this.getOrigin(c),_=$e(this.getTileSize(c),this.tmpSize_);let m=h*(t-d[0])/s/_[0],y=h*(d[1]-n)/s/_[1];return r?(m=xu(m,hs)-1,y=xu(y,hs)-1):(m=Su(m,hs),y=Su(y,hs)),Zu(c,m,y,o)}getTileCoordForXYAndZ_(t,n,s,r,o){const c=this.getOrigin(s),h=this.getResolution(s),d=$e(this.getTileSize(s),this.tmpSize_);let _=(t-c[0])/h/d[0],m=(c[1]-n)/h/d[1];return r?(_=xu(_,hs)-1,m=xu(m,hs)-1):(_=Su(_,hs),m=Su(m,hs)),Zu(s,_,m,o)}getTileCoordForCoordAndZ(t,n,s){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,s)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const s=Ld(this.resolutions_,t,n||0);return Qt(s,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return rE(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,s=new Array(n);for(let r=this.minZoom;r<n;++r)s[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=s}}class qR extends kE{constructor(t){super({extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes}),this.matrixIds_=t.matrixIds}getMatrixId(t){return this.matrixIds_[t]}getMatrixIds(){return this.matrixIds_}}function wp(a,t){const n=[];Object.keys(t).forEach(function(r){t[r]!==null&&t[r]!==void 0&&n.push(r+"="+encodeURIComponent(t[r]))});const s=n.join("&");return a=a.replace(/[?&]$/,""),a+=a.includes("?")?"&":"?",a+s}const VR=/\{z\}/g,WR=/\{x\}/g,QR=/\{y\}/g,JR=/\{-y\}/g;function $R(a,t,n,s,r){return a.replace(VR,t.toString()).replace(WR,n.toString()).replace(QR,s.toString()).replace(JR,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-s).toString()})}function qE(a){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(a);if(n){const s=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let o;for(o=s;o<=r;++o)t.push(a.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(a),n){const s=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=s;r++)t.push(a.replace(n[0],r.toString()));return t}return t.push(a),t}function t2(a,t){return(function(n,s,r){if(!n)return;let o;const c=n[0];if(t){const h=t.getFullTileRange(c);h&&(o=h.getHeight()-1)}return $R(a,c,n[1],n[2],o)})}function e2(a,t){const n=a.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=t2(a[r],t);return wd(s)}function wd(a){return a.length===1?a[0]:(function(t,n,s){if(!t)return;const r=sR(t),o=ca(r,a.length);return a[o](t,n,s)})}function VE(a){let t=a.getDefaultTileGrid();return t||(t=l2(a),a.setDefaultTileGrid(t)),t}function n2(a,t,n){const s=t[0],r=a.getTileCoordCenter(t),o=WE(n);if(!_a(o,r)){const c=Xt(o),h=Math.ceil((o[0]-r[0])/c);return r[0]+=c*h,a.getTileCoordForCoordAndZ(r,s)}return t}function i2(a,t,n,s){s=s!==void 0?s:"top-left";const r=s2(a,t,n);return new kE({extent:a,origin:FS(a,s),resolutions:r,tileSize:n})}function s2(a,t,n,s){t=t!==void 0?t:Kx,n=$e(n!==void 0?n:ig);const r=Ue(a),o=Xt(a);s=s>0?s:Math.max(o/n[0],r/n[1]);const c=t+1,h=new Array(c);for(let d=0;d<c;++d)h[d]=s/Math.pow(2,d);return h}function l2(a,t,n,s){const r=WE(a);return i2(r,t,n,s)}function WE(a){a=ee(a);let t=a.getExtent();if(!t){const n=180*Fd.degrees/a.getMetersPerUnit();t=Ss(-n,-n,n,n)}return t}class a2 extends KE{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&$e(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=t.key||zt(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,s,r,o,c){return mt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:VE(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,s){const r=this.getTileGridForProjection(s),o=this.getTilePixelRatio(n),c=$e(r.getTileSize(t),this.tmpSize);return o==1?c:HC(c,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){const s=n!==void 0?n:this.getProjection(),r=n!==void 0?this.getTileGridForProjection(s):this.tileGrid||this.getTileGridForProjection(s);return this.getWrapX()&&s.isGlobal()&&(t=n2(r,t,s)),aR(t,r)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class r2 extends Di{constructor(t,n){super(t),this.tile=n}}const od={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class pg extends a2{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===pg.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,s=zt(n),r=n.getState();let o;r==ut.LOADING?(this.tileLoadingKeys_[s]=!0,o=od.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],o=r==ut.ERROR?od.TILELOADERROR:r==ut.LOADED?od.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new r2(o,n))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=qE(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(e2(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,s){}}class o2 extends pg{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:u2,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:GE,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!Ir(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||Ir(n,t)))return this.tileGrid;const s=zt(t);return s in this.tileGridForProjection||(this.tileGridForProjection[s]=VE(t)),this.tileGridForProjection[s]}createTile_(t,n,s,r,o,c){const h=[t,n,s],d=this.getTileCoordForTileUrlFunction(h,o),_=d?this.tileUrlFunction(d,r,o):void 0,m=new this.tileClass(h,_!==void 0?ut.IDLE:ut.EMPTY,_!==void 0?_:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=c,m.addEventListener(Et.CHANGE,this.handleTileChange.bind(this)),m}getTile(t,n,s,r,o,c){const h=this.getProjection();if(!h||!o||Ir(h,o))return this.getTileInternal(t,n,s,r,h||o);const d=[t,n,s],_=this.getKey(),m=this.getTileGridForProjection(h),y=this.getTileGridForProjection(o),E=this.getTileCoordForTileUrlFunction(d,o),S=new FE(h,m,o,y,d,E,this.getTilePixelRatio(r),this.getGutter(),(x,R,C,w)=>this.getTileInternal(x,R,C,w,h,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return S.key=_,S}getTileInternal(t,n,s,r,o,c){const h=this.getKey(),d=zu(this,h,t,n,s);if(c&&c.containsKey(d))return c.get(d);const _=this.createTile_(t,n,s,r,o,h);return c?.set(d,_),_}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,n){const s=ee(t);if(s){const r=zt(s);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}}function u2(a,t){if(Tn){const n=a.getCrossOrigin();let s="same-origin",r="same-origin";n==="anonymous"||n===""?(s="cors",r="omit"):n==="use-credentials"&&(s="cors",r="include"),fetch(t,{mode:s,credentials:r}).then(o=>{if(!o.ok)throw new Error(`HTTP ${o.status}`);return o.blob()}).then(o=>createImageBitmap(o)).then(o=>{const c=a.getImage();c.width=o.width,c.height=o.height,c.getContext("2d").drawImage(o,0,0),o.close?.(),c.dispatchEvent(new Event("load"))}).catch(()=>{a.getImage().dispatchEvent(new Event("error"))});return}a.getImage().src=t}class c2 extends o2{constructor(t){const n=t.requestEncoding!==void 0?t.requestEncoding:"KVP",s=t.tileGrid;let r=t.urls;r===void 0&&t.url!==void 0&&(r=qE(t.url)),super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:r,wrapX:t.wrapX!==void 0?t.wrapX:!1,transition:t.transition,zDirection:t.zDirection}),this.version_=t.version!==void 0?t.version:"1.0.0",this.format_=t.format!==void 0?t.format:"image/jpeg",this.dimensions_=t.dimensions!==void 0?t.dimensions:{},this.layer_=t.layer,this.matrixSet_=t.matrixSet,this.style_=t.style,this.requestEncoding_=n,this.setKey(this.getKeyForDimensions_()),r&&r.length>0&&(this.tileUrlFunction=wd(r.map(this.createFromWMTSTemplate.bind(this))))}setUrls(t){this.urls=t;const n=t.join(`
`);this.setTileUrlFunction(wd(t.map(this.createFromWMTSTemplate.bind(this))),n)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const t=this.urls?this.urls.slice(0):[];for(const n in this.dimensions_)t.push(n+"-"+this.dimensions_[n]);return t.join("/")}updateDimensions(t){Object.assign(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(t){const n=this.requestEncoding_,s={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};n=="KVP"&&Object.assign(s,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=n=="KVP"?wp(t,s):t.replace(/\{(\w+?)\}/g,function(c,h){return h.toLowerCase()in s?s[h.toLowerCase()]:c});const r=this.tileGrid,o=this.dimensions_;return(function(c,h,d){if(!c)return;const _={TileMatrix:r.getMatrixId(c[0]),TileCol:c[1],TileRow:c[2]};Object.assign(_,o);let m=t;return n=="KVP"?m=wp(m,_):m=m.replace(/\{(\w+?)\}/g,function(y,E){return encodeURIComponent(_[E])}),m})}}class h2{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=pc,this.supportedMediaTypes=null}getReadOptions(t,n){if(n){let s=n.dataProjection?ee(n.dataProjection):this.readProjection(t);n.extent&&s&&s.getUnits()==="tile-pixels"&&(s=ee(s),s.setWorldExtent(n.extent)),n={dataProjection:s,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},t)}getType(){return mt()}readFeature(t,n){return mt()}readFeatures(t,n){return mt()}readGeometry(t,n){return mt()}readProjection(t){return mt()}writeFeature(t,n){return mt()}writeFeatures(t,n){return mt()}writeGeometry(t,n){return mt()}}function Eg(a,t,n){const s=n?ee(n.featureProjection):null,r=n?ee(n.dataProjection):null;let o=a;if(s&&r&&!Ir(s,r)){t&&(o=a.clone());const c=t?s:r,h=t?r:s;c.getUnits()==="tile-pixels"?o.transform(c,h):o.applyTransform(Xr(c,h))}if(t&&n&&n.decimals!==void 0){const c=Math.pow(10,n.decimals),h=function(d){for(let _=0,m=d.length;_<m;++_)d[_]=Math.round(d[_]*c)/c;return d};o===a&&(o=a.clone()),o.applyTransform(h)}return o}const f2={Point:ya,LineString:xa,Polygon:Cs,MultiPoint:Ec,MultiLineString:Vu,MultiPolygon:Wu};function d2(a,t,n){return Array.isArray(t[0])?(uE(a,0,t,n)||(a=a.slice(),vd(a,0,t,n)),a):($d(a,0,t,n)||(a=a.slice(),Yu(a,0,t,n)),a)}function QE(a,t){const n=a.geometry;if(!n)return[];if(Array.isArray(n))return n.map(o=>QE({...a,geometry:o})).flat();const s=n.type==="MultiPolygon"?"Polygon":n.type;if(s==="GeometryCollection"||s==="Circle")throw new Error("Unsupported geometry type: "+s);const r=n.layout.length;return Eg(new cn(s,s==="Polygon"?d2(n.flatCoordinates,n.ends,r):n.flatCoordinates,n.ends?.flat(),r,a.properties||{},a.id).enableSimplifyTransformed(),!1,t)}function vg(a,t){if(!a)return null;if(Array.isArray(a)){const s=a.map(r=>vg(r,t));return new qu(s)}const n=f2[a.type];return Eg(new n(a.flatCoordinates,a.layout||"XY",a.ends),!1,t)}class g2 extends h2{constructor(){super()}getType(){return"json"}readFeature(t,n){return this.readFeatureFromObject(Lu(t),this.getReadOptions(t,n))}readFeatures(t,n){return this.readFeaturesFromObject(Lu(t),this.getReadOptions(t,n))}readFeatureFromObject(t,n){return mt()}readFeaturesFromObject(t,n){return mt()}readGeometry(t,n){return this.readGeometryFromObject(Lu(t),this.getReadOptions(t,n))}readGeometryFromObject(t,n){return mt()}readProjection(t){return this.readProjectionFromObject(Lu(t))}readProjectionFromObject(t){return mt()}writeFeature(t,n){return JSON.stringify(this.writeFeatureObject(t,n))}writeFeatureObject(t,n){return mt()}writeFeatures(t,n){return JSON.stringify(this.writeFeaturesObject(t,n))}writeFeaturesObject(t,n){return mt()}writeGeometry(t,n){return JSON.stringify(this.writeGeometryObject(t,n))}writeGeometryObject(t,n){return mt()}}function Lu(a){if(typeof a=="string"){const t=JSON.parse(a);return t||null}return a!==null?a:null}class _2 extends g2{constructor(t){t=t||{},super(),this.dataProjection=ee(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=ee(t.featureProjection)),t.featureClass&&(this.featureClass=t.featureClass),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,n){let s=null;t.type==="Feature"?s=t:s={type:"Feature",geometry:t,properties:null};const r=Sg(s.geometry);if(this.featureClass===cn)return QE({geometry:r,id:s.id,properties:s.properties},n);const o=new pc;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&s.geometry_name&&o.setGeometryName(s.geometry_name),o.setGeometry(vg(r,n)),"id"in s&&o.setId(s.id),s.properties&&o.setProperties(s.properties,!0),o}readFeaturesFromObject(t,n){const s=t;let r=null;if(s.type==="FeatureCollection"){const o=t;r=[];const c=o.features;for(let h=0,d=c.length;h<d;++h){const _=this.readFeatureFromObject(c[h],n);_&&r.push(_)}}else r=[this.readFeatureFromObject(t,n)];return r.flat()}readGeometryFromObject(t,n){return m2(t,n)}readProjectionFromObject(t){const n=t.crs;let s;if(n)if(n.type=="name")s=ee(n.properties.name);else if(n.type==="EPSG")s=ee("EPSG:"+n.properties.code);else throw new Error("Unknown SRS type");else s=this.dataProjection;return s}writeFeatureObject(t,n){n=this.adaptOptions(n);const s={type:"Feature",geometry:null,properties:null},r=t.getId();if(r!==void 0&&(s.id=r),!t.hasProperties())return s;const o=t.getProperties(),c=t.getGeometry();return c&&(s.geometry=Od(c,n),delete o[t.getGeometryName()]),ll(o)||(s.properties=o),s}writeFeaturesObject(t,n){n=this.adaptOptions(n);const s=[];for(let r=0,o=t.length;r<o;++r)s.push(this.writeFeatureObject(t[r],n));return{type:"FeatureCollection",features:s}}writeGeometryObject(t,n){return Od(t,this.adaptOptions(n))}}function Sg(a,t){if(!a)return null;let n;switch(a.type){case"Point":{n=p2(a);break}case"LineString":{n=E2(a);break}case"Polygon":{n=C2(a);break}case"MultiPoint":{n=S2(a);break}case"MultiLineString":{n=v2(a);break}case"MultiPolygon":{n=x2(a);break}case"GeometryCollection":{n=y2(a);break}default:throw new Error("Unsupported GeoJSON type: "+a.type)}return n}function m2(a,t){const n=Sg(a);return vg(n,t)}function y2(a,t){return a.geometries.map(function(s){return Sg(s)})}function p2(a){const t=a.coordinates;return{type:"Point",flatCoordinates:t,layout:cl(t.length)}}function E2(a){const t=a.coordinates,n=t.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:cl(t[0]?.length||2)}}function v2(a){const t=a.coordinates,n=t[0]?.[0]?.length||2,s=[],r=$r(s,0,t,n);return{type:"MultiLineString",flatCoordinates:s,ends:r,layout:cl(n)}}function S2(a){const t=a.coordinates;return{type:"MultiPoint",flatCoordinates:t.flat(),layout:cl(t[0]?.length||2)}}function x2(a){const t=a.coordinates,n=[],s=t[0]?.[0]?.[0].length||2,r=iE(n,0,t,s);return{type:"MultiPolygon",flatCoordinates:n,ends:r,layout:cl(s)}}function C2(a){const t=a.coordinates,n=[],s=t[0]?.[0]?.length,r=$r(n,0,t,s);return{type:"Polygon",flatCoordinates:n,ends:r,layout:cl(s)}}function Od(a,t){a=Eg(a,!0,t);const n=a.getType();let s;switch(n){case"Point":{s=w2(a);break}case"LineString":{s=R2(a);break}case"Polygon":{s=O2(a,t);break}case"MultiPoint":{s=A2(a);break}case"MultiLineString":{s=b2(a);break}case"MultiPolygon":{s=M2(a,t);break}case"GeometryCollection":{s=T2(a,t);break}case"Circle":{s={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return s}function T2(a,t){return t=Object.assign({},t),delete t.featureProjection,{type:"GeometryCollection",geometries:a.getGeometriesArray().map(function(s){return Od(s,t)})}}function R2(a,t){return{type:"LineString",coordinates:a.getCoordinates()}}function b2(a,t){return{type:"MultiLineString",coordinates:a.getCoordinates()}}function A2(a,t){return{type:"MultiPoint",coordinates:a.getCoordinates()}}function M2(a,t){let n;return t&&(n=t.rightHanded),{type:"MultiPolygon",coordinates:a.getCoordinates(n)}}function w2(a,t){return{type:"Point",coordinates:a.getCoordinates()}}function O2(a,t){let n;return t&&(n=t.rightHanded),{type:"Polygon",coordinates:a.getCoordinates(n)}}const De={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class D2 extends Yn{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+Qx,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(De.ELEMENT,this.handleElementChanged),this.addChangeListener(De.MAP,this.handleMapChanged),this.addChangeListener(De.OFFSET,this.handleOffsetChanged),this.addChangeListener(De.POSITION,this.handlePositionChanged),this.addChangeListener(De.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(De.ELEMENT)}getId(){return this.id}getMap(){return this.get(De.MAP)||null}getOffset(){return this.get(De.OFFSET)}getPosition(){return this.get(De.POSITION)}getPositioning(){return this.get(De.POSITIONING)}handleElementChanged(){cE(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),Kt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=wt(t,Ti.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(De.ELEMENT,t)}setMap(t){this.set(De.MAP,t)}setOffset(t){this.set(De.OFFSET,t)}setPosition(t){this.set(De.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(De.POSITION))return;const s=this.getRect(n.getTargetElement(),n.getSize()),r=this.getElement(),o=this.getRect(r,[$x(r),tC(r)]);t=t||{};const c=t.margin===void 0?20:t.margin;if(!oa(s,o)){const h=o[0]-s[0],d=s[2]-o[2],_=o[1]-s[1],m=s[3]-o[3],y=[0,0];if(h<0?y[0]=h-c:d<0&&(y[0]=Math.abs(d)+c),_<0?y[1]=_-c:m<0&&(y[1]=Math.abs(m)+c),y[0]!==0||y[1]!==0){const E=n.getView().getCenterInternal(),S=n.getPixelFromCoordinateInternal(E);if(!S)return;const x=[S[0]+y[0],S[1]+y[1]],R=t.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(x),duration:R.duration,easing:R.easing})}}}getRect(t,n){const s=t.getBoundingClientRect(),r=s.left+window.pageXOffset,o=s.top+window.pageYOffset;return[r,o,r+n[0],o+n[1]]}setPositioning(t){this.set(De.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}const s=t.getPixelFromCoordinate(n),r=t.getSize();this.updateRenderedPosition(s,r)}updateRenderedPosition(t,n){const s=this.element.style,r=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const c=`${t[0]+r[0]}px`,h=`${t[1]+r[1]}px`;let d="0%",_="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?d="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(d="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?_="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(_="-50%");const m=`translate(${d}, ${_}) translate(${c}, ${h})`;this.rendered.transform_!=m&&(this.rendered.transform_=m,s.transform=m)}getOptions(){return this.options}}function L2(){const a=ee("EPSG:3857");if(!a)throw new Error("Projection not found");const t=a.getExtent(),n=256,s=18,o=(t[2]-t[0])/n,c=[],h=[];for(let _=0;_<=s;_++)c[_]=o/Math.pow(2,_),h[_]=String(_);const d=new qR({origin:bs(t),resolutions:c,matrixIds:h,tileSize:n});return new c2({url:"https://cache.kartverket.no/v1/wmts/1.0.0/topo/default/3857/{TileMatrix}/{TileRow}/{TileCol}.png",layer:"topo",matrixSet:"3857",format:"image/png",projection:a,tileGrid:d,style:"default",wrapX:!0,crossOrigin:"anonymous"})}function z2(){const a=br.useRef(null),t=br.useRef(null),n=br.useRef(null);return br.useEffect(()=>{if(!a.current)return;const s=new _2({dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),r=new Mp({url:"/Kartbasert-websystemer-/geojson/bydeler.geojson",format:s}),o=new Mp({url:"/Kartbasert-websystemer-/geojson/skoler.geojson",format:s}),c=new dR({source:L2()}),h=new Cp({source:r,style:new wi({stroke:new Sa({color:"#0b3d91",width:2}),fill:new Ts({color:"rgba(11, 61, 145, 0.15)"})})}),d=E=>{const x=E.getProperties(),R=x.antall_elever??0,C=Number.isFinite(R)?Number(R):0,w=Math.max(4,Math.min(22,Math.sqrt(C)*.9)),D=(x.eierforhold??"").toLowerCase().includes("privat")?"rgba(255,165,0,0.9)":"rgba(0,140,255,0.9)";return new wi({image:new no({radius:w,fill:new Ts({color:D}),stroke:new Sa({color:"rgba(255,255,255,0.95)",width:2})})})},_=new Cp({source:o,style:d}),m=new D2({element:t.current??void 0,positioning:"bottom-center",offset:[0,-12],stopEvent:!1}),y=new KT({target:a.current,layers:[c,h,_],overlays:[m],view:new Vn({center:Ex([10.75,59.91]),zoom:5,minZoom:4})});return setTimeout(()=>y.updateSize(),0),r.once("change",()=>{if(r.getState()==="ready"){const E=r.getExtent();E&&E[0]!==1/0&&y.getView().fit(E,{padding:[40,40,40,40],maxZoom:12})}}),y.on("pointermove",E=>{if(!n.current)return;const S=y.forEachFeatureAtPixel(E.pixel,R=>R);if(!S){m.setPosition(void 0);return}const x=S.getProperties();if(!x?.navn){m.setPosition(void 0);return}n.current.innerHTML=`
        <div style="font-weight:600;margin-bottom:4px;">${x.navn}</div>
        <div style="font-size:12px;opacity:0.85;">
          Elever: ${x.antall_elever??"?"}  Eier: ${x.eierforhold??"?"}
        </div>
      `,m.setPosition(E.coordinate)}),()=>{y.setTarget(void 0)}},[]),gs.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[gs.jsx("div",{ref:a,style:{width:"100%",height:"100%"}}),gs.jsx("div",{ref:t,style:{position:"absolute",background:"white",padding:"8px 10px",borderRadius:"8px",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 2px 10px rgba(0,0,0,0.15)",fontSize:"14px",pointerEvents:"none",whiteSpace:"nowrap"},children:gs.jsx("div",{ref:n})})]})}function I2(){return gs.jsx("div",{className:"app",children:gs.jsx(z2,{})})}pS.createRoot(document.getElementById("root")).render(gs.jsx(br.StrictMode,{children:gs.jsx(I2,{})}));
